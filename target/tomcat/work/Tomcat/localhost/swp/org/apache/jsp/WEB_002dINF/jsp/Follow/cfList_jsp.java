/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-09-07 03:05:31 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.Follow;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class cfList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');

	String appPath = request.getContextPath();
	String ticketId = (String) request.getAttribute("ticketId");

      out.write('\n');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/user_top.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("title", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("我的收藏", request.getCharacterEncoding()), out, true);
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/wasteCircleMenu.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("menuId", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("#myFollow", request.getCharacterEncoding()), out, true);
      out.write("\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/wastecircle/style.css?5\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/myBusiness/sign.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/pc/css/money-dialog.css?3\">\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath);
      out.write("/thirdparty/city-picker/js/city-picker.data.js\"></script>\n");
      out.write("<section style=\"margin-bottom: 0 !important;\">\n");
      out.write("\t<div class=\"el-breadcrumb\">\n");
      out.write("        <span class=\"el-breadcrumb__item\">\n");
      out.write("            <span class=\"el-breadcrumb__item__inner\">我的收藏</span>\n");
      out.write("        </span>\n");
      out.write("\t</div>\n");
      out.write("\t<div id=\"app\">\n");
      out.write("\t\t<template>\n");
      out.write("\t\t\t<div class=\"ent_container\">\n");
      out.write("\t\t\t\t<div class=\"item_container\" v-for=\"(item,index) in list\">\n");
      out.write("\t\t\t\t\t<div class=\"item\">\n");
      out.write("\t\t\t\t\t\t<div class=\"item_logo\">\n");
      out.write("\t\t\t\t\t\t\t<img :src=\"item.imgSrc\">\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"item_message\">\n");
      out.write("\t\t\t\t\t\t\t<p class=\"item_info\">\n");
      out.write("                                <span class=\"item_name\"><span @click=\"entDetail(item.isPay,item.releaseId,index)\">{{item.entName}}</span>\n");
      out.write("                                    ");
      out.write("\n");
      out.write("                                </span>\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"item_publish\"><i class=\"time_icon\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t发布于{{item.releaseDate.substring(0,7)}}\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t\t\t<p class=\"item_address\" v-if=\"item.entAddress\"><i class=\"publisharea\"></i>{{item.entAddress}}<span>（距离{{item.distance}}公里）</span>\n");
      out.write("\t\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t\t\t<p v-else style=\"height:10px\"></p>\n");
      out.write("\t\t\t\t\t\t\t<p class=\"total_amount\"> 总计：<span> {{item.totalWasteCount}} </span> 种危废，累计<span>{{item.totalWasteAmountDesc}}</span>。你可处置的危废有:<span> {{item.disposalWasteCount||0}} </span>\n");
      out.write("\t\t\t\t\t\t\t\t种危废{{item.disposalWasteAmount?',累计':''}}<span>{{item.disposalWasteAmount||''}}</span>。\n");
      out.write("\t\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"itemReleaseList\">\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"itemRelease\" v-for=\"(wasteItem,index) in item.releaseWasteDetails\"\n");
      out.write("\t\t\t\t\t\t\t\t\t :class=\"{'grey':!wasteItem.disposable}\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span>{{wasteItem.wasteName}}</span><span>{{wasteItem.wasteCode}}</span><span>{{wasteItem.wasteAmount}}{{wasteItem.unitValue}}</span>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<el-row :gutter=\"10\" style=\"padding-right: 20px;margin-top: 9px;word-wrap: break-word;\"\n");
      out.write("\t\t\t\t\t\t\t\t\tv-show=\"!item.releaseRemark==''\">\n");
      out.write("\t\t\t\t\t\t\t\t<span><b>备注：</b>{{item.releaseRemark}}。</span>\n");
      out.write("\t\t\t\t\t\t\t</el-row>\n");
      out.write("\t\t\t\t\t\t\t<el-row :gutter=\"10\" style=\"padding-right: 20px;margin-top: 9px;text-align: right\">\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" v-if=\"item.deleteFlag==1\" style=\"margin-right:10px;cursor: default \" >\n");
      out.write("\t\t\t\t\t\t\t\t\t询价被撤销\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button style=\"cursor: default;margin-right: 29px; \" type=\"text\" v-if=\"item.releaseStatus=='DONE' ||  item.releaseStatus=='END'\" >\n");
      out.write("\t\t\t\t\t\t\t\t\t{{item.releaseStatusValue}}\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" :class=\"{'favorited':item.favorited,favorite_logo:true}\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   href=\"javascript:\" @click=\"favorite(item,index)\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<i class=\"favorite\"></i>{{item.favorited?'已':''}}收藏\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" class=\"qipao_logo\" href=\"javascript:\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   v-if=\"item.facilitatorEntId\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   @click=\"contact(item.facilitatorEntId,item.entName,item.isPay,item.releaseId,index)\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   style=\"margin-right: 18px;margin-left: 18px\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<img src=\"../main/pc/img/qipao.jpg\">联系TA\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" class=\"qipao_logo\" href=\"javascript:\" v-else\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   @click=\"contact(item.releaseEntId,item.entName,item.isPay,item.releaseId,index)\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   style=\"margin-right: 18px;margin-left: 18px\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<img src=\"../main/pc/img/qipao.jpg\">联系TA\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" href=\"javascript:\" style=\"margin-right:10px\" v-if=\"item.inquiryStatus=='1'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   @click=\"updateInquiry(item,index)\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<i class=\"el-icon-circle-check\" style=\"color: #1171d1; font-size: 16px;margin-right: 3px;\"></i>已报价\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"text\" href=\"javascript:\" style=\"margin-right:10px\" class=\"goDetail\" v-if=\"item.inquiryStatus=='0'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t   @click=\"buy(item,index)\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<i class=\"responsepublish\"></i>报价\n");
      out.write("\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t</el-row>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"loadComplete\" v-show=\"list.length==0&&!listLoading\">暂无相关数据</div>\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<div class=\"loadComplete\" v-show=\"loadComplete&&list.length>0\">数据加载完成</div>\n");
      out.write("\t\t\t<div class=\"loading\" v-show=\"listLoading&&!loadComplete\"><img src=\"");
      out.print(appPath );
      out.write("/main/pc/img/load.gif\">\n");
      out.write("\t\t\t</div>\n");
      out.write("\t\t\t<el-dialog\n");
      out.write("\t\t\t\t\tclass=\"no-company-dialog\"\n");
      out.write("\t\t\t\t\ttitle=\"\"\n");
      out.write("\t\t\t\t\twidth=\"470px\"\n");
      out.write("\t\t\t\t\t:visible.sync=\"showlicence\"\n");
      out.write("\t\t\t\t\tcenter>\n");
      out.write("\t\t\t\t<img src=\"");
      out.print(appPath);
      out.write("/main/pc/img/noCompany.png\" class=\"noCompany-img\"/>\n");
      out.write("\t\t\t\t<div class=\"no-company-bg\">\n");
      out.write("\t\t\t\t\t<div class=\"noCompany-text\">{{entParam.licenceAuditStatus?'你的许可证正在审核中':'为了你更好的工作，请创建许可证'}}</div>\n");
      out.write("\t\t\t\t\t<a href=\"javascript:\" class=\"noCompany-btn\" v-if=\"!entParam.hasLicence&&!entParam.licenceAuditStatus\" @click=\"goLicenceEdit\">去创建许可证</a>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</el-dialog>\n");
      out.write("\t\t\t<el-dialog :visible.sync=\"entDialogVisible\" size=\"tiny\" :modal-append-to-body=\"false\" title=\"\"\n");
      out.write("\t\t\t\t\t   class=\"entDialog\">\n");
      out.write("\t\t\t\t<div class=\"title\"><i class=\"el-icon-information\"></i>为了让产废企业更好的了解贵公司，我们建议你完善贵公司信息\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"entContent\">\n");
      out.write("\t\t\t\t\t<div class=\"entContentItem\" :class=\"{'ok':entParam.hasSummary}\">\n");
      out.write("\t\t\t\t\t\t\t<span>\n");
      out.write("\t\t\t\t\t\t\t\t1.企业概况\n");
      out.write("\t\t\t\t\t\t\t\t<i v-if=\"entParam.hasSummary\" class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-circle-close\"></i>\n");
      out.write("\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<b>{{entParam.hasSummary?'已完成!':'未填写企业概述'}}</b>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<div class=\"entContentItem\" style=\"margin-bottom: 0\" :class=\"{'ok':entParam.hasSalesNote}\">\n");
      out.write("\t\t\t\t\t\t\t<span>\n");
      out.write("\t\t\t\t\t\t\t\t2.销售及合同\n");
      out.write("\t\t\t\t\t\t\t\t<i v-if=\"entParam.hasSalesNote\" class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-circle-close\"></i>\n");
      out.write("\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<b>{{entParam.hasSalesNote?'已完成!':'未填写销售说明'}}</b>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"entBtnDiv\">\n");
      out.write("\t\t\t\t\t<div>\n");
      out.write("\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"goCzEdit\">去完善&nbsp;&nbsp;></el-button>\n");
      out.write("\t\t\t\t\t\t<el-button type=\"text\" @click=\"hideEntDialog\">以后再说</el-button>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<el-button type=\"text\" style=\"margin-top: 20px\" @click=\"viewExample\">查看案例></el-button>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</el-dialog>\n");
      out.write("\t\t\t<el-dialog\n");
      out.write("\t\t\t\t\tclass=\"money-dialog\"\n");
      out.write("\t\t\t\t\ttitle=\"\"\n");
      out.write("\t\t\t\t\t@close=\"paySuccess&&payCallback\"\n");
      out.write("\t\t\t\t\t:visible.sync=\"moneyShow\"\n");
      out.write("\t\t\t\t\tcenter>\n");
      out.write("\t\t\t\t<div class=\"money-dialog-bg\">\n");
      out.write("\t\t\t\t\t<div class=\"money-text1\" v-if=\"paySuccess\"><i class=\"yinhao\"></i><span\n");
      out.write("\t\t\t\t\t\t\tstyle=\"color: #7b3e04;font-weight: bold;\">支付成功！</span><i class=\"yinhao\"></i></div>\n");
      out.write("\t\t\t\t\t<div class=\"money-text1\" v-else><i class=\"yinhao\"></i>您需要花费<b>8个</b>易废币<i class=\"yinhao\"></i></div>\n");
      out.write("\t\t\t\t\t<div class=\"money-text2\" v-if=\"paySuccess\">您现在可以进行报价。</div>\n");
      out.write("\t\t\t\t\t<div class=\"money-text2\" v-else>来进行报价。</div>\n");
      out.write("\t\t\t\t\t<div class=\"money-text3\">当前账户余额：<b>{{myBitAmount}}</b>个易废币</div>\n");
      out.write("\t\t\t\t\t<div class=\"money-btn-div\">\n");
      out.write("\t\t\t\t\t\t<el-button class=\"confirm-btn\" v-if=\"myBitAmount>=8&&!paySuccess\" @click=\"confirmPay()\">确定支付\n");
      out.write("\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t<el-button class=\"confirm-btn\" v-if=\"myBitAmount<8&&!paySuccess\" @click=\"recharge()\">立即充值\n");
      out.write("\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t<el-button class=\"recharge-btn\" v-if=\"paySuccess\" @click=\"cancel\">立即查看</el-button>\n");
      out.write("\t\t\t\t\t\t<el-button class=\"cancel-btn\" type=\"text\" @click=\"cancel\">取 消</el-button>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<div class=\"money-time-tip\" v-if=\"paySuccess\">{{remainTime}}秒后自动关闭</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</el-dialog>\n");
      out.write("\t\t\t<el-dialog\n");
      out.write("\t\t\t\t\tclass=\"fee-bit-dialog\"\n");
      out.write("\t\t\t\t\ttitle=\"\"\n");
      out.write("\t\t\t\t\t:visible.sync=\"freeBitShow\"\n");
      out.write("\t\t\t\t\tcenter>\n");
      out.write("\t\t\t\t<div class=\"free-bit-bg\">\n");
      out.write("\t\t\t\t\t<div class=\"money-btn-div\" style=\"bottom: 114px\">\n");
      out.write("\t\t\t\t\t\t<el-button class=\"confirm-btn\" @click=\"getFreeBitcion()\">立即领取</el-button>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t</el-dialog>\n");
      out.write("\t\t</template>\n");
      out.write("\t</div>\n");
      out.write("\n");
      out.write("\t<!-- 先引入 Vue -->\n");
      out.write("\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue.min.js\"></script>\n");
      out.write("\t<!-- 引入组件库 -->\n");
      out.write("\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.js\"></script>\n");
      out.write("\t<script src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js\"></script>\n");
      out.write("\t<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/la-number/la-number.js\"></script>\n");
      out.write("\t<script src=\"");
      out.print(appPath );
      out.write("/main/pc/js/wasteInfoList.js\"></script>\n");
      out.write("\t<script>\n");
      out.write("        var vue = new Vue({\n");
      out.write("            el: '#app',\n");
      out.write("            data: {\n");
      out.write("                pageIndex: 1,\n");
      out.write("                pageSize: 5,\n");
      out.write("                list: [],\n");
      out.write("                listLoading: true,\n");
      out.write("                loadComplete: false,\n");
      out.write("                provinces: ChineseDistricts['provinces'],\n");
      out.write("                allProvincesShow: false,\n");
      out.write("                province: '',\n");
      out.write("                cityList: null,\n");
      out.write("                city: '',\n");
      out.write("                districts: null,\n");
      out.write("                district: '',\n");
      out.write("                wasteInfoList: wasteInfoList,\n");
      out.write("                eightCodeList: [],\n");
      out.write("                allWasteShow: false,\n");
      out.write("                currentCode: '',\n");
      out.write("                currentIndex: 0,\n");
      out.write("                wasteCode: {},\n");
      out.write("                provinceName: '',\n");
      out.write("                cityName: '',\n");
      out.write("                districtName: '',\n");
      out.write("                areaName: '',\n");
      out.write("                cantonCode: '',\n");
      out.write("                qualityType: 0,\n");
      out.write("                favoriteType: true,\n");
      out.write("                entDialogVisible: false,\n");
      out.write("                entParam: {\n");
      out.write("                    hasSalesNote: true,\n");
      out.write("                    hasSummary: true,\n");
      out.write("                    hasLicence:true,\n");
      out.write("                    licenceAuditStatus:false\n");
      out.write("                },\n");
      out.write("                showlicence:false,\n");
      out.write("                signDialogVisible: false,\n");
      out.write("                signDialogloading: false,\n");
      out.write("                signType: '',\n");
      out.write("                signTypeList: [],\n");
      out.write("                SIGNTYPE: SIGNTYPE,\n");
      out.write("                say: '',\n");
      out.write("                sampleDate: '',\n");
      out.write("                sampleName: '',\n");
      out.write("                sampleMobile: '',\n");
      out.write("                sampleStatus: 'DELIVERED_LAB',\n");
      out.write("                signFormShow: false,\n");
      out.write("                signItem: {},\n");
      out.write("                signList: [],\n");
      out.write("                contractStatus: 'DRAFTCONTRACT',\n");
      out.write("                TAGSTATUS: TAGSTATUS,\n");
      out.write("                moneyShow: false,\n");
      out.write("                paySuccess: false,\n");
      out.write("                remainTime: 3,\n");
      out.write("                myBitAmount: 0,\n");
      out.write("                currentReleaseId: '',\n");
      out.write("                currentReleaseIndex: 0,\n");
      out.write("                binding: 0,\n");
      out.write("                freeBitShow: false,\n");
      out.write("                moreShow: false,\n");
      out.write("                payCallback: function () {}\n");
      out.write("            },\n");
      out.write("            created: function () {\n");
      out.write("                this.selectProvince('','');\n");
      out.write("            },\n");
      out.write("            mounted: function () {\n");
      out.write("                $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("                $('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("//                $('#wasteCode_select').show();\n");
      out.write("                var _this = this;\n");
      out.write("                $(window).scroll(function () {\n");
      out.write("                    if (_this.loadComplete) {\n");
      out.write("                        return;\n");
      out.write("                    }\n");
      out.write("                    var scrollTop = $(this).scrollTop();\n");
      out.write("                    var scrollHeight = $(document).height();\n");
      out.write("                    var windowHeight = $(this).height();\n");
      out.write("                    if (scrollTop + windowHeight + 100 >= scrollHeight) {\n");
      out.write("                        if (!_this.listLoading) {\n");
      out.write("                            _this.listLoading = true;\n");
      out.write("//                                setTimeout(function () {\n");
      out.write("                            _this.getList();\n");
      out.write("//                                },1000)\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("                $('#total_checkbox').on('click', function () {\n");
      out.write("                    var flag = $(this).hasClass('select');\n");
      out.write("                    var item = vue.wasteInfoList[vue.currentIndex];\n");
      out.write("                    if (flag) {\n");
      out.write("                        $(this).removeClass('select');\n");
      out.write("                        delete vue.wasteCode[vue.currentCode];\n");
      out.write("                        item.select = false;\n");
      out.write("                        Vue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("\n");
      out.write("                    } else {\n");
      out.write("                        $(this).addClass('select');\n");
      out.write("                        item.select = true;\n");
      out.write("                        Vue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("                        Vue.set(vue.wasteCode, vue.currentCode, vue.currentIndex);\n");
      out.write("                    }\n");
      out.write("                    for (var index in vue.eightCodeList) {\n");
      out.write("                        var item = vue.eightCodeList[index];\n");
      out.write("                        item.select = !flag;\n");
      out.write("                        Vue.set(vue.eightCodeList, index, item)\n");
      out.write("                    }\n");
      out.write("                    if (flag && vue.isAllNotSelectEightCode(vue.eightCodeList)) {\n");
      out.write("                        vue.eightCodeList = [];\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("                this.cityClick = false;\n");
      out.write("            },\n");
      out.write("            methods: {\n");
      out.write("                cancel: function () {\n");
      out.write("                    this.moneyShow = false;\n");
      out.write("                    if (this.paySuccess) {\n");
      out.write("                        this.payCallback()\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                selectBinding: function (binding) {\n");
      out.write("                    this.binding = binding;\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                search: function () {\n");
      out.write("                    this.list = [];\n");
      out.write("                    this.pageIndex = 1;\n");
      out.write("                    this.listLoading = true;\n");
      out.write("                    this.loadComplete = false;\n");
      out.write("                    this.getList();\n");
      out.write("                },\n");
      out.write("                getParamInfo: function () {\n");
      out.write("                    var amountIntervalStr = ['', '0,3', '3,5', '5,10', '10,30', '30,100', '100,300', '300,1000', '1000'][this.qualityType];\n");
      out.write("                    var param = {};\n");
      out.write("                    var wasteCodeList = this.getWasteCodeList();\n");
      out.write("                    if (wasteCodeList.length > 0) {\n");
      out.write("                        param.wasteCodeList = wasteCodeList;\n");
      out.write("                    }\n");
      out.write("                    if (this.cantonCode) {\n");
      out.write("                        param.cantonCodeList = [this.cantonCode];\n");
      out.write("                    }\n");
      out.write("                    if (amountIntervalStr) {\n");
      out.write("                        param.amountIntervalStr = [amountIntervalStr];\n");
      out.write("                    }\n");
      out.write("                    param.favorited = this.favoriteType;\n");
      out.write("                    param.binding = ['', true, false][this.binding];\n");
      out.write("                    return param;\n");
      out.write("                },\n");
      out.write("                getWasteCodeList: function () {\n");
      out.write("                    var arr = [];\n");
      out.write("                    for (var key in this.wasteCode) {\n");
      out.write("                        var value = this.wasteCode[key];\n");
      out.write("                        if (typeof value == 'number' || typeof value == 'string') {\n");
      out.write("                            arr.push(key.substring(2, 4));\n");
      out.write("                        } else {\n");
      out.write("                            for (var j in value) {\n");
      out.write("                                if (value[j]['select'] == true) {\n");
      out.write("                                    arr.push(value[j]['code']);\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    return arr;\n");
      out.write("                },\n");
      out.write("                getList: function () {\n");
      out.write("                    var _this = this;\n");
      out.write("                    var param = this.getParamInfo() || {};\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entRelease/listWasteEntRelease.htm?ticketId=' + getParam('ticketId') + '&pageIndex=' + (this.pageIndex++) + '&pageSize=' + this.pageSize,\n");
      out.write("                        dataType: 'json',\n");
      out.write("                        contentType: 'application/json',\n");
      out.write("                        data: JSON.stringify(param),\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            _this.listLoading = false;\n");
      out.write("                            if (result.status == 1 && result.data) {\n");
      out.write("                                if (result.data.length < _this.pageSize) {\n");
      out.write("                                    _this.loadComplete = true;\n");
      out.write("                                }\n");
      out.write("                                for (var i in result.data) {\n");
      out.write("//                                        result.data[i]['favorite']=false;//默认设置未收藏\n");
      out.write("                                    if (result.data[i]['fileId']) {\n");
      out.write("                                        result.data[i]['imgSrc'] = IMG_VIEW_URL + '&fileID=' + result.data[i]['fileId'];\n");
      out.write("                                    } else {\n");
      out.write("                                        result.data[i]['imgSrc'] = \"");
      out.print(appPath);
      out.write("/main/pc/img/company_logo.png\";\n");
      out.write("                                    }\n");
      out.write("                                    result.data[i]['isPay'] = result.data[i]['entBindStatus'] == 1;\n");
      out.write("                                    _this.list.push(result.data[i]);\n");
      out.write("                                }\n");
      out.write("                            } else {\n");
      out.write("\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    })\n");
      out.write("                },\n");
      out.write("                getWasteInfo: function () {\n");
      out.write("                    var _this = this;\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/yifeiwaste/listWasteInfo.htm',\n");
      out.write("                        success: function (data) {\n");
      out.write("                            console.log(data);\n");
      out.write("                            for (var i in data.data) {\n");
      out.write("                                data.data[i]['select'] = false;\n");
      out.write("                                for (var j in data.data[i].wasteList) {\n");
      out.write("                                    data.data[i].wasteList[j]['parentCode'] = data.data[i].code;\n");
      out.write("                                    data.data[i].wasteList[j]['parentIndex'] = i;\n");
      out.write("                                    data.data[i].wasteList[j]['index'] = j;\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                            _this.wasteInfoList = data.data;\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("\n");
      out.write("                },\n");
      out.write("                checkBitcionAccountExist: function () {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entBitcionAccount/bitcionAccountExist.htm',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1 && !result.data) {\n");
      out.write("                                vue.freeBitShow = true;\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                getFreeBitcion: function () {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entBitcionAccount/getFreeBitcion.htm',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                $.notify('领取成功', {status: 'success', timeout: 2000});\n");
      out.write("                                vue.freeBitShow = false;\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                favorite: function (item, index) {\n");
      out.write("                    var url = item.favorited ? '/entFavorite/cancelEntFavorite' : '/entFavorite/addEntFavorite';\n");
      out.write("                    ajax({\n");
      out.write("                        url: url,\n");
      out.write("                        data: {\n");
      out.write("                            entId: window.globalInit.enterpriseId,\n");
      out.write("                            referenceId: item.releaseId,\n");
      out.write("                            favoriteType: 'MSGID'\n");
      out.write("                        },\n");
      out.write("                        success: function (data) {\n");
      out.write("                            if (data.status == 1 && data.data) {\n");
      out.write("                                var msg = item.favorited ? '取消' : '';\n");
      out.write("                                $.notify(msg + '收藏成功', {status: 'success', timeout: 1000});\n");
      out.write("                                item.favorited = !item.favorited;\n");
      out.write("                                Vue.set(vue.list, index, item);\n");
      out.write("                                if (vue.favoriteType) {\n");
      out.write("                                    vue.search();\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                selectFavorite: function (favoriteType) {\n");
      out.write("                    this.favoriteType = favoriteType;\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                checkEntAccount: function () {\n");
      out.write("                    vue.paySuccess = false;\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entBitcionAccount/checkEntAccount.htm?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                        data: JSON.stringify({\n");
      out.write("                            consumeAmount: 8\n");
      out.write("                        }),\n");
      out.write("                        contentType: 'application/json',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                vue.myBitAmount = result.data.bitcion;\n");
      out.write("                                vue.moneyShow = true;\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                updateRemark: function (serviceId, entName) {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entBindServe/updateBindServe?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                        data: JSON.stringify({\n");
      out.write("                            id: serviceId,\n");
      out.write("                            remark: '支付“' + entName + '”发布的危废处置权'\n");
      out.write("                        }),\n");
      out.write("                        contentType: 'application/json',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                showEntBaseInfo: function (serviceId) {\n");
      out.write("                    var item = this.list[this.currentReleaseIndex];\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/enterprise/getEnterpriseInfoByEntId',\n");
      out.write("                        data: {\n");
      out.write("                            entId: item.releaseEntId\n");
      out.write("                        },\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                item.entName = result.data.entName;\n");
      out.write("                                item.entAddress = result.data.entAddress;\n");
      out.write("                                item.isPay = true;\n");
      out.write("                                Vue.set(vue.list, vue.currentReleaseIndex, item);\n");
      out.write("                                vue.updateRemark(serviceId, item.entName);\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                confirmPay: function () {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/entBindServe/saveBindServe.htm?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                        data: JSON.stringify({\n");
      out.write("                            consumeAmount: 8,\n");
      out.write("                            bindServiceId: this.currentReleaseId,\n");
      out.write("                            serviceType: 'RESOURCE_POOL'\n");
      out.write("                        }),\n");
      out.write("                        contentType: 'application/json',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                vue.paySuccess = true;\n");
      out.write("                                vue.remainTime = 3;\n");
      out.write("                                vue.myBitAmount =  vue.myBitAmount - 8;\n");
      out.write("                                var timer = setInterval(function () {\n");
      out.write("                                    vue.remainTime -= 1;\n");
      out.write("                                    if (vue.remainTime == 0) {\n");
      out.write("                                        clearInterval(timer);\n");
      out.write("                                        vue.moneyShow = false;\n");
      out.write("                                        vue.payCallback && typeof vue.payCallback == 'function' && vue.payCallback();\n");
      out.write("                                    }\n");
      out.write("                                }, 1000);\n");
      out.write("                                vue.showEntBaseInfo(result.data);\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                recharge: function () {\n");
      out.write("                    window.location = '");
      out.print(appPath);
      out.write("/personaluser/recharge.htm?ticketId=");
      out.print(ticketId);
      out.write("';\n");
      out.write("                },\n");
      out.write("                goMyBit: function () {\n");
      out.write("                    window.location = '");
      out.print(appPath);
      out.write("/personaluser/myBit.htm?ticketId=");
      out.print(ticketId);
      out.write("&activeName=second';\n");
      out.write("                },\n");
      out.write("                contact: function (entId, entName, isPay, releaseId, index) {\n");
      out.write("                    if (isPay) {\n");
      out.write("                        getEnterpriseContacts(entId, entName, '资源池');\n");
      out.write("                    } else {\n");
      out.write("                        this.payCallback = function () {\n");
      out.write("                            getEnterpriseContacts(entId, entName, '资源池');\n");
      out.write("                        };\n");
      out.write("                        this.currentReleaseId = releaseId;\n");
      out.write("                        this.currentReleaseIndex = index;\n");
      out.write("                        this.checkEntAccount();\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                buy: function (item, index) {\n");
      out.write("                    if (!item.isPay) {\n");
      out.write("                        this.payCallback = function () {\n");
      out.write("                            var releaseId = item.releaseId;\n");
      out.write("                            var facilitatorEntIdStr = item.facilitatorEntId ? ('&facilitatorEntId=' + item.facilitatorEntId) : '';\n");
      out.write("                            var src = appPath + '/entRelease/cfBuy.htm?ticketId=' + getParam('ticketId') + '&releaseId=' + releaseId + \"&breadcrumbName=资源池\" + facilitatorEntIdStr;\n");
      out.write("                            window.location = src;\n");
      out.write("                        };\n");
      out.write("                        this.currentReleaseId = item.releaseId;\n");
      out.write("                        this.currentReleaseIndex = index;\n");
      out.write("                        this.checkEntAccount();\n");
      out.write("                        return;\n");
      out.write("                    }\n");
      out.write("                    var releaseId = item.releaseId;\n");
      out.write("                    var facilitatorEntIdStr = item.facilitatorEntId ? ('&facilitatorEntId=' + item.facilitatorEntId) : '';\n");
      out.write("                    var src = appPath + '/entRelease/cfBuy.htm?ticketId=' + getParam('ticketId') + '&releaseId=' + releaseId + \"&breadcrumbName=资源池\" + facilitatorEntIdStr;\n");
      out.write("                    window.location = src;\n");
      out.write("                },\n");
      out.write("                updateInquiry:function(item,index){\n");
      out.write("                    var releaseId = item.releaseId;\n");
      out.write("                    var facilitatorEntIdStr = item.facilitatorEntId ? ('&facilitatorEntId=' + item.facilitatorEntId) : '';\n");
      out.write("                    var src = appPath + '/entInquiry/list.htm?ticketId=' + getParam('ticketId') + '&releaseEntId=' + item.releaseEntId ;\n");
      out.write("                    window.location = src;\n");
      out.write("                },\n");
      out.write("                entDetail: function (isPay,releaseId,index) {\n");
      out.write("                    if (!isPay) {\n");
      out.write("                        this.currentReleaseId = releaseId;\n");
      out.write("                        this.currentReleaseIndex = index;\n");
      out.write("                        this.checkEntAccount();\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                changeAllProvincesShow: function () {\n");
      out.write("                    if (this.allProvincesShow) {\n");
      out.write("                        $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("                    } else {\n");
      out.write("                        $('#provice_select dd a.provinceItem:gt(7)').show();\n");
      out.write("                    }\n");
      out.write("                    this.allProvincesShow = !this.allProvincesShow;\n");
      out.write("                },\n");
      out.write("                changeAllWasteShow: function () {\n");
      out.write("                    if (this.allWasteShow) {\n");
      out.write("                        $('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("                    } else {\n");
      out.write("                        $('#wasteCode_select dd a.wasteInfoItem:gt(7)').show();\n");
      out.write("                    }\n");
      out.write("                    this.allWasteShow = !this.allWasteShow;\n");
      out.write("                },\n");
      out.write("                selectProvince: function (key, value) {\n");
      out.write("                    this.cityClick = true;\n");
      out.write("                    this.selectPCD(key, value);\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                selectPCD: function (key, value) {\n");
      out.write("                    this.province = key;\n");
      out.write("                    this.provinceName = value;\n");
      out.write("                    if (key) {\n");
      out.write("                        this.cityList = ChineseDistricts[key];\n");
      out.write("                    } else {\n");
      out.write("                        this.cityList = null;\n");
      out.write("                    }\n");
      out.write("                    this.city = '';\n");
      out.write("                    this.district = '';\n");
      out.write("                    this.cityName = '';\n");
      out.write("                    this.districtName = '';\n");
      out.write("                    this.districts = null;\n");
      out.write("                    this.cantonCode = key;\n");
      out.write("                },\n");
      out.write("                selectCity: function (key, value) {\n");
      out.write("                    this.city = key;\n");
      out.write("                    this.cityName = value;\n");
      out.write("                    if (key) {\n");
      out.write("                        this.districts = ChineseDistricts[key];\n");
      out.write("                    } else {\n");
      out.write("                        this.districts = null;\n");
      out.write("                    }\n");
      out.write("                    this.district = '';\n");
      out.write("                    this.districtName = '';\n");
      out.write("                    this.cantonCode = key ? key : this.province;\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                selectDistrict: function (key, value) {\n");
      out.write("                    this.district = key;\n");
      out.write("                    this.districtName = value;\n");
      out.write("                    this.cantonCode = key ? key : (this.city ? this.city : this.province);\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                selectWaste: function (item, index) {\n");
      out.write("                    this.currentCode = item.code;\n");
      out.write("                    this.currentIndex = index;\n");
      out.write("                    item.select = !item.select;\n");
      out.write("                    Vue.set(vue.wasteInfoList, index, item);\n");
      out.write("                    if (item.select) {\n");
      out.write("                        for (var i in item['wasteList']) {\n");
      out.write("                            item['wasteList'][i]['select'] = false;\n");
      out.write("                        }\n");
      out.write("                        this.eightCodeList = item['wasteList'];\n");
      out.write("                        this.wasteCode[item['code']] = index;\n");
      out.write("                        $('#total_checkbox').removeClass('select');\n");
      out.write("                    } else {\n");
      out.write("                        this.eightCodeList = [];\n");
      out.write("                        delete this.wasteCode[item['code']];\n");
      out.write("                    }\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                selectEightCode: function (item, index) {\n");
      out.write("                    item.select = !item.select;\n");
      out.write("                    Vue.set(vue.eightCodeList, index, item);\n");
      out.write("                    if (!item.select) {\n");
      out.write("                        if (this.isAllNotSelectEightCode(vue.eightCodeList)) {\n");
      out.write("                            var item = vue.wasteInfoList[vue.currentIndex];\n");
      out.write("                            delete vue.wasteCode[vue.currentCode];\n");
      out.write("                            item.select = false;\n");
      out.write("                            Vue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("                            $('#total_checkbox').removeClass('select');\n");
      out.write("                            vue.eightCodeList = [];\n");
      out.write("                        } else {\n");
      out.write("                            Vue.set(vue.wasteCode, vue.currentCode, vue.eightCodeList);\n");
      out.write("                        }\n");
      out.write("                    } else if (this.isAllSelectEightCode()) {//是否选择所有八位码\n");
      out.write("                        Vue.set(vue.wasteCode, vue.currentCode, vue.currentIndex);\n");
      out.write("                    } else {\n");
      out.write("                        Vue.set(vue.wasteCode, vue.currentCode, vue.eightCodeList);\n");
      out.write("                    }\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                clearEightCode: function (item) {\n");
      out.write("                    if (item.parentIndex * 1 === vue.currentIndex * 1) {\n");
      out.write("                        this.selectEightCode(item, item.index);\n");
      out.write("                    } else {\n");
      out.write("                        item.select = false;\n");
      out.write("                        var wasteList = vue.wasteCode[item.parentCode];\n");
      out.write("                        wasteList[item.index] = item;\n");
      out.write("                        delete vue.wasteCode[item.parentCode];\n");
      out.write("                        Vue.set(vue.wasteCode, item.parentCode, wasteList);\n");
      out.write("                        if (this.isAllNotSelectEightCode(wasteList)) {\n");
      out.write("                            var item1 = vue.wasteInfoList[item.parentIndex];\n");
      out.write("                            delete vue.wasteCode[item.parentCode];\n");
      out.write("                            item1.select = false;\n");
      out.write("                            Vue.set(vue.wasteInfoList, item.parentIndex, item1);\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                isAllSelectEightCode: function () {\n");
      out.write("                    var flag = true;\n");
      out.write("                    for (var i in vue.eightCodeList) {\n");
      out.write("                        if (!vue.eightCodeList[i]['select']) {\n");
      out.write("                            flag = false;\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    return flag;\n");
      out.write("                },\n");
      out.write("                isAllNotSelectEightCode: function (eightCodeList) {\n");
      out.write("                    var flag = true;\n");
      out.write("                    for (var i in eightCodeList) {\n");
      out.write("                        if (eightCodeList[i]['select']) {\n");
      out.write("                            flag = false;\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    return flag;\n");
      out.write("                },\n");
      out.write("                selectQuality: function (type) {\n");
      out.write("                    this.qualityType = type;\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                getQualityTypeText: function () {\n");
      out.write("                    var arr = ['不限', '3吨以下', '3-5吨', '5-10吨', '10-30吨', '30-100吨', '100-300吨', '300-1000吨', '1000吨以上'];\n");
      out.write("                    return arr[this.qualityType]\n");
      out.write("                },\n");
      out.write("                clearAll: function () {\n");
      out.write("                    this.selectPCD('', '');\n");
      out.write("                    this.qualityType = 0;\n");
      out.write("                    this.eightCodeList = [];\n");
      out.write("                    this.allWasteShow = false;\n");
      out.write("                    this.currentCode = '';\n");
      out.write("                    this.currentIndex = 0;\n");
      out.write("                    this.wasteCode = {};\n");
      out.write("                    $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("                    $('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("                    this.allProvincesShow = false;\n");
      out.write("                    this.allWasteShow = false;\n");
      out.write("                    this.binding = 0;\n");
      out.write("                    this.favoriteType = false;\n");
      out.write("                    for (var index in vue.wasteInfoList) {\n");
      out.write("                        var item = vue.wasteInfoList[index];\n");
      out.write("                        item.select = false;\n");
      out.write("                        Vue.set(vue.wasteInfoList, index, item)\n");
      out.write("                    }\n");
      out.write("                    this.search();\n");
      out.write("                },\n");
      out.write("                goCzEdit: function () {\n");
      out.write("                    window.location = '");
      out.print(appPath);
      out.write("/enterprise/czEdit.htm?ticketId=");
      out.print(ticketId);
      out.write("';\n");
      out.write("                },\n");
      out.write("                goLicenceEdit:function () {\n");
      out.write("                    window.location = '");
      out.print(appPath );
      out.write("/licence/licenceSteps.htm?ticketId=");
      out.print(ticketId );
      out.write("&enterpriseId=' + globalInit.enterpriseId;\n");
      out.write("                },\n");
      out.write("                hideEntDialog: function () {\n");
      out.write("                    this.entDialogVisible = false;\n");
      out.write("                },\n");
      out.write("                viewExample: function () {\n");
      out.write("                    window.location = '");
      out.print(appPath);
      out.write("/enterprise/czDetailExample.htm?ticketId=");
      out.print(ticketId);
      out.write("';\n");
      out.write("                },\n");
      out.write("                checkEntInfoCompleted: function () {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/sysEnterpriseBase/checkEntInfoCompleted',\n");
      out.write("                        success: function (data) {\n");
      out.write("                            if (data.status == 1) {\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                ");
      out.write("\n");
      out.write("                                if ((!data.data.hasSummary || !data.data.hasSalesNote) && !sessionStorage.improve) {\n");
      out.write("                                    sessionStorage.improve = true;\n");
      out.write("                                    vue.entDialogVisible = true;\n");
      out.write("                                }\n");
      out.write("                                Vue.set(vue.entParam, 'hasSummary', data.data.hasSummary);\n");
      out.write("                                Vue.set(vue.entParam, 'hasLicence', data.data.hasLicence);\n");
      out.write("                                Vue.set(vue.entParam, 'licenceAuditStatus', data.data.licenceAuditStatus);\n");
      out.write("                                Vue.set(vue.entParam, 'hasSalesNote', data.data.hasSalesNote);\n");
      out.write("                                vue.showlicence=!data.data.hasLicence&&!data.data.licenceAuditStatus;\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                showSignForm: function () {\n");
      out.write("                    if (this.signType == '') {\n");
      out.write("                        $.notify('请选择标记类型', {status: 'info', timeout: 2500});\n");
      out.write("                        return;\n");
      out.write("                    }\n");
      out.write("                    this.signFormShow = true;\n");
      out.write("                },\n");
      out.write("                delSign: function (id) {\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/discussTag/deleteDiscussTag',\n");
      out.write("                        data: {\n");
      out.write("                            id: id\n");
      out.write("                        },\n");
      out.write("                        success: function (result) {\n");
      out.write("                            if (result.status && result.data) {\n");
      out.write("                                $.notify('删除标记成功', {status: 'success', timeout: 2500});\n");
      out.write("                                vue.getSignList();\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                saveSign: function () {\n");
      out.write("                    var param = {\n");
      out.write("                        releaseId: this.signItem.releaseId,\n");
      out.write("                        tagType: this.signType\n");
      out.write("                    };\n");
      out.write("                    switch (this.signType) {\n");
      out.write("                        case 'TAGING':\n");
      out.write("                            param.comments = this.say;\n");
      out.write("                            param.tagStatus = 'TAGGING';\n");
      out.write("                            break;\n");
      out.write("                        case 'SAMPLING':\n");
      out.write("                            param.sampleDate = this.sampleDate;\n");
      out.write("                            param.contacts = this.sampleName;\n");
      out.write("                            param.contactsTel = this.sampleMobile;\n");
      out.write("                            param.tagStatus = 'SAMPLING';\n");
      out.write("                            break;\n");
      out.write("                        case 'SAMPLE':\n");
      out.write("                            param.tagStatus = this.sampleStatus;\n");
      out.write("                            break;\n");
      out.write("                        case 'CONTRACT':\n");
      out.write("                            param.tagStatus = this.contractStatus;\n");
      out.write("                            break;\n");
      out.write("                    }\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/discussTag/saveDiscussTag.htm?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                        data: JSON.stringify(param),\n");
      out.write("                        contentType: 'application/json',\n");
      out.write("                        success: function (result) {\n");
      out.write("                            if (result.status && result.data) {\n");
      out.write("                                $.notify('添加标记成功', {status: 'success', timeout: 2500});\n");
      out.write("                                vue.signFormShow = false;\n");
      out.write("                                vue.getSignList();\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                getSignList: function () {\n");
      out.write("                    vue.signList = [];\n");
      out.write("                    this.signDialogloading = true;\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/discussTag/listDiscussTag',\n");
      out.write("                        data: {\n");
      out.write("                            releaseId: this.signItem.releaseId\n");
      out.write("                        },\n");
      out.write("                        success: function (result) {\n");
      out.write("                            vue.signDialogloading = false;\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                vue.signList = result.data;\n");
      out.write("                                var busiStatus = '';\n");
      out.write("                                if (result.data.length > 0) {\n");
      out.write("                                    busiStatus = result.data[0]['busiStatus'];\n");
      out.write("                                }\n");
      out.write("                                if (!vue.signItem.tagInfo) {\n");
      out.write("                                    vue.signItem.tagInfo = {'count': 0, tagStatus: ''};\n");
      out.write("                                }\n");
      out.write("                                vue.signItem.tagInfo.tagStatus = TAGSTATUS[busiStatus];\n");
      out.write("                                vue.signItem.tagInfo.count = result.data.length;\n");
      out.write("                                Vue.set(vue.list, vue.signItem.index, vue.signItem);\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                getSign: function (item, index) {\n");
      out.write("                    item.index = index;\n");
      out.write("                    this.signItem = item;\n");
      out.write("                    this.signDialogVisible = true;\n");
      out.write("                    this.signFormShow = false;\n");
      out.write("                    this.signType = '';\n");
      out.write("                    $('body').css('overflow-y', 'hidden');\n");
      out.write("                    if (this.signTypeList.length == 0) {\n");
      out.write("                        this.getSignTypeList();\n");
      out.write("                    }\n");
      out.write("                    this.getSignList();\n");
      out.write("                    var heights = document.body.clientHeight;\n");
      out.write("                    setTimeout(function () {\n");
      out.write("                        $('.signTimeLine').css('max-height', heights - 318 + 'px');\n");
      out.write("                    }, 300)\n");
      out.write("                },\n");
      out.write("                closeSignDialog: function () {\n");
      out.write("                    this.signDialogVisible = false;\n");
      out.write("                    setTimeout(function () {\n");
      out.write("                        $('body').css('overflow-y', 'auto');\n");
      out.write("                    }, 500);\n");
      out.write("                },\n");
      out.write("                getSignTypeList: function () {\n");
      out.write("                    var _this = this;\n");
      out.write("                    ajax({\n");
      out.write("                        url: '/codeType/listCodeValue',\n");
      out.write("                        data: {\n");
      out.write("                            typeCode: 'TAG_TYPE'\n");
      out.write("                        },\n");
      out.write("                        success: function (result) {\n");
      out.write("                            console.log(result);\n");
      out.write("                            if (result.status == 1) {\n");
      out.write("                                _this.signTypeList = result.data;\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    })\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("        })\n");
      out.write("\t</script>\n");
      out.write("</section>\n");
      out.write("\n");
      out.write('\n');
      out.write('\n');
      out.write('\n');
      out.write("\n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("    $(document).ready(function () {\n");
      out.write("        var rs = window.globalInit();\n");
      out.write("        rs.done(function () {\n");
      out.write("        });\n");
      out.write("    });\n");
      out.write("</script>\n");
      out.write("</body>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
