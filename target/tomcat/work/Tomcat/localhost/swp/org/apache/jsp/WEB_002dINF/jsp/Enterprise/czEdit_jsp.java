/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-08-24 03:16:25 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.Enterprise;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class czEdit_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');

	String appPath=request.getContextPath();
	String ticketId = (String)request.getAttribute("ticketId");

      out.write('\n');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/user_top.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("title", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("企业信息维护", request.getCharacterEncoding()), out, true);
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/wasteCircleMenu.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("menuId", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("#myCZEnterprise", request.getCharacterEncoding()), out, true);
      out.write("\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/enterprise/detail.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/enterprise/timeline.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/upload/upload.css\" />\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath);
      out.write("/thirdparty/city-picker/js/city-picker.data.js\"></script>\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js\"></script>\n");
      out.write("<script src=\"");
      out.print(appPath);
      out.write("/main/common/upload/upload.js\"></script>\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue-html5-editor.js\"></script>\n");
      out.write("\n");
      out.write("<section>\n");
      out.write("\t<div class=\"el-breadcrumb\">\n");
      out.write("        <span class=\"el-breadcrumb__item\">\n");
      out.write("            <span class=\"el-breadcrumb__item__inner\">我的企业</span>\n");
      out.write("            <span class=\"el-breadcrumb__separator\">/</span>\n");
      out.write("        </span>\n");
      out.write("\t\t<span class=\"el-breadcrumb__item\">\n");
      out.write("            <span class=\"el-breadcrumb__item__inner\">完善信息</span>\n");
      out.write("            <span class=\"el-breadcrumb__separator\">/</span>\n");
      out.write("        </span>\n");
      out.write("\t</div>\n");
      out.write("\t<div>\n");
      out.write("\t\t<div id=\"app\">\n");
      out.write("\t\t\t<template>\n");
      out.write("\t\t\t\t<el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\n");
      out.write("\t\t\t\t\t<el-tab-pane name=\"first\" class=\"first\">\n");
      out.write("\t\t\t\t\t\t<span slot=\"label\">企业概述\n");
      out.write("\t\t\t\t\t\t\t<i v-if=\"summary\" class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t\t<i v-else class=\"fa fa-minus-circle\"></i>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<div class=\"tabTitle\">\n");
      out.write("\t\t\t\t\t\t\t完善企业概述\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t1.企业概述：\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t<vue-html5-editor :content=\"summary||''\" @change=\"ctnUpdate\" :height=\"300\"></vue-html5-editor>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"updateSummary\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t2.企业图片：\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t<div  class=\"el-upload__tip\">（企业相关的图片展示，如企业形象照片等，数量为1~4张，每张图片大小为968*330像素,格式为JPG或PNG。）</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"imgList\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-upload\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:action=\"uploadAction\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tref=\"bannerUpload\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:data=\"bannerParam\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlist-type=\"picture-card\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:file-list=\"bannerList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:on-preview=\"handlePictureCardPreview\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t:on-remove=\"handleRemove\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<i class=\"banner-upload\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-upload>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-dialog :visible.sync=\"imgDialogVisible\" width=\"90%\" :modal-append-to-body=\"false\" title=\"企业图片\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<img :src=\"dialogImageUrl\" alt=\"\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"uploadBanner\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t3.我的客户：\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t<div>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-button class=\"btn_addCustomer\" @click=\"showCustomerDialog()\"><i class=\"el-icon-plus\"></i>添加客户信息</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-table\n");
      out.write("\t\t\t\t\t\t\t\t\t\tclass=\"partnerList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:data=\"partnerList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\tborder\n");
      out.write("\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\ttype=\"index\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\twidth=\"100\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"排列序号\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tprop=\"name\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"企业名称\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"企业Logo图片\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<img :src=\"scope.row.logo\"/>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"150px\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"编辑\" @click.native.prevent=\"editCustomerRow(scope.$index,partnerList,'view')\">查看</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"编辑\" @click.native.prevent=\"editCustomerRow(scope.$index,partnerList,'edit')\">编辑</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"编辑\" @click.native.prevent=\"delCustomer(scope.$index,partnerList)\">删除</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t</el-table>\n");
      out.write("\t\t\t\t\t\t\t\t<el-dialog :visible.sync=\"customerDialogVisible\" size=\"tiny\" :modal-append-to-body=\"false\" title=\"编辑客户信息\" class=\"customerDialog\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span slot=\"title\" class=\"dialog_title\">{{actions[customerAction]}}客户信息</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-form label-position=\"right\" label-width=\"160px\" :model=\"customer\" ref=\"customerValidateForm\" :rules=\"customerRules\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"企业名称：\" prop=\"name\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-input v-model=\"customer.name\" placeholder=\"请输入企业名称\" :disabled=\"customerAction=='view'\"></el-input>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"上传logo：\"  prop=\"logo\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div  class=\"el-upload__tip\" v-if=\"customerAction!='view'\">（图片不得超过2M，每张图片大小为200*200像素,格式为JPG或PNG。）</div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-upload style=\"float: left\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ref=\"customerUpload\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :action=\"uploadAction\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :data=\"customerParam\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :disabled=\"customerAction=='view'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :show-file-list=\"false\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-change=\"handleAvatarSuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-success=\"customerImgUploadSuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-error=\"imgUploadError\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :auto-upload=\"false\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<img v-if=\"customer.logo\" :src=\"customer.logo\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<i v-else class=\"customer-upload\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</el-upload>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item align=\"left\" v-if=\"customerAction!='view'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"saveCustomer\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button style=\"width: 80px;height: 30px;line-height: 30px;padding: 0;\" @click=\"hideCustomerDialog\">取消</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-form>\n");
      out.write("\t\t\t\t\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</el-tab-pane>\n");
      out.write("\t\t\t\t\t<el-tab-pane name=\"second\" class=\"second\">\n");
      out.write("\t\t\t\t\t\t<span slot=\"label\">经营许可证\n");
      out.write("\t\t\t\t\t\t\t<i v-if=\"JSON.stringify(operationLicence)=='{}'||!operationLicence\" class=\"fa fa-minus-circle\"></i>\n");
      out.write("\t\t\t\t\t\t\t<i v-else  class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<el-row class=\"license\" v-if=\"operationLicence\">\n");
      out.write("\t\t\t\t\t\t\t<el-col :span=\"10\">\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"licenseTableDiv\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<table style=\"width: 100%\" >\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td colspan=\"2\" style=\"font-size: 14px;color: #222;\">危险废物经营许可证</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td>许可证编号：</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td class=\"text\">{{operationLicence.licence_no||'--'}}</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td>有效期：</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td class=\"text\">{{operationLicence.start_date?operationLicence.start_date.substring(0,10):''}}~{{operationLicence.end_date?operationLicence.end_date.substring(0,10):''}}</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td>年许可量：</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td class=\"text\">{{approvedQuantity}}吨</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<td colspan=\"2\" style=\"padding: 20px 10px\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<img v-if=\"licenceImg\" :src=\"licenceImg\" @click=\"showLargeImg(licenceImg)\"/>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<span v-else>暂无图片信息</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</td>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</tr>\n");
      out.write("\t\t\t\t\t\t\t\t\t</table>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t</el-col>\n");
      out.write("\t\t\t\t\t\t\t<el-col :span=\"14\" style=\"padding: 20px\" v-show=\"licenceImg\">\n");
      out.write("\t\t\t\t\t\t\t\t<img v-if=\"licenceImg\" :src=\"licenceImg\" @click=\"showLargeImg(licenceImg)\"/>\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"tip\">危险废物经营许可证副本照片（点击查看大图）</span>\n");
      out.write("\t\t\t\t\t\t\t</el-col>\n");
      out.write("\t\t\t\t\t\t\t<el-dialog\n");
      out.write("\t\t\t\t\t\t\t\t\ttitle=\"经营许可证\"\n");
      out.write("\t\t\t\t\t\t\t\t\t:visible.sync=\"dialogVisible\"\n");
      out.write("\t\t\t\t\t\t\t\t\t:modal-append-to-body=\"false\"\n");
      out.write("\t\t\t\t\t\t\t\t\twidth=\"90%\">\n");
      out.write("\t\t\t\t\t\t\t\t<img :src=\"licenceImg\"/>\n");
      out.write("\t\t\t\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t\t\t\t</el-row>\n");
      out.write("\t\t\t\t\t\t<div v-else  style=\"margin-top: 28px\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t<span>暂无有效许可证</span>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</el-tab-pane>\n");
      out.write("\t\t\t\t\t<el-tab-pane name=\"third\" id=\"third\">\n");
      out.write("\t\t\t\t\t\t<span slot=\"label\">资质与荣誉\n");
      out.write("\t\t\t\t\t\t\t<i v-if=\"ryList&&ryList.length>0\" class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t\t<i v-else  class=\"fa fa-minus-circle\"></i>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<div class=\"tabTitle\">\n");
      out.write("\t\t\t\t\t\t\t企业资质与荣誉\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t添加信息：\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t<div>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-button class=\"btn_addCustomer\" @click=\"showGloryDialog\"><i class=\"el-icon-plus\"></i>添加资质与荣誉</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-table\n");
      out.write("\t\t\t\t\t\t\t\t\t\tclass=\"partnerList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:data=\"ryList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\tborder\n");
      out.write("\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\ttype=\"index\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\twidth=\"100\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"排列序号\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tprop=\"gloryType\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"荣誉资质名称\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tprop=\"date\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"获得时间\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"企业Logo图片\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<img :src=\"scope.row.logo\"/>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"150px\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"查看\" @click.native.prevent=\"editGloryRow(scope.$index,ryList,'view')\">查看</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"编辑\" @click.native.prevent=\"editGloryRow(scope.$index,ryList,'edit')\">编辑</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"删除\" @click.native.prevent=\"delGlory(scope.$index,ryList)\">删除</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t</el-table>\n");
      out.write("\t\t\t\t\t\t\t\t<el-dialog :visible.sync=\"gloryDialogVisible\" size=\"tiny\" :modal-append-to-body=\"false\" class=\"customerDialog\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span slot=\"title\" class=\"dialog_title\">{{actions[gloryAction]}}资质或荣誉</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-form label-position=\"right\" label-width=\"160px\" :model=\"glory\" ref=\"gloryValidateForm\" :rules=\"gloryRules\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"资质类型：\" prop=\"gloryType\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-select v-model=\"glory.gloryType\" placeholder=\"请选择资质类型\" style=\"width: 100%\" :disabled=\"gloryAction=='view'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<el-option :label=\"item.value\" :value=\"item.code\" v-for=\"(item,index) in gloryTypeList\"></el-option>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</el-select>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"获得时间：\" prop=\"date\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-date-picker\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"glory.date\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"选择日期\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"gloryAction=='view'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</el-date-picker>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"上传图片：\" prop=\"logo\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div  class=\"el-upload__tip\" v-if=\"gloryAction!='view'\">（上传1张相关文件的照片，大小不超过512kb，图片格式为jpg或PNG。）</div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-upload style=\"float: left\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ref=\"gloryUpload\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :action=\"uploadAction\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :data=\"gloryParam\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :show-file-list=\"false\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-change=\"handleGlorySuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :disabled=\"gloryAction=='view'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-success=\"gloryImgUploadSuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-error=\"imgUploadError\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :auto-upload=\"false\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<img v-if=\"glory.logo\" :src=\"glory.logo\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<i v-else class=\"customer-upload\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</el-upload>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item align=\"left\" v-if=\"gloryAction!='view'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"saveGlory\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button style=\"width: 80px;height: 30px;line-height: 30px;padding: 0;\" @click=\"hideGloryDialog\">取消</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-form>\n");
      out.write("\t\t\t\t\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</el-tab-pane>\n");
      out.write("\t\t\t\t\t<el-tab-pane name=\"five\">\n");
      out.write("\t\t\t\t\t\t<span slot=\"label\">销售及合同\n");
      out.write("\t\t\t\t\t\t\t<i v-if=\"salesNote\" class=\"el-icon-circle-check\"></i>\n");
      out.write("\t\t\t\t\t\t\t<i v-else  class=\"fa fa-minus-circle\"></i>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<div class=\"tabTitle\">\n");
      out.write("\t\t\t\t\t\t\t销售及合同\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel_row\">\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t\t说明：\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t<vue-html5-editor :content=\"salesNote||''\" @change=\"salesUpdate\" :height=\"300\"></vue-html5-editor>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"saveNote\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t");
      out.write("\n");
      out.write("\t\t\t\t\t\t<div class=\"panel panel-default\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-left\">\n");
      out.write("\t\t\t\t\t\t\t\t上传合同：\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"panel-right\">\n");
      out.write("\t\t\t\t\t\t\t\t<div>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-button class=\"btn_addCustomer\"  @click=\"showContractDialog\"><i class=\"el-icon-plus\"></i>添加合同信息</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-table\n");
      out.write("\t\t\t\t\t\t\t\t\t\tclass=\"partnerList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:data=\"contractList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\tborder\n");
      out.write("\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\ttype=\"index\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\twidth=\"100\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"center\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"排列序号\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tprop=\"name\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"合同名称\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"name\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tlabel=\"合同\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:\" @click=\"downloadAttach(scope.$index,contractList)\" title=\"下载\">{{contractList[scope.$index]['name']}}</a>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-table-column label=\"操作\" width=\"130px\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<template scope=\"scope\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"查看\" @click.native.prevent=\"downloadAttach(scope.$index,contractList)\">下载</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" title=\"编辑\" @click.native.prevent=\"delContract(scope.$index,contractList)\">删除</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</template>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-table-column>\n");
      out.write("\t\t\t\t\t\t\t\t</el-table>\n");
      out.write("\t\t\t\t\t\t\t\t<el-dialog :visible.sync=\"contractDialogVisible\" size=\"tiny\" :modal-append-to-body=\"false\" class=\"customerDialog\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span slot=\"title\" class=\"dialog_title\">{{actions[contractAction]}}合同信息</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-form label-position=\"right\" label-width=\"160px\" :model=\"contract\" ref=\"contractValidateForm\" :rules=\"contractRules\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"合同名称：\" prop=\"name\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-input v-model=\"contract.name\" placeholder=\"请输入合同名称\" :disabled=\"contractAction=='view'\"></el-input>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item label=\"上传合同：\" prop=\"fileName\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<div  class=\"el-upload__tip\" v-if=\"contractAction!='view'\">（合同大小不超过5Mb,文件格式为word,pdf。）</div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-upload style=\"float: left\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   ref=\"contractUpload\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :action=\"uploadAction\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :data=\"contractParam\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :show-file-list=\"false\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-change=\"handleContractSuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :disabled=\"contractAction=='view'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-success=\"contractUploadSuccess\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :on-error=\"imgUploadError\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t   :auto-upload=\"false\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"contract.fileName\" class=\"fileDiv\">{{contract.fileName}}<font>({{contract.size}})</font></div>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t<i v-else class=\"customer-upload\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t</el-upload>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-form-item align=\"left\" v-if=\"contractAction!='view'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" class=\"save\" @click=\"saveContract\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<el-button style=\"width: 80px;height: 30px;line-height: 30px;padding: 0;\" @click=\"hideContractDialog\">取消</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-form-item>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-form>\n");
      out.write("\t\t\t\t\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</el-tab-pane>\n");
      out.write("\t\t\t\t\t<el-tab-pane name=\"six\" label=\"预览\">\n");
      out.write("\t\t\t\t\t\t<span slot=\"label\">预览<i class=\"fa fa-eye\"></i></span>\n");
      out.write("\t\t\t\t\t</el-tab-pane>\n");
      out.write("\t\t\t\t</el-tabs>\n");
      out.write("\t\t\t</template>\n");
      out.write("\t\t</div>\n");
      out.write("\n");
      out.write("\t\t<!-- 先引入 Vue -->\n");
      out.write("\t\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue.js\"></script>\n");
      out.write("\t\t");
      out.write("\n");
      out.write("\t\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath );
      out.write("/main/pc/js/data.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/la-number/la-number.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue-editor.js\"></script>\n");
      out.write("\t\t<script>\n");
      out.write("            var vue = new Vue({\n");
      out.write("                el: '#app',\n");
      out.write("                data:{\n");
      out.write("                    entId:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${enterprise.entId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("',\n");
      out.write("                    activeName: 'first',\n");
      out.write("                    cactiveName:'cfirst',\n");
      out.write("\t\t\t\t\timgList:imgList,\n");
      out.write("                    videoList:videoList,\n");
      out.write("                    pfList:pfList,\n");
      out.write("                    partnerList:[],\n");
      out.write("                    attachList:[],\n");
      out.write("                    contractList:[],\n");
      out.write("                    summary:'',\n");
      out.write("                    ryList:[],\n");
      out.write("                    dialogVisible:false,\n");
      out.write("                    imgDialogVisible:false,\n");
      out.write("                    dialogImageUrl:'',\n");
      out.write("                    bannerParam:{'appKey':APPKEY,'prodID':PRODID,businessCode:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${enterprise.entId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("_banner'},\n");
      out.write("                    customerParam:{'appKey':APPKEY,'prodID':PRODID,businessCode:upload.randomChar(19)},\n");
      out.write("                    gloryParam:{'appKey':APPKEY,'prodID':PRODID,businessCode:upload.randomChar(19)},\n");
      out.write("                    attachParam:{'appKey':APPKEY,'prodID':PRODID,businessCode:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${enterprise.entId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("_attach'},\n");
      out.write("                    contractParam:{'appKey':APPKEY,'prodID':PRODID,businessCode:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${enterprise.entId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("_contract'},\n");
      out.write("                    bannerList:[],\n");
      out.write("\t\t\t\t\tuploadAction:upload.IMG_URL+'/upload',\n");
      out.write("                    customerDialogVisible:false,\n");
      out.write("                    customer: {\n");
      out.write("                        name: '',\n");
      out.write("\t\t\t\t\t\tlogo:'',\n");
      out.write("\t\t\t\t\t\tid:'',\n");
      out.write("\t\t\t\t\t\tindex:''\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tglory:{\n");
      out.write("                        gloryType:'',\n");
      out.write("\t\t\t\t\t\tdate:'',\n");
      out.write("\t\t\t\t\t\tlogo:''\n");
      out.write("                    },\n");
      out.write("                    attach:{\n");
      out.write("                        name:'',\n");
      out.write("                        fileName:'',\n");
      out.write("                        fileId:'',\n");
      out.write("                        fileExtension:''\n");
      out.write("                    },\n");
      out.write("                    contract:{\n");
      out.write("                        name:'',\n");
      out.write("                        fileName:'',\n");
      out.write("                        fileId:'',\n");
      out.write("                        fileExtension:''\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tcustomerAction:'add',\n");
      out.write("\t\t\t\t\tgloryAction:'add',\n");
      out.write("                    attachAction:'add',\n");
      out.write("                    contractAction:'add',\n");
      out.write("                    actions:ACTIONS,\n");
      out.write("                    gloryDialogVisible:false,\n");
      out.write("                    gloryTypeList:[],\n");
      out.write("                    salesNote:'',\n");
      out.write("                    paymentRule:'',\n");
      out.write("                    otherNote:'',\n");
      out.write("                    attachDialogVisible:false,\n");
      out.write("                    contractDialogVisible:false,\n");
      out.write("                    operationLicence:{},\n");
      out.write("                    approvedQuantity:0,\n");
      out.write("                    licenceImg:'',\n");
      out.write("                    customerRules: {\n");
      out.write("                        name: [\n");
      out.write("                            { required: true, message: '请输入企业名称', trigger: 'blur' },\n");
      out.write("                            { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n");
      out.write("                        ],\n");
      out.write("\t\t\t\t\t\tlogo:[\n");
      out.write("                            { required: true, message: '请上传logo', trigger: 'blur' }\n");
      out.write("\t\t\t\t\t\t]\n");
      out.write("                    },\n");
      out.write("                    attachRules: {\n");
      out.write("                        name: [\n");
      out.write("                            { required: true, message: '请输入附件名称', trigger: 'blur' },\n");
      out.write("                            { min: 1, max: 20, message: '长度在 1 到20 个字符', trigger: 'blur' }\n");
      out.write("                        ],\n");
      out.write("\t\t\t\t\t\tfileName:[\n");
      out.write("                            { required: true, message: '请上传附件', trigger: 'blur' }\n");
      out.write("\t\t\t\t\t\t]\n");
      out.write("                    },\n");
      out.write("                    contractRules: {\n");
      out.write("                        name: [\n");
      out.write("                            { required: true, message: '请输入合同名称', trigger: 'blur' },\n");
      out.write("                            { min: 1, max: 20, message: '长度在 1 到20 个字符', trigger: 'blur' }\n");
      out.write("                        ],\n");
      out.write("\t\t\t\t\t\tfileName:[\n");
      out.write("                            { required: true, message: '请上传合同', trigger: 'blur' }\n");
      out.write("\t\t\t\t\t\t]\n");
      out.write("                    },\n");
      out.write("                    gloryRules:{\n");
      out.write("                        gloryType:[{ required: true, message: '请选择荣誉类型', trigger: 'blur' }],\n");
      out.write("\t\t\t\t\t\tdate:[ { type: 'date', required: true, message: '请选择时间', trigger: 'blur' }],\n");
      out.write("                        logo:[{ required: true, message: '请上传荣誉相关照片'}]\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                created:function () {\n");
      out.write("                    this.getList();\n");
      out.write("\t\t\t\t\tthis.getBannerList();\n");
      out.write("\t\t\t\t\tthis.getGloryTypeList();\n");
      out.write("\t\t\t\t\tthis.getAttachList();\n");
      out.write("\t\t\t\t\tthis.getContractList();\n");
      out.write("                },\n");
      out.write("                mounted:function () {\n");
      out.write("                    var heights=document.body.clientHeight;\n");
      out.write("                    $('#app >.el-tabs >.el-tabs__content').height(heights-240+'px');\n");
      out.write("                    window.onresize=function () {\n");
      out.write("                        var heights=document.body.clientHeight;\n");
      out.write("                        $('#app >.el-tabs >.el-tabs__content').height(heights-240+'px');\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                methods:{\n");
      out.write("                    ctnUpdate:function (data) {\n");
      out.write("                        this.summary = data;\n");
      out.write("                    },\n");
      out.write("                    salesUpdate:function (data) {\n");
      out.write("                        this.salesNote = data;\n");
      out.write("                    },\n");
      out.write("                    paymentUpdate:function (data) {\n");
      out.write("                        this.paymentRule = data;\n");
      out.write("                    },\n");
      out.write("                    otherUpdate:function(data){\n");
      out.write("                        this.otherNote = data;\n");
      out.write("                    },\n");
      out.write("                    getList:function () {\n");
      out.write("                        var _this=this;\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:'/sysEnterpriseBase/getEnterpriseSummaryInfo.htm',\n");
      out.write("\t\t\t\t\t\t\tdata:{\n");
      out.write("                                entId:this.entId\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\t\t\t\t\tif(data.status==1){\n");
      out.write("\t\t\t\t\t\t\t\t    var enterprise=data.data;\n");
      out.write("                                    _this.summary=enterprise.summary;\n");
      out.write("                                   //客户信息\n");
      out.write("                                    for(var i in enterprise.customerList){\n");
      out.write("                                        enterprise.customerList[i].name=enterprise.customerList[i]['customerName'];\n");
      out.write("                                        enterprise.customerList[i].logo=IMG_VIEW_URL+'&fileID='+enterprise.customerList[i]['fileId'];\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("                                    _this.partnerList=enterprise.customerList;\n");
      out.write("\t\t\t\t\t\t\t\t\t//许可证\n");
      out.write("                                    _this.operationLicence=enterprise.operationLicence;\n");
      out.write("                                    _this.approvedQuantity=fmoney(enterprise.approvedQuantity,4);\n");
      out.write("                                    if(enterprise.licenceFileId){\n");
      out.write("                                        _this.licenceImg=IMG_VIEW_URL+'&fileID='+enterprise.licenceFileId;\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t//资质和荣誉\n");
      out.write("                                    for(var i in enterprise.entGloryList){\n");
      out.write("                                        enterprise.entGloryList[i].logo=IMG_VIEW_URL+'&fileID='+enterprise.entGloryList[i]['fileId'];\n");
      out.write("                                        enterprise.entGloryList[i].date=enterprise.entGloryList[i]['getTime']?enterprise.entGloryList[i]['getTime'].substring(0,10):'';\n");
      out.write("                                    }\n");
      out.write("\t\t\t\t\t\t\t\t\t_this.ryList=enterprise.entGloryList;\n");
      out.write("\t\t\t\t\t\t\t\t\t//销售说明，付款规则，其它说明\n");
      out.write("                                    _this.salesNote=enterprise.salesNote,\n");
      out.write("\t\t\t\t\t\t\t\t\t_this.paymentRule=enterprise.paymentRule,\n");
      out.write("\t\t\t\t\t\t\t\t\t_this.otherNote=enterprise.otherNote\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("                    handleClick:function(tab, event) {\n");
      out.write("                        console.log(tab, event);\n");
      out.write("                        if(tab.index=='4'){\n");
      out.write("\t\t\t\t\t\t\twindow.location='");
      out.print(appPath);
      out.write("/enterprise/czDetail.htm?ticketId=");
      out.print(ticketId);
      out.write("&enterpriseId='+this.entId+'&&breadcrumbName=完善信息';\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    showLargeImg:function (url) {\n");
      out.write("                        this.licenceImg=url;\n");
      out.write("\t\t\t\t\t\tthis.dialogVisible=true;\n");
      out.write("                    },\n");
      out.write("                    handleRemove:function(file) {\n");
      out.write("                        var fileID=file.fileID||file.response.message.fileID;\n");
      out.write("                        if(fileID){\n");
      out.write("                            upload.delete(fileID);\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    handlePictureCardPreview:function(file) {\n");
      out.write("                        this.dialogImageUrl = file.url;\n");
      out.write("                        this.imgDialogVisible = true;\n");
      out.write("                    },\n");
      out.write("                    uploadBanner:function () {\n");
      out.write("\t\t\t\t\t\tthis.$refs.bannerUpload.submit();\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tgetBannerList:function () {\n");
      out.write("\t\t\t\t\t\tvar fileList=upload.getImgListByBusinessCode(this.entId+'_banner');\n");
      out.write("\t\t\t\t\t\tconsole.log(fileList);\n");
      out.write("\t\t\t\t\t\tfor(var i in fileList){\n");
      out.write("\t\t\t\t\t\t    var obj=fileList[i];\n");
      out.write("\t\t\t\t\t\t    obj.name='0'+(i*1+1)+'.jpg';\n");
      out.write("\t\t\t\t\t\t    obj.url=IMG_VIEW_URL+'&fileID='+obj['fileID'];\n");
      out.write("\t\t\t\t\t\t    this.bannerList.push(obj);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                    },\n");
      out.write("                    getGloryTypeList:function () {\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:'/codeType/listCodeValue',\n");
      out.write("\t\t\t\t\t\t\tdata:{\n");
      out.write("                                typeCode:'GLORY_TYPE'\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\t\t\t\t\tif(data.status==1){\n");
      out.write("                                    vue.gloryTypeList=data.data;\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tupdateSummary:function () {\n");
      out.write("\t\t\t\t\t\tconsole.log(this.summary+' '+this.entId);\n");
      out.write("\t\t\t\t\t\tif(!this.summary){\n");
      out.write("                            $.notify('概述不能为空',{status:'danger',timeout:1000});\n");
      out.write("\t\t\t\t\t\t\treturn;\n");
      out.write("                        }\n");
      out.write("\t\t\t\t\t\tvar param={\n");
      out.write("                            entId:this.entId,\n");
      out.write("                            summary:this.summary\n");
      out.write("                        };\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:'/sysEnterpriseBase/updateEnterpriseSummary?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                            contentType: 'application/json',\n");
      out.write("\t\t\t\t\t\t\tdata:JSON.stringify(param),\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\t\t\t\t\tif(data.status==1&&data.data==true){\n");
      out.write("                                    $.notify('概述修改成功',{status:'success',timeout:1000});\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("                    showCustomerDialog:function () {\n");
      out.write("                        this.customerAction='add';\n");
      out.write("\t\t\t\t\t\tthis.customerDialogVisible=true;\n");
      out.write("                        Vue.set(vue.customer,'name','');\n");
      out.write("                        Vue.set(vue.customer,'logo','');\n");
      out.write("                        Vue.set(vue.customer,'id','');\n");
      out.write("                    },\n");
      out.write("                    hideCustomerDialog:function () {\n");
      out.write("                        this.customerDialogVisible=false;\n");
      out.write("                    },\n");
      out.write("                    hideGloryDialog:function () {\n");
      out.write("                        this.gloryDialogVisible=false;\n");
      out.write("                    },\n");
      out.write("                    handleAvatarSuccess:function(file, fileList) {\n");
      out.write("                        Vue.set(vue.customer,'logo',file.url)\n");
      out.write("                    },\n");
      out.write("                    handleGlorySuccess:function(file, fileList) {\n");
      out.write("                        Vue.set(vue.glory,'logo',file.url)\n");
      out.write("                    },\n");
      out.write("                    customerImgUploadSuccess:function(response, file, fileList) {\n");
      out.write("\t\t\t\t\t\tconsole.log(file);\n");
      out.write("\t\t\t\t\t\tif(!file.response.success){\n");
      out.write("                            $.notify('客户信息保存失败',{status:'danger',timeout:1000});\n");
      out.write("\t\t\t\t\t\t    return;\n");
      out.write("                        }\n");
      out.write("                        var url=this.customer.id?'/entCustomer/updateEntCustomer':'/entCustomer/saveEntCustomer';\n");
      out.write("\t\t\t\t\t\tvar obj=file.response.message;\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:url,\n");
      out.write("\t\t\t\t\t\t\tdata:{\n");
      out.write("                                id:obj.businessCode,\n");
      out.write("                                customerName:this.customer.name,\n");
      out.write("                                fileId:obj.fileID,\n");
      out.write("                                entId:this.entId\n");
      out.write("\t\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tif(data.status&&data.data){\n");
      out.write("\t\t\t\t\t\t\t\t    vue.customerDialogVisible=false;\n");
      out.write("                                    $.notify('客户信息保存成功',{status:'success',timeout:1000});\n");
      out.write("                                    var partner={\n");
      out.write("                                        name:vue.customer.name,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tlogo:IMG_VIEW_URL+'&fileID='+obj.fileID,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tfileId:obj.fileID,\n");
      out.write("\t\t\t\t\t\t\t\t\t\tid:obj.businessCode\n");
      out.write("\t\t\t\t\t\t\t\t\t};\n");
      out.write("\t\t\t\t\t\t\t\t\tif(vue.customer.id){\n");
      out.write("                                        Vue.set(vue.partnerList,vue.customer.index,partner);\n");
      out.write("\t\t\t\t\t\t\t\t\t}else{\n");
      out.write("                                        vue.partnerList.push(partner);\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("                    gloryImgUploadSuccess:function (response, file, fileList) {\n");
      out.write("                        console.log(file);\n");
      out.write("                        if(!file.response.success){\n");
      out.write("                            $.notify('荣誉信息保存失败',{status:'danger',timeout:1000});\n");
      out.write("                            return;\n");
      out.write("                        }\n");
      out.write("                        var url=this.glory.id?'/entGlory/updateEntGlory':'/entGlory/saveEntGlory';//新增\n");
      out.write("                        var obj=file.response.message;\n");
      out.write("                        var date=(typeof this.glory.date=='object')?(this.glory.date.format('yyyy-MM-dd')):this.glory.date;\n");
      out.write("                        ajax({\n");
      out.write("                            url:url,\n");
      out.write("                            data:{\n");
      out.write("                                id:obj.businessCode,\n");
      out.write("                                gloryType:this.glory.gloryType,\n");
      out.write("                                fileId:obj.fileID,\n");
      out.write("                                entId:this.entId,\n");
      out.write("\t\t\t\t\t\t\t\tgetTime:date\n");
      out.write("                            },\n");
      out.write("                            success:function (data) {\n");
      out.write("                                if(data.status&&data.data){\n");
      out.write("                                    vue.gloryDialogVisible=false;\n");
      out.write("                                    $.notify('荣誉或资质信息保存成功',{status:'success',timeout:1000});\n");
      out.write("                                    var item={\n");
      out.write("                                        gloryType:vue.glory.gloryType,\n");
      out.write("                                        logo:IMG_VIEW_URL+'&fileID='+obj.fileID,\n");
      out.write("                                        fileId:obj.fileID,\n");
      out.write("                                        id:obj.businessCode,\n");
      out.write("                                        date:date\n");
      out.write("                                    };\n");
      out.write("                                    if(vue.glory.id){\n");
      out.write("                                        Vue.set(vue.ryList,vue.glory.index,item);\n");
      out.write("                                    }else{\n");
      out.write("                                        vue.ryList.push(item);\n");
      out.write("                                    }\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    imgUploadError:function(error, file, fileList) {\n");
      out.write("\t\t\t\t\t\tconsole.log(error);\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tsaveCustomerAction:function () {\n");
      out.write("                        if(!this.customer.id){//新增\n");
      out.write("                            Vue.set(vue.customerParam,'businessCode',upload.randomChar(19));\n");
      out.write("                            this.$refs.customerUpload.submit();\n");
      out.write("                        }else{\n");
      out.write("                            if(this.customer.logo!=this.partnerList[this.customer.index]['logo']){//修改了图片\n");
      out.write("                                upload.delete(this.partnerList[this.customer.index]['fileId']);\n");
      out.write("                                Vue.set(vue.customerParam,'businessCode',this.customer.id);\n");
      out.write("                                this.$refs.customerUpload.submit();\n");
      out.write("                            }else{\n");
      out.write("                                var fileId=vue.partnerList[vue.customer.index]['fileId'];\n");
      out.write("                                ajax({\n");
      out.write("                                    url:'/entCustomer/updateEntCustomer',\n");
      out.write("                                    data:{\n");
      out.write("                                        id:this.customer.id,\n");
      out.write("                                        customerName:this.customer.name,\n");
      out.write("                                        fileId:fileId,\n");
      out.write("                                        entId:this.entId,\n");
      out.write("                                    },\n");
      out.write("                                    success:function (data) {\n");
      out.write("                                        if(data.status&&data.data){\n");
      out.write("                                            vue.customerDialogVisible=false;\n");
      out.write("                                            $.notify('客户信息保存成功',{status:'success',timeout:1000});\n");
      out.write("                                            var partner={\n");
      out.write("                                                name:vue.customer.name,\n");
      out.write("                                                logo:IMG_VIEW_URL+'&fileID='+fileId,\n");
      out.write("                                                fileId:fileId,\n");
      out.write("                                                id:vue.customer.id,\n");
      out.write("                                            };\n");
      out.write("                                            Vue.set(vue.partnerList,vue.customer.index,partner);\n");
      out.write("                                        }\n");
      out.write("                                    }\n");
      out.write("                                });\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    saveCustomer:function () {\n");
      out.write("                        this.$refs['customerValidateForm'].validate(function(valid){\n");
      out.write("\t\t\t\t\t\t\tif (valid) {\n");
      out.write("\t\t\t\t\t\t\t\tvue.saveCustomerAction();\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("                    saveGloryAction:function () {\n");
      out.write("                        if(!this.glory.id) {//新增\n");
      out.write("                            Vue.set(vue.gloryParam,'businessCode',upload.randomChar(19));\n");
      out.write("                            this.$refs.gloryUpload.submit();\n");
      out.write("                        }else{\n");
      out.write("                            if(this.glory.logo!=this.ryList[this.glory.index]['logo']){//修改了图片\n");
      out.write("                                upload.delete(this.ryList[this.glory.index]['fileId']);\n");
      out.write("                                Vue.set(vue.gloryParam,'businessCode',this.glory.id);\n");
      out.write("                                this.$refs.gloryUpload.submit();\n");
      out.write("                            }else{\n");
      out.write("                                var fileId=vue.ryList[vue.glory.index]['fileId'];\n");
      out.write("                                var date=(typeof this.glory.date=='object')?(this.glory.date.format('yyyy-MM-dd')):this.glory.date;\n");
      out.write("                                ajax({\n");
      out.write("                                    url:'/entGlory/updateEntGlory',\n");
      out.write("                                    data:{\n");
      out.write("                                        id:this.glory.id,\n");
      out.write("                                        gloryType:this.glory.gloryType,\n");
      out.write("                                        fileId:fileId,\n");
      out.write("                                        entId:this.entId,\n");
      out.write("                                        getTime:date\n");
      out.write("                                    },\n");
      out.write("                                    success:function (data) {\n");
      out.write("                                        if(data.status&&data.data){\n");
      out.write("                                            vue.gloryDialogVisible=false;\n");
      out.write("                                            $.notify('荣誉资质信息保存成功',{status:'success',timeout:1000});\n");
      out.write("                                            var item={\n");
      out.write("                                                gloryType:vue.glory.gloryType,\n");
      out.write("                                                logo:IMG_VIEW_URL+'&fileID='+fileId,\n");
      out.write("                                                fileId:fileId,\n");
      out.write("                                                id:vue.glory.id,\n");
      out.write("                                                date:date\n");
      out.write("                                            };\n");
      out.write("                                            Vue.set(vue.ryList,vue.glory.index,item);\n");
      out.write("                                        }\n");
      out.write("                                    }\n");
      out.write("                                });\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    saveGlory:function () {\n");
      out.write("                        this.$refs['gloryValidateForm'].validate(function(valid){\n");
      out.write("                            if (valid) {\n");
      out.write("                                vue.saveGloryAction();\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tdelCustomer:function (index,partnerList) {\n");
      out.write("                        vue.$confirm('此操作将删除该客户, 是否确定?', '提示', {\n");
      out.write("                            confirmButtonText: '确定',\n");
      out.write("                            cancelButtonText: '取消',\n");
      out.write("                            type: 'warning'\n");
      out.write("                        }).then(function(){\n");
      out.write("                            ajax({\n");
      out.write("                                url:'/entCustomer/deleteEntCustomer',\n");
      out.write("                                data:{\n");
      out.write("                                    id:partnerList[index]['id']\n");
      out.write("                                },\n");
      out.write("                                success:function (data) {\n");
      out.write("                                    if(data.status&&data.data){\n");
      out.write("                                        $.notify('客户信息删除成功',{status:'success',timeout:1000});\n");
      out.write("                                        upload.delete(partnerList[index].fileId);\n");
      out.write("                                        vue.partnerList.splice(index,1);\n");
      out.write("                                    }\n");
      out.write("                                }\n");
      out.write("                            });\n");
      out.write("                        }).catch(function(){});\n");
      out.write("                    },\n");
      out.write("                    delGlory:function (index,list) {\n");
      out.write("                        vue.$confirm('此操作将删除该荣誉, 是否确定?', '提示', {\n");
      out.write("                            confirmButtonText: '确定',\n");
      out.write("                            cancelButtonText: '取消',\n");
      out.write("                            type: 'warning'\n");
      out.write("                        }).then(function(){\n");
      out.write("                            ajax({\n");
      out.write("                                url:'/entGlory/deleteEntGlory',\n");
      out.write("                                data:{\n");
      out.write("                                    id:list[index]['id']\n");
      out.write("                                },\n");
      out.write("                                success:function (data) {\n");
      out.write("                                    if(data.status&&data.data){\n");
      out.write("                                        $.notify('荣誉信息删除成功',{status:'success',timeout:1000});\n");
      out.write("                                        upload.delete(list[index].fileId);\n");
      out.write("                                        vue.ryList.splice(index,1);\n");
      out.write("                                    }\n");
      out.write("                                }\n");
      out.write("                            });\n");
      out.write("                        }).catch(function(){});\n");
      out.write("                    },\n");
      out.write("                    editCustomerRow:function (index,list,type) {\n");
      out.write("\t\t\t\t\t\tthis.customerAction=type;\n");
      out.write("\t\t\t\t\t\tthis.customerDialogVisible=true;\n");
      out.write("                        Vue.set(vue.customer,'name',list[index]['name']);\n");
      out.write("                        Vue.set(vue.customer,'logo',list[index]['logo']);\n");
      out.write("                        Vue.set(vue.customer,'id',list[index]['id']);\n");
      out.write("                        Vue.set(vue.customer,'index',index);\n");
      out.write("                        if(type=='edit'){\n");
      out.write("                            this.$refs['customerValidateForm'].validate();\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    editGloryRow:function (index,list,type) {\n");
      out.write("\t\t\t\t\t\tthis.gloryAction=type;\n");
      out.write("\t\t\t\t\t\tthis.gloryDialogVisible=true;\n");
      out.write("                        Vue.set(vue.glory,'gloryType',list[index]['gloryType']);\n");
      out.write("                        Vue.set(vue.glory,'logo',list[index]['logo']);\n");
      out.write("                        Vue.set(vue.glory,'id',list[index]['id']);\n");
      out.write("                        Vue.set(vue.glory,'date',new Date(list[index]['date']+' 00:00:00'));\n");
      out.write("                        Vue.set(vue.glory,'index',index);\n");
      out.write("                        if(type=='edit'){\n");
      out.write("                            this.$refs['gloryValidateForm']&&this.$refs['gloryValidateForm'].validate();\n");
      out.write("                        }\n");
      out.write("                    },\n");
      out.write("                    showGloryDialog:function () {\n");
      out.write("                        this.gloryAction='add';\n");
      out.write("\t\t\t\t\t\tthis.gloryDialogVisible=true;\n");
      out.write("                        Vue.set(vue.glory,'id','');\n");
      out.write("                        Vue.set(vue.glory,'gloryType','');\n");
      out.write("                        Vue.set(vue.glory,'date','');\n");
      out.write("                        Vue.set(vue.glory,'logo','');\n");
      out.write("                    },\n");
      out.write("                    saveNote:function () {\n");
      out.write("\t\t\t\t\t\tconsole.log(this.salesNote+' '+this.paymentRule+' '+this.otherNote);\n");
      out.write("//\t\t\t\t\t\tif (!this.salesNote){\n");
      out.write("//                            $.notify('销售说明不能为空',{status:'danger',timeout:1000});\n");
      out.write("//                            return;\n");
      out.write("//\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\tvar param={\n");
      out.write("                            salesNote:this.salesNote,\n");
      out.write("                            paymentRule:this.paymentRule,\n");
      out.write("                            otherNote:this.otherNote,\n");
      out.write("                            entId:this.entId\n");
      out.write("                        };\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:'/sysEnterpriseBase/updateEnterpriseSalesNote.htm?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                            dataType: 'json',\n");
      out.write("                            contentType: 'application/json',\n");
      out.write("\t\t\t\t\t\t\tdata:JSON.stringify(param),\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tif(data.status==1&&data.data){\n");
      out.write("                                    $.notify('销售说明，付款规则，其它说明修改成功',{status:'success',timeout:1000});\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("                    },\n");
      out.write("                    hideAttachDialog:function () {\n");
      out.write("\t\t\t\t\t\tthis.attachDialogVisible=false;\n");
      out.write("                    },\n");
      out.write("                    showAttachDialog:function () {\n");
      out.write("                        this.attachDialogVisible=true;\n");
      out.write("                        Vue.set(vue.attach,'name','');\n");
      out.write("                        Vue.set(vue.attach,'fileName','');\n");
      out.write("                    },\n");
      out.write("                    downloadAttach:function (index,list) {\n");
      out.write("\t\t\t\t\t\tupload.download(list[index]['fileID']);\n");
      out.write("                    },\n");
      out.write("                    hideContractDialog:function () {\n");
      out.write("\t\t\t\t\t\tthis.contractDialogVisible=false;\n");
      out.write("                    },\n");
      out.write("                    showContractDialog:function () {\n");
      out.write("                        this.contractDialogVisible=true;\n");
      out.write("                        Vue.set(vue.contract,'name','');\n");
      out.write("                        Vue.set(vue.contract,'fileName','');\n");
      out.write("                    },\n");
      out.write("                    delAttach:function (index,list) {\n");
      out.write("                        vue.$confirm('此操作将删除该附件, 是否确定?', '提示', {\n");
      out.write("                            confirmButtonText: '确定',\n");
      out.write("                            cancelButtonText: '取消',\n");
      out.write("                            type: 'warning'\n");
      out.write("                        }).then(function(){\n");
      out.write("                            upload.delete(list[index]['fileID']);\n");
      out.write("                            vue.attachList.splice(index,1);\n");
      out.write("                            $.notify('附件删除成功',{status:'success',timeout:1000});\n");
      out.write("                        }).catch(function(){});\n");
      out.write("                    },\n");
      out.write("                    delContract:function (index,list) {\n");
      out.write("                        vue.$confirm('此操作将删除该合同, 是否确定?', '提示', {\n");
      out.write("                            confirmButtonText: '确定',\n");
      out.write("                            cancelButtonText: '取消',\n");
      out.write("                            type: 'warning'\n");
      out.write("                        }).then(function(){\n");
      out.write("                            upload.delete(list[index]['fileID']);\n");
      out.write("                            vue.contractList.splice(index,1);\n");
      out.write("                            $.notify('合同删除成功',{status:'success',timeout:1000});\n");
      out.write("                        }).catch(function(){});\n");
      out.write("                    },\n");
      out.write("                    getAttachList:function () {\n");
      out.write("                        var list=upload.getImgListByBusinessCode(this.entId+'_attach');\n");
      out.write("                        for(var i in list){\n");
      out.write("                            list[i].logo=IMG_VIEW_URL+'&fileID='+list[i]['fileID'];\n");
      out.write("                            list[i].name=list[i]['fileName'];\n");
      out.write("                        }\n");
      out.write("\t\t\t\t\t\tthis.attachList=list;\n");
      out.write("                    },\n");
      out.write("                    getContractList:function () {\n");
      out.write("                        var list=upload.getImgListByBusinessCode(this.entId+'_contract');\n");
      out.write("                        for(var i in list){\n");
      out.write("                            list[i].logo=IMG_VIEW_URL+'&fileID='+list[i]['fileID'];\n");
      out.write("                            list[i].name=list[i]['fileName'];\n");
      out.write("                        }\n");
      out.write("\t\t\t\t\t\tthis.contractList=list;\n");
      out.write("                    },\n");
      out.write("                    handleAttachSuccess:function(file, fileList) {\n");
      out.write("                        Vue.set(vue.attach,'fileName',file.name);\n");
      out.write("                        Vue.set(vue.attach,'fileExtension',file.name.split('.')[1]);\n");
      out.write("                        var str='';\n");
      out.write("                        var size=file.size;\n");
      out.write("                        if(size<1024){\n");
      out.write("                            str=size+'byte';\n");
      out.write("\t\t\t\t\t\t}else if(size<1024*1024){\n");
      out.write("                            str=Math.floor(size/1024)+'k';\n");
      out.write("\t\t\t\t\t\t}else if(size<1024*1024*1024){\n");
      out.write("                            str=Math.floor(size/1024/1024)+'M';\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            str=Math.floor(size/1024/1024/1024)+'G';\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        Vue.set(vue.attach,'size',str);\n");
      out.write("                    },\n");
      out.write("                    saveAttach:function () {\n");
      out.write("                        this.$refs['attachValidateForm'].validate(function(valid){\n");
      out.write("                            if (valid) {\n");
      out.write("                                Vue.set(vue.attachParam,'name',vue.attach.name+'.'+vue.attach.fileExtension);\n");
      out.write("                                vue.$refs.attachUpload.submit();\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    attachUploadSuccess:function (response, file, fileList) {\n");
      out.write("                        console.log(file);\n");
      out.write("                        if(!file.response.success){\n");
      out.write("                            $.notify('附件上传失败',{status:'danger',timeout:1000});\n");
      out.write("                            return;\n");
      out.write("                        }\n");
      out.write("                        $.notify('附件上传成功',{status:'success',timeout:1000});\n");
      out.write("                        var obj=file.response.message;\n");
      out.write("                        var item={\n");
      out.write("                            name:obj.fileName,\n");
      out.write("                            fileName:obj.fileName,\n");
      out.write("                            fileID:obj.fileID\n");
      out.write("                        };\n");
      out.write("\t\t\t\t\t\tvue.attachList.push(item);\n");
      out.write("                        this.attachDialogVisible=false;\n");
      out.write("                    },\n");
      out.write("                    handleContractSuccess:function(file, fileList) {\n");
      out.write("                        Vue.set(vue.contract,'fileName',file.name);\n");
      out.write("                        Vue.set(vue.contract,'fileExtension',file.name.split('.')[1]);\n");
      out.write("                        var str='';\n");
      out.write("                        var size=file.size;\n");
      out.write("                        if(size<1024){\n");
      out.write("                            str=size+'byte';\n");
      out.write("\t\t\t\t\t\t}else if(size<1024*1024){\n");
      out.write("                            str=Math.floor(size/1024)+'k';\n");
      out.write("\t\t\t\t\t\t}else if(size<1024*1024*1024){\n");
      out.write("                            str=Math.floor(size/1024/1024)+'M';\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            str=Math.floor(size/1024/1024/1024)+'G';\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        Vue.set(vue.contract,'size',str);\n");
      out.write("                    },\n");
      out.write("                    saveContract:function () {\n");
      out.write("                        this.$refs['contractValidateForm'].validate(function(valid){\n");
      out.write("                            if (valid) {\n");
      out.write("                                Vue.set(vue.contractParam,'name',vue.contract.name+'.'+vue.contract.fileExtension);\n");
      out.write("                                vue.$refs.contractUpload.submit();\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    contractUploadSuccess:function (response, file, fileList) {\n");
      out.write("                        console.log(file);\n");
      out.write("                        if(!file.response.success){\n");
      out.write("                            $.notify('合同上传失败',{status:'danger',timeout:1000});\n");
      out.write("                            return;\n");
      out.write("                        }\n");
      out.write("                        $.notify('合同上传成功',{status:'success',timeout:1000});\n");
      out.write("                        var obj=file.response.message;\n");
      out.write("                        var item={\n");
      out.write("                            name:obj.fileName,\n");
      out.write("                            fileName:obj.fileName,\n");
      out.write("                            fileID:obj.fileID\n");
      out.write("                        };\n");
      out.write("\t\t\t\t\t\tvue.contractList.push(item);\n");
      out.write("                        this.contractDialogVisible=false;\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("            });\n");
      out.write("\t\t</script>\n");
      out.write("\t</div>\n");
      out.write("</section>\n");
      out.write("\n");
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/bottom.jsp", out, true);
      out.write('\n');
      out.write('\n');
      out.write("\n");
      out.write("<script type=\"text/javascript\">\n");
      out.write("    $(document).ready(function() {\n");
      out.write("        var rs = window.globalInit();\n");
      out.write("        rs.done(function () {\n");
      out.write("//            initTimeLine();\n");
      out.write("\t\t\t$('#enterpriseEvalution').load(\"");
      out.print(appPath );
      out.write("/enterprise/loadEnterpriseEvalution.htm?ticketId=");
      out.print(ticketId );
      out.write("&enterpriseId=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${enterprise.entId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\");\n");
      out.write("        });\n");
      out.write("\n");
      out.write("    });\n");
      out.write("    function initTimeLine(){\n");
      out.write("        var str='';\n");
      out.write("        var flag=true;\n");
      out.write("        for(var k in ryList){\n");
      out.write("            var year=ryList[k]['year'];\n");
      out.write("            str+='<dt><i class=\"el-icon-time\"></i><span class=\"time\">'+year+'年</span></dt>';\n");
      out.write("            for(var i=0;i<ryList[k]['content'].length;i++){\n");
      out.write("                var obj=ryList[k]['content'][i];\n");
      out.write("                str+='<dd class=\"pos-'+(flag?'right':'left')+' clearfix\" id=\"'+obj['id']+'\">'+\n");
      out.write("                    '<div class=\"circ\"><i class=\"el-icon-time\"></i></div>'+\n");
      out.write("                    '<div class=\"time\">'+obj['time']+'</div>'+\n");
      out.write("                    '<div class=\"events\">'+\n");
      out.write("                    '<div class=\"events-header\">'+obj['name']+'</div>'+\n");
      out.write("                    '<div class=\"events-body\">'+obj['description']+'</div>'+\n");
      out.write("                    '<div class=\"events-footer\">'+\n");
      out.write("                    '<img src=\"");
      out.print(appPath);
      out.write("/app/img/shu.png\" />'+\n");
      out.write("                    '</div>'+\n");
      out.write("                    '</div>'+\n");
      out.write("                    '</dd>';\n");
      out.write("                flag=!flag;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        $('#mainVivaTimeline dl').html(str);\n");
      out.write("    }\n");
      out.write("    function goBack(){\n");
      out.write("        var index = getParam(\"index\");\n");
      out.write("        if(index == \"true\"){\n");
      out.write("            document.cookie=\"index=true;path=");
      out.print(appPath);
      out.write("/wastecircle/\";\n");
      out.write("        }\n");
      out.write("        window.history.go(-1);\n");
      out.write("    }\n");
      out.write("    Date.prototype.format = function(fmt) {\n");
      out.write("        var o = {\n");
      out.write("            \"M+\" : this.getMonth()+1,                 //月份\n");
      out.write("            \"d+\" : this.getDate(),                    //日\n");
      out.write("            \"h+\" : this.getHours(),                   //小时\n");
      out.write("            \"m+\" : this.getMinutes(),                 //分\n");
      out.write("            \"s+\" : this.getSeconds(),                 //秒\n");
      out.write("            \"q+\" : Math.floor((this.getMonth()+3)/3), //季度\n");
      out.write("            \"S\"  : this.getMilliseconds()             //毫秒\n");
      out.write("        };\n");
      out.write("        if(/(y+)/.test(fmt)) {\n");
      out.write("            fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n");
      out.write("        }\n");
      out.write("        for(var k in o) {\n");
      out.write("            if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n");
      out.write("                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        return fmt;\n");
      out.write("    }\n");
      out.write("</script>\n");
      out.write("</body>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
