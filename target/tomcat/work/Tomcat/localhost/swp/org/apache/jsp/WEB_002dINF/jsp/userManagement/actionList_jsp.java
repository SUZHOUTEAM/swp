/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-09-11 02:57:05 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.userManagement;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class actionList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

    String appPath=request.getContextPath();

      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/top.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("title", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("用户操作", request.getCharacterEncoding()), out, true);
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/left.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("menuId", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("#actionList", request.getCharacterEncoding()), out, true);
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/myBusiness/business.css\">\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write("    b{\r\n");
      out.write("        font-weight: 100;\r\n");
      out.write("        font-size: 12px;\r\n");
      out.write("    }\r\n");
      out.write("    .el-textarea textarea{\r\n");
      out.write("        border: 0;\r\n");
      out.write("        resize: none;\r\n");
      out.write("        height: auto;\r\n");
      out.write("    }\r\n");
      out.write("    .el-input__icon{\r\n");
      out.write("        line-height: 31px;\r\n");
      out.write("    }\r\n");
      out.write("    .el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n");
      out.write("        width: 210px;\r\n");
      out.write("        margin-left: 12px;\r\n");
      out.write("    }\r\n");
      out.write("    .searchDiv .el-input__inner{\r\n");
      out.write("        width: 210px;\r\n");
      out.write("    }\r\n");
      out.write("    .bar{\r\n");
      out.write("        margin: 10px 0;\r\n");
      out.write("    }\r\n");
      out.write("    .barct em,table em{\r\n");
      out.write("        font-size: 16px;\r\n");
      out.write("        color: #1171D1;\r\n");
      out.write("        font-style: normal;\r\n");
      out.write("    }\r\n");
      out.write("    .bar .barct .par{\r\n");
      out.write("        margin-left: 0;\r\n");
      out.write("        margin-right: 20px;\r\n");
      out.write("    }\r\n");
      out.write("    .el-select .el-input__inner,.input-with-select .el-input__inner{\r\n");
      out.write("        width: 150px;\r\n");
      out.write("    }\r\n");
      out.write("</style>\r\n");
      out.write("<section id=\"app\">\r\n");
      out.write("    <template>\r\n");
      out.write("        <el-breadcrumb separator=\"/\">\r\n");
      out.write("            <el-breadcrumb-item>运营管理</el-breadcrumb-item>\r\n");
      out.write("            <el-breadcrumb-item>用户操作</el-breadcrumb-item>\r\n");
      out.write("        </el-breadcrumb>\r\n");
      out.write("        <div >\r\n");
      out.write("            <el-row class=\"searchDiv\">\r\n");
      out.write("                <b>操作时间：</b>\r\n");
      out.write("                <el-button type=\"text\" :class=\"{'select':dateType=='TODAY'}\" @click=\"queryDateType('TODAY')\">今天</el-button>\r\n");
      out.write("                <el-button type=\"text\" :class=\"{'select':dateType=='WEEK'}\" @click=\"queryDateType('WEEK')\">本周</el-button>\r\n");
      out.write("                <el-button type=\"text\" :class=\"{'select':dateType=='MONTH'}\" @click=\"queryDateType('MONTH')\">本月</el-button>\r\n");
      out.write("                <el-date-picker\r\n");
      out.write("                        v-model=\"startDateTime\"\r\n");
      out.write("                        type=\"date\"\r\n");
      out.write("                        @change=\"changeStartDateTime\"\r\n");
      out.write("                        placeholder=\"选择开始时间\">\r\n");
      out.write("                </el-date-picker>\r\n");
      out.write("                <el-date-picker\r\n");
      out.write("                        v-model=\"endDateTime\"\r\n");
      out.write("                        type=\"date\"\r\n");
      out.write("                        @change=\"changeEndDateTime\"\r\n");
      out.write("                        placeholder=\"选择结束时间\">\r\n");
      out.write("                </el-date-picker>\r\n");
      out.write("                <el-select v-model=\"entType\" placeholder=\"请选择企业类型\" @change=\"search\">\r\n");
      out.write("                    <el-option\r\n");
      out.write("                            v-for=\"item in options\"\r\n");
      out.write("                            :key=\"item.value\"\r\n");
      out.write("                            :label=\"item.label\"\r\n");
      out.write("                            :value=\"item.value\">\r\n");
      out.write("                    </el-option>\r\n");
      out.write("                </el-select>\r\n");
      out.write("                <el-input placeholder=\"请输入用户名称\" v-model=\"userName\" class=\"input-with-select\">\r\n");
      out.write("                    <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\r\n");
      out.write("                </el-input>\r\n");
      out.write("            </el-row>\r\n");
      out.write("            <div id=\"selected\" class=\"bar\" v-if=\"totalData.length>0\">\r\n");
      out.write("                <div class=\"barct\">\r\n");
      out.write("                    ");
      out.write("\r\n");
      out.write("                    ");
      out.write("\r\n");
      out.write("                    <span class=\"par\" :style=\"index==0?'margin-left: 0':''\" v-for=\"(item,index) in totalData\" v-if=\"!showAllAction?(index<topLength):true\">\r\n");
      out.write("                        <b>{{item.eventCodeValue}}：</b>\r\n");
      out.write("                        <em>{{item.count}}次</em>\r\n");
      out.write("                    </span>\r\n");
      out.write("                    <span class=\"par\">\r\n");
      out.write("                        <a href=\"javascript:\" style=\"text-decoration: none\" @click=\"showAllAction=!showAllAction\">\r\n");
      out.write("                            {{showAllAction?'收起':'展开全部'}}<i v-show=\"!showAllAction\" style=\"margin-left: 2px\" class=\"el-icon-arrow-down\"></i><i v-show=\"showAllAction\" style=\"margin-left: 2px\" class=\"el-icon-arrow-up\"></i></a>\r\n");
      out.write("                    </span>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"selectTable\">\r\n");
      out.write("                <el-table  tooltip-effect=\"dark\" @row-click=\"rowClick\" :highlight-current-row=\"true\"\r\n");
      out.write("                           :data=\"tableData\"  v-loading.body=\"listLoading\" ref=\"dataSelectTable\" border\r\n");
      out.write("                           style=\"width: 100%\">\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"企业名称\"\r\n");
      out.write("                            prop=\"entName\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.entName||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"用户位置\"\r\n");
      out.write("                            prop=\"cname\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.cname||'APP登录'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"用户\"\r\n");
      out.write("                            width=\"100px\"\r\n");
      out.write("                            prop=\"userName\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.userName||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"登录时间\"\r\n");
      out.write("                            width=\"160px\"\r\n");
      out.write("                            prop=\"loginTime\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.loginTime||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"登出时间\"\r\n");
      out.write("                            width=\"160px\"\r\n");
      out.write("                            prop=\"logoutTime\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.logoutTime||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"操作\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            <div v-if=\"scope.row.actionTypeModels.length>0\">\r\n");
      out.write("                                <span v-for=\"(item,index) in scope.row.actionTypeModels\">\r\n");
      out.write("                                    <span style=\"margin-right: 10px\">{{item.eventCodeValue}}(<em>{{item.count}}</em>)</span>\r\n");
      out.write("                                </span>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <span v-else>--</span>\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                </el-table>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div v-show=\"tableData&&tableData.length>0\" align=\"right\" style=\"margin-top: 10px\">\r\n");
      out.write("                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"pageIndex\" :page-sizes=\"[10,20,30,50]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n");
      out.write("                </el-pagination>\r\n");
      out.write("            </div>\r\n");
      out.write("            <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" :modal-append-to-body=\"false\" width=\"70%\">\r\n");
      out.write("                <el-table  tooltip-effect=\"dark\"\r\n");
      out.write("                           :data=\"actionDetailList\"  v-loading.body=\"detailLoading\" border  height=\"400px\"\r\n");
      out.write("                           style=\"width: 100%\">\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"操作时间\"\r\n");
      out.write("                            width=\"160px\"\r\n");
      out.write("                            prop=\"createTime\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.createTime||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"操作名称\"\r\n");
      out.write("                            prop=\"userActionValue\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.userActionValue||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                    <el-table-column\r\n");
      out.write("                            label=\"手机号码\"\r\n");
      out.write("                            prop=\"userPhoneNo\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.userPhoneNo||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                   <el-table-column\r\n");
      out.write("                            label=\"操作备注\"\r\n");
      out.write("                            prop=\"remark\">\r\n");
      out.write("                        <template scope=\"scope\">\r\n");
      out.write("                            {{scope.row.remark?typeObj[scope.row.userActionValue]:''}} {{scope.row.remark||'--'}}\r\n");
      out.write("                        </template>\r\n");
      out.write("                    </el-table-column>\r\n");
      out.write("                </el-table>\r\n");
      out.write("            </el-dialog>\r\n");
      out.write("        </div>\r\n");
      out.write("    </template>\r\n");
      out.write("</section>\r\n");
      out.write("<!-- 先引入 Vue -->\r\n");
      out.write("<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue.js\"></script>\r\n");
      out.write("<!-- 引入组件库 -->\r\n");
      out.write("<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/app/js/util.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("    var vue=new Vue({\r\n");
      out.write("        el: '#app',\r\n");
      out.write("        data: {\r\n");
      out.write("            tableData: [],\r\n");
      out.write("            listLoading:true,\r\n");
      out.write("            pageIndex:1,\r\n");
      out.write("            pageSize:10,\r\n");
      out.write("            total:0,\r\n");
      out.write("            totalData:[],\r\n");
      out.write("            dateType:'TODAY',\r\n");
      out.write("            startDateTime:'',\r\n");
      out.write("            endDateTime:'',\r\n");
      out.write("            dialogVisible:false,\r\n");
      out.write("            actionDetailList:[],\r\n");
      out.write("            detailLoading:false,\r\n");
      out.write("            dialogTitle:'',\r\n");
      out.write("            typeObj:{'联系TA':'联系：','查看处置企业信息':'查看：','首页联系TA':'联系：','查看活动':'查看：','搜索':'关键字：'},\r\n");
      out.write("            dateTypeClick_start:false,\r\n");
      out.write("            dateTypeClick_end:false,\r\n");
      out.write("            showAllAction:false,\r\n");
      out.write("            topLength:0,\r\n");
      out.write("            topActions:['INQUIRY','RELEASEWASTE','MOBILE_RELEASE_WASTE','REGISTER_SUCCESS','LOGIN','MB_REGISTER_SUCCESS','APP_REGISTER_SUCCESS','MB_LOGIN', 'APP_LOGIN', 'APP_INQUIRY', 'PC_PAY_CONTRACT', 'APP_PAY_CONTRACT', 'PC_PAY_INQUIRY', 'APP_PAY_INQUIRY', 'PC_PAY_ALI', 'MB_PAY_ALI'],\r\n");
      out.write("            arr1:[{\"eventCode\":\"REGISTER_SUCCESS\",\"eventCodeValue\":\"PC注册成功\",\"count\":0},{\"eventCode\":\"MB_REGISTER_SUCCESS\",\"eventCodeValue\":\"手机注册成功\",\"count\":0},{\"eventCode\":\"APP_REGISTER_SUCCESS\",\"eventCodeValue\":\"APP端注册成功\",\"count\":0},{\"eventCode\":\"LOGIN\",\"eventCodeValue\":\"PC登录成功\",\"count\":0},{\"eventCode\":\"MB_LOGIN\",\"eventCodeValue\":\"手机登录成功\",\"count\":0},{\"eventCode\":\"APP_LOGIN\",\"eventCodeValue\":\"APP端登录成功\",\"count\":0},{\"eventCode\":\"PC_PAY_INQUIRY\",\"eventCodeValue\":\"PC报价购买成功  \",\"count\":0},{\"eventCode\":\"APP_PAY_INQUIRY\",\"eventCodeValue\":\"APP报价购买成功\",\"count\":0},{\"eventCode\":\"PC_PAY_CONTRACT\",\"eventCodeValue\":\"PC联系TA购买成功\",\"count\":0},{\"eventCode\":\"APP_PAY_CONTRACT\",\"eventCodeValue\":\"APP联系TA购买成功\",\"count\":0},{\"eventCode\":\"INQUIRY\",\"eventCodeValue\":\"PC报价成功\",\"count\":0},{\"eventCode\":\"APP_INQUIRY\",\"eventCodeValue\":\"APP报价成功\",\"count\":0},{\"eventCode\":\"RELEASEWASTE\",\"eventCodeValue\":\"PC端询价成功\",\"count\":0},{\"eventCode\":\"MOBILE_RELEASE_WASTE\",\"eventCodeValue\":\"手机端询价成功\",\"count\":0},{\"eventCode\":\"PC_PAY_ALI\",\"eventCodeValue\":\"PC充值成功数\",\"count\":0},{\"eventCode\":\"MB_PAY_ALI\",\"eventCodeValue\":\"手机充值成功数\",\"count\":0}],\r\n");
      out.write("            options:[{value: 'total',label: '全部'},{value: 'DISPOSITION',label: '处置企业'},{value: 'PRODUCTION',label: '产废企业'},{value: 'DIS_FACILITATOR',label: '处置服务商'}],\r\n");
      out.write("            entType:'',\r\n");
      out.write("            userName:''\r\n");
      out.write("        },\r\n");
      out.write("        created:function() {\r\n");
      out.write("            this.getList();\r\n");
      out.write("        },\r\n");
      out.write("        methods:{\r\n");
      out.write("            getList:function () {\r\n");
      out.write("                this.listLoading = true;\r\n");
      out.write("                var _this=this;\r\n");
      out.write("                var param={\r\n");
      out.write("                    pageIndex:this.pageIndex,\r\n");
      out.write("                    pageSize:this.pageSize,\r\n");
      out.write("                    userName:this.userName\r\n");
      out.write("                };\r\n");
      out.write("                if(this.dateType){\r\n");
      out.write("                    param.DateType=this.dateType;\r\n");
      out.write("                }\r\n");
      out.write("                if(this.startDateTime){\r\n");
      out.write("                    param.startDateTime=this.startDateTime.format('yyyy-MM-dd')+' 00:00:00';\r\n");
      out.write("                }\r\n");
      out.write("                if(this.endDateTime){\r\n");
      out.write("                    param.endDateTime=this.endDateTime.format('yyyy-MM-dd')+' 23:59:59';\r\n");
      out.write("                }\r\n");
      out.write("                param.entType=this.entType=='total'?'':this.entType;\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url:'/userAction/listUserAction.htm',\r\n");
      out.write("                    dataType:'json',\r\n");
      out.write("                    data:param,\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        _this.listLoading = false;\r\n");
      out.write("                        if(result.status==1&&result.data.userActionModels&&result.data.userActionModels.length>0){\r\n");
      out.write("                            _this.total=result.data.pagingParameter.totalRecord;\r\n");
      out.write("                            _this.tableData=result.data.userActionModels;\r\n");
      out.write("                            var actionTypeModels=result.data.actionTypeModels;\r\n");
      out.write("                            var arr1=_this.arr1.concat(),arr2=[],topMap={};\r\n");
      out.write("                            for(var i in actionTypeModels){\r\n");
      out.write("                                var obj=actionTypeModels[i];\r\n");
      out.write("                                if(_this.topActions.indexOf(obj['eventCode'])>-1){\r\n");
      out.write("                                    topMap[obj['eventCode']]=obj['count'];\r\n");
      out.write("                                }else{\r\n");
      out.write("                                    arr2.push(obj);\r\n");
      out.write("                                }\r\n");
      out.write("                            }\r\n");
      out.write("                            var len=arr1.length;\r\n");
      out.write("                            for(var k=len-1;k>=0;k--){\r\n");
      out.write("                                if(topMap[arr1[k]['eventCode']]){\r\n");
      out.write("                                    arr1[k]['count']=topMap[arr1[k]['eventCode']];\r\n");
      out.write("                                }else{\r\n");
      out.write("                                    arr1.splice(k,1);\r\n");
      out.write("                                }\r\n");
      out.write("                            }\r\n");
      out.write("                            _this.topLength= arr1.length;\r\n");
      out.write("                            _this.totalData= arr1.concat(arr2);\r\n");
      out.write("                        }else{\r\n");
      out.write("                            _this.tableData=[];\r\n");
      out.write("                            _this.total=0;\r\n");
      out.write("                            _this.totalData=[];\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("            },\r\n");
      out.write("            search:function () {\r\n");
      out.write("              this.pageIndex=1;\r\n");
      out.write("              this.getList();\r\n");
      out.write("            },\r\n");
      out.write("            handleSizeChange:function(val) {\r\n");
      out.write("                this.pageIndex=1;\r\n");
      out.write("                this.pageSize = val;\r\n");
      out.write("                this.getList();\r\n");
      out.write("            },\r\n");
      out.write("            handleCurrentChange:function(val) {\r\n");
      out.write("                this.pageIndex = val;\r\n");
      out.write("                this.getList();\r\n");
      out.write("            },\r\n");
      out.write("            queryDateType:function (dateType) {\r\n");
      out.write("                this.dateType=dateType;\r\n");
      out.write("                this.startDateTime='';\r\n");
      out.write("                this.endDateTime='';\r\n");
      out.write("                this.dateTypeClick_start=true;\r\n");
      out.write("                this.dateTypeClick_end=true;\r\n");
      out.write("                this.search();\r\n");
      out.write("            },\r\n");
      out.write("            changeStartDateTime:function (startDateTime) {\r\n");
      out.write("                if(this.dateTypeClick_start&&!startDateTime){\r\n");
      out.write("                    this.dateTypeClick_start=false;\r\n");
      out.write("                    return;\r\n");
      out.write("                }\r\n");
      out.write("                this.startDateTime=startDateTime;\r\n");
      out.write("                this.dateType='';\r\n");
      out.write("                this.search();\r\n");
      out.write("            },\r\n");
      out.write("            changeEndDateTime:function (endDateTime) {\r\n");
      out.write("                if(this.dateTypeClick_end&&!endDateTime){\r\n");
      out.write("                    this.dateTypeClick_end=false;\r\n");
      out.write("                    return;\r\n");
      out.write("                }\r\n");
      out.write("                this.endDateTime=endDateTime;\r\n");
      out.write("                this.dateType='';\r\n");
      out.write("                this.search();\r\n");
      out.write("            },\r\n");
      out.write("            formatDate:function (dateStr,fmt) {\r\n");
      out.write("                try {\r\n");
      out.write("                    fmt=fmt||'yyyy-MM-dd HH:mm:ss';\r\n");
      out.write("                    var arr=dateStr.split(' ');\r\n");
      out.write("                    var arr1=arr[0].split('-');\r\n");
      out.write("                    var year=arr1[0];\r\n");
      out.write("                    var month=arr1[1]||'01';\r\n");
      out.write("                    var day=arr1[2]||'01';\r\n");
      out.write("                    fmt=fmt.replace(/yyyy/g,year);\r\n");
      out.write("                    fmt=fmt.replace(/MM/g,month);\r\n");
      out.write("                    fmt=fmt.replace(/dd/g,day);\r\n");
      out.write("                    if(arr.length>1){\r\n");
      out.write("                        var arr2=arr[1].split(':');\r\n");
      out.write("                        var hour=arr2[0]||'00';\r\n");
      out.write("                        var min=arr2[1]||'00';\r\n");
      out.write("                        var second=arr2[2]||'00';\r\n");
      out.write("                        fmt=fmt.replace(/HH/g,hour);\r\n");
      out.write("                        fmt=fmt.replace(/mm/g,min);\r\n");
      out.write("                        fmt=fmt.replace(/ss/g,second);\r\n");
      out.write("                    }else{\r\n");
      out.write("                        fmt=fmt.replace(/HH/g,'00');\r\n");
      out.write("                        fmt=fmt.replace(/mm/g,'00');\r\n");
      out.write("                        fmt=fmt.replace(/ss/g,'00');\r\n");
      out.write("                    }\r\n");
      out.write("                } catch(error) {\r\n");
      out.write("                    console.error(error);\r\n");
      out.write("                } finally {\r\n");
      out.write("                    return fmt;\r\n");
      out.write("                }\r\n");
      out.write("            },\r\n");
      out.write("            rowClick:function (row, event, column) {\r\n");
      out.write("                console.log(row);\r\n");
      out.write("                var param={\r\n");
      out.write("//                    pageIndex:this.pageIndex,\r\n");
      out.write("//                    pageSize:this.pageSize\r\n");
      out.write("                };\r\n");
      out.write("                if(this.dateType){\r\n");
      out.write("                    param.DateType=this.dateType;\r\n");
      out.write("                }\r\n");
      out.write("                if(this.startDateTime){\r\n");
      out.write("                    param.startDateTime=this.startDateTime.format('yyyy-MM-dd')+' 00:00:00';\r\n");
      out.write("                }\r\n");
      out.write("                if(this.endDateTime){\r\n");
      out.write("                    param.endDateTime=this.endDateTime.format('yyyy-MM-dd')+' 23:59:59';\r\n");
      out.write("                }\r\n");
      out.write("                var url='';\r\n");
      out.write("                if(row.ticketId){\r\n");
      out.write("                    param.actionTicketId=row.ticketId;\r\n");
      out.write("                    url='/userAction/listUserActionDetailByTicketId';\r\n");
      out.write("                    this.dialogTitle=(row.entName||'尚未绑定企业')+'的'+row.userName+'的操作详情';\r\n");
      out.write("                }else{\r\n");
      out.write("                    this.dialogTitle=row.cname+'，ip为'+row.cip+'的操作详情';\r\n");
      out.write("                    url='/userAction/listUserActionDetailByIp';\r\n");
      out.write("                    param.cip=row.cip;\r\n");
      out.write("                }\r\n");
      out.write("                this.dialogVisible=true;\r\n");
      out.write("                this.detailLoading=true;\r\n");
      out.write("                $.ajax({\r\n");
      out.write("                    url:'/swp'+url,\r\n");
      out.write("                    dataType:'json',\r\n");
      out.write("                    data:param,\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        vue.detailLoading=false;\r\n");
      out.write("                        if(result.status==1){\r\n");
      out.write("                            vue.actionDetailList=result.data.userActionModels;\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("    })\r\n");
      out.write("</script>\r\n");
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/bottom.jsp", out, true);
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("    $(document).ready(function() {\r\n");
      out.write("    });\r\n");
      out.write("    Date.prototype.format = function(fmt) {\r\n");
      out.write("        var o = {\r\n");
      out.write("            \"M+\" : this.getMonth()+1,                 //月份\r\n");
      out.write("            \"d+\" : this.getDate(),                    //日\r\n");
      out.write("            \"h+\" : this.getHours(),                   //小时\r\n");
      out.write("            \"m+\" : this.getMinutes(),                 //分\r\n");
      out.write("            \"s+\" : this.getSeconds(),                 //秒\r\n");
      out.write("            \"q+\" : Math.floor((this.getMonth()+3)/3), //季度\r\n");
      out.write("            \"S\"  : this.getMilliseconds()             //毫秒\r\n");
      out.write("        };\r\n");
      out.write("        if(/(y+)/.test(fmt)) {\r\n");
      out.write("            fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\r\n");
      out.write("        }\r\n");
      out.write("        for(var k in o) {\r\n");
      out.write("            if(new RegExp(\"(\"+ k +\")\").test(fmt)){\r\n");
      out.write("                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("        return fmt;\r\n");
      out.write("    }\r\n");
      out.write("</script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
