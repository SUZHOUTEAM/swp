/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-09-11 06:10:51 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.Licence;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class addLicence_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fform_005fhidden_0026_005fpath_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fform_005fhidden_0026_005fvalue_005fpath_005fnobody;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fform_005fselect_0026_005fpath_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002derrors_002dcontainer_005fdata_002dlive_002dsearch_005fclass;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fform_005finput_0026_005ftype_005fplaceholder_005fpath_005foninput_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002dpattern_002dmessage_005fdata_002dparsley_002dpattern_005fdata_002dparsley_002derrors_002dcontainer_005fclass_005fnobody;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fform_005fhidden_0026_005fpath_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fform_005fhidden_0026_005fvalue_005fpath_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fform_005fselect_0026_005fpath_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002derrors_002dcontainer_005fdata_002dlive_002dsearch_005fclass = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fform_005finput_0026_005ftype_005fplaceholder_005fpath_005foninput_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002dpattern_002dmessage_005fdata_002dparsley_002dpattern_005fdata_002dparsley_002derrors_002dcontainer_005fclass_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass.release();
    _005fjspx_005ftagPool_005fform_005fhidden_0026_005fpath_005fnobody.release();
    _005fjspx_005ftagPool_005fform_005fhidden_0026_005fvalue_005fpath_005fnobody.release();
    _005fjspx_005ftagPool_005fform_005fselect_0026_005fpath_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002derrors_002dcontainer_005fdata_002dlive_002dsearch_005fclass.release();
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin.release();
    _005fjspx_005ftagPool_005fform_005finput_0026_005ftype_005fplaceholder_005fpath_005foninput_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002dpattern_002dmessage_005fdata_002dparsley_002dpattern_005fdata_002dparsley_002derrors_002dcontainer_005fclass_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

    String appPath = request.getContextPath();
    String ticketId = (String)request.getAttribute("ticketId");
    String licenceId = (String)request.getAttribute("licenceId");

      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath );
      out.write("/thirdparty/silviomoreto-bootstrap-select/dist/css/bootstrap-select.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath );
      out.write("/thirdparty/bootstrap-multiselect-master/dist/css/bootstrap-multiselect.css\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath );
      out.write("/css/licence/licence.css?1\">\r\n");
      out.write("<style>\r\n");
      out.write(".form-horizontal .control-label {\r\n");
      out.write("    text-align:left;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("<section>\r\n");
      out.write("<div class=\"table-grid table-grid-desktop\">\r\n");
      out.write("    <div class=\"col col-md colPadding\">\r\n");
      out.write("        <div class=\"panel panel-default\">\r\n");
      out.write("            <div class=\"panel-heading\">\r\n");
      out.write("                ");
      if (_jspx_meth_form_005fform_005f0(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"panel-body hidden\" id=\"dispositionItem\">\r\n");
      out.write("               ");
      if (_jspx_meth_form_005fform_005f1(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"col col-md\">\r\n");
      out.write("        <div class=\"panel panel-default\">\r\n");
      out.write("            <div class=\"panel-heading\">已保存的处置利用方式</div>\r\n");
      out.write("            <div class=\"panel-body col-right-height\">\r\n");
      out.write("                <div id=\"dispostionDsiplayAccordion\" role=\"tablist\" aria-multiselectable=\"true\" class=\"panel-group\">\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("</div>\r\n");
      out.write("</section>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath );
      out.write("/thirdparty/silviomoreto-bootstrap-select/dist/js/bootstrap-select.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath );
      out.write("/thirdparty/bootstrap-multiselect-master/dist/js/bootstrap-multiselect.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/bootstrap-suggest-plugin-master/dist/tether.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/bootstrap-suggest-plugin-master/dist/bootstrap-suggest.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/layui/layer-v3.0.1/layer/layer.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("    $('.selectpicker').selectpicker({\r\n");
      out.write("        noneSelectedText: '请选择',\r\n");
      out.write("        size:6\r\n");
      out.write("    });\r\n");
      out.write("    \r\n");
      out.write("    // 二位码绑定事件\r\n");
      out.write("    $('#wasteTypeId').change(function(e){\r\n");
      out.write("        $(\"#wasteTypeId\").parsley().validate();\r\n");
      out.write("        if ($(\"#wasteTypeId\").parsley().isValid()) {\r\n");
      out.write("            $(\"#selectedWaste\").removeClass(\"hidden\");\r\n");
      out.write("            wasteTypeEvent();\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("    \r\n");
      out.write("    dispositionItemDispaly (\"");
      out.print(licenceId);
      out.write("\");\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function saveDispositionItemClick(that){\r\n");
      out.write("    if (validateItem ()) {\r\n");
      out.write("        var $licenceItemForm = $(\"#licenceItemForm\");\r\n");
      out.write("        var $selectedDispositionType = $('#disposition_type > option:selected');\r\n");
      out.write("        $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("            async: false,\r\n");
      out.write("            type: \"POST\",\r\n");
      out.write("            dataType: \"json\",\r\n");
      out.write("            url: \"/licence/isHasDispositionItem.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("            data: {\r\n");
      out.write("                \"licenceId\":$licenceItemForm.find(\"#licence_id\").val(),\r\n");
      out.write("                \"dispositionTypeId\":$selectedDispositionType.val()\r\n");
      out.write("            },\r\n");
      out.write("            success: function (result, textStatus, jqXHR) {\r\n");
      out.write("                if (result.data.checkResult) {\r\n");
      out.write("                    layer.confirm('当前处置利用方式已经存在，是否更新？', {\r\n");
      out.write("                        btn: ['更新', '取消'],\r\n");
      out.write("                        shade: confirm_shade,\r\n");
      out.write("                        skin: confirm_skin\r\n");
      out.write("                    }, function (index) {\r\n");
      out.write("                        var itemId = result.data.checkResult;\r\n");
      out.write("                        var $licenceItemForm = $(\"#licenceItemForm\");\r\n");
      out.write("                        $licenceItemForm.find(\"#id\").val(itemId);\r\n");
      out.write("                        \r\n");
      out.write("                        saveOrUpdateDispositionItem (that);\r\n");
      out.write("                        layer.close(index);\r\n");
      out.write("                    }, function () {\r\n");
      out.write("                    });\r\n");
      out.write("                } else {\r\n");
      out.write("                    saveOrUpdateDispositionItem (that);\r\n");
      out.write("                }\r\n");
      out.write("            },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            }\r\n");
      out.write("        }));\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function saveOrUpdateDispositionItem(that){\r\n");
      out.write("    if (validateItem ()) {\r\n");
      out.write("        $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("            async: false,\r\n");
      out.write("            type: \"POST\",\r\n");
      out.write("            dataType: \"json\",\r\n");
      out.write("            url: \"/licence/saveOrUpdateDispositionItem.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("            data: $(\"#licenceItemForm\").serialize(),\r\n");
      out.write("            success: function (result, textStatus, jqXHR) {\r\n");
      out.write("                var itemId = result.data.licenceItemId;\r\n");
      out.write("                var $licenceItemForm = $(\"#licenceItemForm\");\r\n");
      out.write("                $licenceItemForm.find(\"#id\").val(itemId);\r\n");
      out.write("                cancelClick ();\r\n");
      out.write("                dispositionItemDispaly (\"");
      out.print(licenceId);
      out.write("\");\r\n");
      out.write("            },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            }\r\n");
      out.write("        }));\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function cancelClick(){\r\n");
      out.write("    var $dispostionTypeFieldset = $(\"#dispostionTypeFieldset\");\r\n");
      out.write("    var $dispostionTypeDisplayFieldset = $(\"#dispostionTypeDisplayFieldset\");\r\n");
      out.write("    var $dispositionItem = $(\"#dispositionItem\");\r\n");
      out.write("\r\n");
      out.write("    var dispostionTypeDisplayHtml = \"<span>处置利用方式:</span>\";\r\n");
      out.write("    dispostionTypeDisplayHtml += \"<span>\" + $dispostionTypeFieldset.find(\"#disposition_type option:selected\").text() + \"</span>\";\r\n");
      out.write("    dispostionTypeDisplayHtml += \"<span>\" + parseNum($dispostionTypeFieldset.find(\"#approved_quantity\").val()) + \"吨</span>\";\r\n");
      out.write("    $dispostionTypeDisplayFieldset.find(\"label\").empty().append(dispostionTypeDisplayHtml);\r\n");
      out.write("    \r\n");
      out.write("    $dispostionTypeDisplayFieldset.removeClass(\"hidden\");\r\n");
      out.write("    $dispostionTypeFieldset.addClass(\"hidden\");\r\n");
      out.write("    $dispositionItem.removeClass(\"hidden\");\r\n");
      out.write("}\r\n");
      out.write("//编辑\r\n");
      out.write("function updateDispostionType(){\r\n");
      out.write("    var $dispostionTypeFieldset = $(\"#dispostionTypeFieldset\");\r\n");
      out.write("    var $dispostionTypeDisplayFieldset = $(\"#dispostionTypeDisplayFieldset\");\r\n");
      out.write("    var $cancelUpdateItemBtn = $(\"#cancelUpdateItemBtn\");\r\n");
      out.write("\r\n");
      out.write("    $dispostionTypeDisplayFieldset.addClass(\"hidden\");\r\n");
      out.write("    $dispostionTypeFieldset.removeClass(\"hidden\");\r\n");
      out.write("    $cancelUpdateItemBtn.removeClass(\"hidden\");\r\n");
      out.write("}\r\n");
      out.write("//新增处置利用方式\r\n");
      out.write("function addNewDispostionType(){\r\n");
      out.write("    var $itemId = $(\"#licenceItemForm #id\");\r\n");
      out.write("    var $dispostionTypeFieldset = $(\"#dispostionTypeFieldset\");\r\n");
      out.write("    var $dispostionTypeDisplayFieldset = $(\"#dispostionTypeDisplayFieldset\");\r\n");
      out.write("    var $dispositionItem = $(\"#dispositionItem\");\r\n");
      out.write("    var $selectedDispositionType = $('#disposition_type');\r\n");
      out.write("    var $approvedQuantity = $('#approved_quantity');\r\n");
      out.write("    var $cancelUpdateItemBtn = $(\"#cancelUpdateItemBtn\");\r\n");
      out.write("    var $wasteTypeId = $(\"#wasteTypeId\");\r\n");
      out.write("    var $selectedWasteDiv = $(\"#selectedWaste\");\r\n");
      out.write("    \r\n");
      out.write("    $itemId.val(\"\");\r\n");
      out.write("    $dispostionTypeDisplayFieldset.addClass(\"hidden\");\r\n");
      out.write("    $dispostionTypeFieldset.removeClass(\"hidden\");\r\n");
      out.write("    $dispositionItem.addClass(\"hidden\");\r\n");
      out.write("    $selectedDispositionType.val(\"\");\r\n");
      out.write("    $selectedDispositionType.selectpicker('refresh');\r\n");
      out.write("    $approvedQuantity.val(\"\");\r\n");
      out.write("    $cancelUpdateItemBtn.addClass(\"hidden\");\r\n");
      out.write("    $wasteTypeId.val(\"\").selectpicker('refresh');\r\n");
      out.write("    $selectedWasteDiv.empty();\r\n");
      out.write("    $('#saveDispositionDetailBtn').parent().addClass(\"hidden\");\r\n");
      out.write("    $(\"#new-btn\").addClass(\"hidden\");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//保存按钮可用设置\r\n");
      out.write("function validateItem(){\r\n");
      out.write("    var $dispositionType = $(\"#disposition_type\");\r\n");
      out.write("    var $approvedQuantity = $(\"#approved_quantity\");\r\n");
      out.write("    $approvedQuantity.parsley().validate();\r\n");
      out.write("    $dispositionType.parsley().validate();\r\n");
      out.write("    return $dispositionType.parsley().isValid() && \r\n");
      out.write("           $approvedQuantity.parsley().isValid();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function saveDispositionDetailsClick(that){\r\n");
      out.write("    if (validateButton ()) {\r\n");
      out.write("        var detailList = dataToJsonObject ();\r\n");
      out.write("        if (detailList.length == 0) {\r\n");
      out.write("            return;\r\n");
      out.write("        }\r\n");
      out.write("        var berforeText = $(that).text();\r\n");
      out.write("        $(that).before(\"<i class='btn_loading'></i>\").text(\"保存中...\").parent().find(\"button\").attr(\"disabled\",\"disabled\");\r\n");
      out.write("        $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("            async: false,\r\n");
      out.write("            type: \"POST\",\r\n");
      out.write("            dataType: \"json\",\r\n");
      out.write("            url: \"/licence/saveDispositionDetails.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("            data: {\r\n");
      out.write("                \"licenceDetailList\":JSON.stringify(detailList)\r\n");
      out.write("            },\r\n");
      out.write("            success: function (result, textStatus, jqXHR) {\r\n");
      out.write("                $(\"#saveDispositionDetailBtn\").popover({\r\n");
      out.write("                    trigger:'manual',\r\n");
      out.write("                    placement : 'right', \r\n");
      out.write("                    html: 'true',\r\n");
      out.write("                    content : \" <p style='color:#4f5669;font-size:16px;'><span class='fa fa-check-circle'  style='color:#58c558;font-size:26px;color:#58c558'></span>&nbsp保存成功，可以继续添加其他许可项或新增处置利用方式或点击下一步</p>\",\r\n");
      out.write("                    animation: true\r\n");
      out.write("                 });\r\n");
      out.write("                 $(\"#saveDispositionDetailBtn\").popover(\"show\");\r\n");
      out.write("                 setTimeout('$(\"#saveDispositionDetailBtn\").popover(\"hide\");', 8000);\r\n");
      out.write("                 dispositionItemDispaly (\"");
      out.print(licenceId);
      out.write("\");\r\n");
      out.write("            },complete: function (jqXHR, textStatus) {\r\n");
      out.write("                $(that).text(berforeText).parent().find(\"button\").removeAttr(\"disabled\");\r\n");
      out.write("                $(that).prev(\".btn_loading\").remove();\r\n");
      out.write("            }\r\n");
      out.write("        }));\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//许可数量验证事件\r\n");
      out.write("function quantityValid(that){\r\n");
      out.write("    $(that).parsley().validate();\r\n");
      out.write("}\r\n");
      out.write("//二位码绑定事件\r\n");
      out.write("function wasteTypeEvent() {\r\n");
      out.write("    var wasteTypeOptionId = $('#wasteTypeId > option:selected').val();\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: false,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/getWasteByWasteTypeId.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"wasteTypeId\": wasteTypeOptionId\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            var $selectedWasteDiv = $(\"#selectedWaste\");\r\n");
      out.write("            var $saveDispositionDetailBtn = $(\"#saveDispositionDetailBtn\").parent();\r\n");
      out.write("            $selectedWasteDiv.empty();\r\n");
      out.write("            if (result.data.wasteData.length > 0) {\r\n");
      out.write("                $saveDispositionDetailBtn.removeClass(\"hidden\");\r\n");
      out.write("                $(\"#new-btn\").removeClass(\"hidden\");\r\n");
      out.write("                $selectedWasteDiv.append(\"<div class='col-lg-12 checkAllCss'></div>\");\r\n");
      out.write("                $selectedWasteDiv.find(\"div\").append('<label class=\"checkbox-inline c-checkbox\"><input type=\"checkbox\" class=\"checkAllItem\"><span class=\"fa fa-check\"></span></label>');\r\n");
      out.write("                $selectedWasteDiv.find(\"div\").append('<label class=\"control-label\">全选</label>');\r\n");
      out.write("                for (var index in result.data.wasteData) {\r\n");
      out.write("                    $selectedWasteDiv.append(creatWasteOption(result.data.wasteData[index],wasteTypeOptionId).prop(\"outerHTML\"));\r\n");
      out.write("                }\r\n");
      out.write("                \r\n");
      out.write("                initCheckAllItem ();\r\n");
      out.write("                initCheckItemFocus ();\r\n");
      out.write("            } else {\r\n");
      out.write("                $saveDispositionDetailBtn.addClass(\"hidden\");\r\n");
      out.write("            }\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addWasteOption(that) {\r\n");
      out.write("    var removeButton = \"<a href='javascript:;' class='removeBtn' title='删除危废名称' onclick='removeWasteOption(this)'>\" +\"<em class='fa fa-times'></em></a> \";\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    var $newWastePanel = $($wastePanel.prop(\"outerHTML\"));\r\n");
      out.write("    $newWastePanel.find(\".wasteNameId\").val(\"\");\r\n");
      out.write("    if($newWastePanel.find(\".fa.fa-times\").length <= 0) {\r\n");
      out.write("        $newWastePanel.find(\".pluscopy\").before(removeButton);\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    $wastePanel.after($newWastePanel.prop(\"outerHTML\"));\r\n");
      out.write("    initCheckAllItem ();\r\n");
      out.write("    initCheckItemFocus ();\r\n");
      out.write("}\r\n");
      out.write("function removeWasteOption(that) {\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    $wastePanel.remove();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function initCheckAllItem(){\r\n");
      out.write("    /*“全选/反选”复选框*/  \r\n");
      out.write("    var $checkAll = $('#selectedWaste .checkAllItem');\r\n");
      out.write("    var $checkItem = $('#selectedWaste .checkItem');\r\n");
      out.write("    $checkAll.click(function(event){  \r\n");
      out.write("        /*将所有行的选中状态设成全选框的选中状态*/  \r\n");
      out.write("        $checkItem.prop('checked',$(this).prop('checked')); \r\n");
      out.write("    });  \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function initCheckItemFocus(){\r\n");
      out.write("    var $wasteNameInput = $('#selectedWaste .wastecss .input-group input');\r\n");
      out.write("    $wasteNameInput.focus(function(){\r\n");
      out.write("        initWsteNameBsSuggest(this);\r\n");
      out.write("    });  \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//初始化危废名称搜索框\r\n");
      out.write("function initWsteNameBsSuggest(that){\r\n");
      out.write("    $('.wastecss .input-group input').bsSuggest(\"destroy\");\r\n");
      out.write("    var wasteId = $(that).parent().siblings(\".wasteId\").val();\r\n");
      out.write("    $(that).bsSuggest('init', {\r\n");
      out.write("        url: \"");
      out.print(appPath);
      out.write("/licence/getWasteNamesByWasteId.htm?ticketId=");
      out.print(ticketId );
      out.write("&wasteId=\"+ wasteId + \"&keyword=\",\r\n");
      out.write("        ignorecase: true,\r\n");
      out.write("        showHeader: false,\r\n");
      out.write("        showBtn: false,\r\n");
      out.write("        delayUntilKeyup: true,\r\n");
      out.write("        inputWarnColor:'#FFFFFF',\r\n");
      out.write("        getDataMethod: \"url\",\r\n");
      out.write("        searchFields: [\"wasteName\"],\r\n");
      out.write("        idField: \"wasteNameId\",\r\n");
      out.write("        keyField: \"wasteName\",\r\n");
      out.write("        effectiveFields:[\"wasteName\"],\r\n");
      out.write("    }).on('onDataRequestSuccess', function (e, result) {\r\n");
      out.write("        \r\n");
      out.write("    }).on('onSetSelectValue', function (e, keyword, data) {\r\n");
      out.write("        $(that).parent().siblings(\".wasteNameId\").val(data.wasteNameId);\r\n");
      out.write("    }).on('onUnsetSelectValue', function () {\r\n");
      out.write("        \r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function creatWasteOption(wasteVo,wasteTypeId){\r\n");
      out.write("    var addButton = \"<a href='javascript:;' class='pluscopy' title='新增一个危废名称' onclick='addWasteOption(this)'>\" +\"<em class='fa fa-plus'></em></a> \";\r\n");
      out.write("    var $panel = $(\"<div class='wastecss'></div>\");\r\n");
      out.write("//    $panel.append(addButton);\r\n");
      out.write("    $panel.append('<label class=\"checkbox-inline c-checkbox\"><input type=\"checkbox\" class=\"checkItem\" value=\"'+ wasteVo.id +'\">' + '<span class=\"fa fa-check\"></span></label>');\r\n");
      out.write("    $panel.append('<label class=\"control-label\">' + wasteVo.code + '</label>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteTypeId\" value=\"'+ wasteTypeId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteId\" value=\"'+ wasteVo.id +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteNameId\" value=\"\"/>');\r\n");
      out.write("//    $panel.append('<div class=\"input-group float-left\"><div>');\r\n");
      out.write("//    $panel.find(\".input-group\").append('<input type=\"text\" class=\"form-control\" placeholder=\"危废名称\" oninput=\"clearWasteName(this)\"/>');\r\n");
      out.write("//    $panel.find(\".input-group\").append('<ul class=\"dropdown-menu zgl\" role=\"menu\"></ul>');\r\n");
      out.write("    return $panel;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function clearWasteName(that){\r\n");
      out.write("    $(that).parent().siblings(\".wasteNameId\").val(\"\");\r\n");
      out.write("}\r\n");
      out.write("// 创建需要提交的数据json对象\r\n");
      out.write("function dataToJsonObject(){\r\n");
      out.write("    var detailList = [];\r\n");
      out.write("    var $checkItem = $('#selectedWaste .checkItem:checked');\r\n");
      out.write("    var $licenceItemForm = $(\"#licenceItemForm\");\r\n");
      out.write("    var licence_id = $licenceItemForm.find(\"#licence_id\").val();\r\n");
      out.write("    var licence_item_id = $licenceItemForm.find(\"#id\").val();\r\n");
      out.write("    $checkItem.each(function(){\r\n");
      out.write("        var detail = {};\r\n");
      out.write("        var $wastePanel = $(this).parents(\".wastecss\");\r\n");
      out.write("        \r\n");
      out.write("        detail.licence_id = licence_id;\r\n");
      out.write("        detail.operation_item_id = licence_item_id;\r\n");
      out.write("        detail.waste_type = $wastePanel.find(\".wasteTypeId\").val();\r\n");
      out.write("        detail.waste_id = $wastePanel.find(\".wasteId\").val();\r\n");
      out.write("        detail.waste_name_id = $wastePanel.find(\".wasteNameId\").val();\r\n");
      out.write("        detail.excuted_quantity = '0';\r\n");
      out.write("        detail.waste_name = $wastePanel.find(\".input-group input\").val();\r\n");
      out.write("        if (cleanRepeatData (detailList, detail)) {\r\n");
      out.write("            detailList.push(detail);\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("    \r\n");
      out.write("    return detailList;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function cleanRepeatData(detailList,detail){\r\n");
      out.write("    var result = true;//没有重复的\r\n");
      out.write("    if (isNotBlank (detail.licence_id) && isNotBlank (detail.operation_item_id) && isNotBlank (detail.waste_type) &&\r\n");
      out.write("        isNotBlank (detail.waste_id)) {\r\n");
      out.write("        detailList.forEach(function dataToFormq(value,index,arr){\r\n");
      out.write("            if (value.waste_type == detail.waste_type && value.waste_id == detail.waste_id) {\r\n");
      out.write("                if (value.waste_name_id == detail.waste_name_id) {\r\n");
      out.write("                    if (detail.waste_name_id == \"\" ) {\r\n");
      out.write("                        if (value.waste_name == detail.waste_name ) {\r\n");
      out.write("                            result = false;\r\n");
      out.write("                        }\r\n");
      out.write("                    } else {\r\n");
      out.write("                        result = false;\r\n");
      out.write("                    }\r\n");
      out.write("                } \r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    } else {\r\n");
      out.write("        result = false;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    return result;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function removeDispostionItem(that){\r\n");
      out.write("    var itemId = $(that).parents(\".panel-heading\").attr(\"id\");\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: false,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/removeDispostionItem.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"itemId\": itemId,\r\n");
      out.write("            \"licenceId\": \"");
      out.print(licenceId);
      out.write("\"\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            dispositionItemDispaly (\"");
      out.print(licenceId);
      out.write("\");\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// 保存按钮可用设置\r\n");
      out.write("function validateButton(){\r\n");
      out.write("    var $dispositionTyp = $(\"#disposition_type\");\r\n");
      out.write("    var $approvedQuantity = $(\"#approved_quantity\");\r\n");
      out.write("    var $wasteType = $(\"#wasteTypeId\");\r\n");
      out.write("    var $checkItem = $('#selectedWaste .checkItem:checked');\r\n");
      out.write("    var $dispostionTypeFieldset = $('#dispostionTypeFieldset');\r\n");
      out.write("    \r\n");
      out.write("    if (!$dispostionTypeFieldset.hasClass(\"hidden\")) {\r\n");
      out.write("        $.notify(\"请先保存处置利用方式！\", {\"status\": \"info\"});\r\n");
      out.write("        return false;\r\n");
      out.write("    }\r\n");
      out.write("    if ($checkItem.length == 0) {\r\n");
      out.write("        $.notify(\"尚未选择许可明细！\", {\"status\": \"info\"});\r\n");
      out.write("        return false;\r\n");
      out.write("    }\r\n");
      out.write("    $dispositionTyp.parsley().validate();\r\n");
      out.write("    $approvedQuantity.parsley().validate();\r\n");
      out.write("    $wasteType.parsley().validate();\r\n");
      out.write("    return $dispositionTyp.parsley().isValid() && \r\n");
      out.write("           $approvedQuantity.parsley().isValid() && $wasteType.parsley().isValid();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//获取处置方式以便于在右边显示\r\n");
      out.write("function dispositionItemDispaly(licenceId){\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: false,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/getDispositionItems.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"licenceId\":licenceId\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            var $dsiplayAccordion = $(\"#dispostionDsiplayAccordion\");\r\n");
      out.write("            if (result.data.itemList.length > 0) {\r\n");
      out.write("                $dsiplayAccordion.empty();\r\n");
      out.write("                for (var index in result.data.itemList) {\r\n");
      out.write("                    $dsiplayAccordion.append(creatDispostionDsiplay(result.data.itemList[index]).prop(\"outerHTML\"));\r\n");
      out.write("                }\r\n");
      out.write("                \r\n");
      out.write("                // 当前的处置方式下,默认展开\r\n");
      out.write("                var $selectedDispositionType = $('#disposition_type > option:selected');\r\n");
      out.write("                if ($selectedDispositionType.val() != \"\") {\r\n");
      out.write("                \tvar $displayItemHead = $(\".displayItem\").find(\"[href='#\" + $selectedDispositionType.val() + \"']\");\r\n");
      out.write("\t                if ($displayItemHead.length > 0) {\r\n");
      out.write("\t                \t$displayItemHead.attr(\"aria-expanded\",\"true\").removeClass(\"collapsed\");\r\n");
      out.write("\t                \tvar $displayItemBodyP = $displayItemHead.parents(\".panel-heading\").next(\"div\");\r\n");
      out.write("\t                \t$displayItemBodyP.addClass(\"in\").attr(\"aria-expanded\",\"true\").css(\"height\",\"auto\");\r\n");
      out.write("\t                }\r\n");
      out.write("            \t}\r\n");
      out.write("                loadingLicenceDetails();\r\n");
      out.write("            }\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// 创建已保存成功的处置方式\r\n");
      out.write("function creatDispostionDsiplay(itemVo){\r\n");
      out.write("    var $panelItem = $(\"<div class='panel panel-default displayItem'></div>\");\r\n");
      out.write("    var $panelheading = $(\"<div id='\"+ itemVo.itemId + \"' role='tab' class='panel-heading'><span class='hidden licenceId'>\" + itemVo.licenceId + \"</span></div>\");\r\n");
      out.write("    var $panelheadingtext = $(\"<a data-toggle='collapse' data-parent='#dispostionDsiplayAccordion' href='#\" +itemVo.dispositionTypeId + \"' aria-expanded='false' class='collapsed'></a>\");\r\n");
      out.write("    $panelheadingtext.append(\"<span class='paddingleft'>\" + itemVo.dispositionType + \"</span>\");\r\n");
      out.write("    $panelheadingtext.append(\"<span class='paddingleft'>\" + \"年处置量：\" + itemVo.approved_quantity + \"吨</span>\");\r\n");
      out.write("    var $h4 = $(\"<span></span>\").append($panelheadingtext.prop(\"outerHTML\"));\r\n");
      out.write("    $h4.append(\"<span class='pull-right'><em class='fa fa-times clickable' onclick='removeDispostionItem(this)'></em></span>\");\r\n");
      out.write("    $panelheading.append($h4.prop(\"outerHTML\"));\r\n");
      out.write("    \r\n");
      out.write("    var $panelbodyP = $(\"<div id='\"+ itemVo.dispositionTypeId + \"' role='tabpanel' aria-labelledby='\" + itemVo.itemId + \"' class='panel-collapse collapse' aria-expanded='false' style='height: 0px;'></div>\");\r\n");
      out.write("    var $panelbody = $(\"<div class='panel-body'></div>\");\r\n");
      out.write("    \r\n");
      out.write("    $panelbodyP.append($panelbody.prop(\"outerHTML\"));\r\n");
      out.write("    $panelItem.append($panelheading.prop(\"outerHTML\")).append($panelbodyP.prop(\"outerHTML\"));\r\n");
      out.write("    \r\n");
      out.write("    return $panelItem;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function loadingLicenceDetails(){\r\n");
      out.write("    $displayItem = $(\".col-right-height .panel-default.displayItem\");\r\n");
      out.write("    $displayItem.each(function(){\r\n");
      out.write("        loadingLicenceDetailData (this);\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("function loadingLicenceDetailData(that){\r\n");
      out.write("    var licenceId = $(that).find(\".panel-heading .licenceId\").text();\r\n");
      out.write("    var licenceItemId = $(that).find(\".panel-heading\").attr(\"id\");\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: true,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/getDispositionDetails.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"licenceId\":licenceId,\r\n");
      out.write("            \"licenceItemId\":licenceItemId\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            var $panel_body = $(that).find(\".panel-body\");\r\n");
      out.write("            var detailList = result.data.detailList;\r\n");
      out.write("            $panel_body.empty();\r\n");
      out.write("            if (detailList.length > 0) {\r\n");
      out.write("                var str='';\r\n");
      out.write("                var obj1={},obj2={};\r\n");
      out.write("                for (var index in detailList) {\r\n");
      out.write("                    var item=detailList[index];\r\n");
      out.write("                    var key=item.wasteTypeCode+'/'+item.wasteTypeValue;\r\n");
      out.write("                    if(obj1[key]){\r\n");
      out.write("                        obj1[key]+=','+item.wasteCode;\r\n");
      out.write("                    }else{\r\n");
      out.write("                        obj1[key]=item.wasteCode;\r\n");
      out.write("                    }\r\n");
      out.write("                    if(obj2[key]){\r\n");
      out.write("                        obj2[key].push(item);\r\n");
      out.write("                    }else{\r\n");
      out.write("                        obj2[key]=[item];\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("                console.log(obj1);\r\n");
      out.write("                console.log(obj2);\r\n");
      out.write("                var list={};\r\n");
      out.write("                for(var code in obj1){\r\n");
      out.write("                    var obj={};\r\n");
      out.write("                    obj['str']=obj1[code];\r\n");
      out.write("                    obj['list']=obj2[code];\r\n");
      out.write("                    list[code]=obj;\r\n");
      out.write("                }\r\n");
      out.write("                console.log('list==',list);\r\n");
      out.write("                for(var key in list){\r\n");
      out.write("                    $panel_body.append('<div class=\"waste-item\"><div class=\"dList\"><b>'+key+'</b>：('+list[key]['str']+')<a href=\"javascript:;\" onclick=\"showEdit(this)\">编辑</a></div>' +\r\n");
      out.write("                        '<div class=\"eList\"><b>'+key+'：<a href=\"javascript:;\" style=\"float:right\" onclick=\"hideEdit(this)\">完成</a></b>'+getHtmlByList(list[key]['list'])+'</div></div>');\r\n");
      out.write("                }\r\n");
      out.write("                initWastePanelFocus (that);\r\n");
      out.write("            }\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("function getHtmlByList(list) {\r\n");
      out.write("    var str='';\r\n");
      out.write("    for(var i in list){\r\n");
      out.write("        var detailExtend=list[i];\r\n");
      out.write("        str+='<div class=\"col-lg-4 wastecss\">' +\r\n");
      out.write("            '<a href=\"javascript:;\" class=\"removeBtn\" title=\"删除此许可明细\" onclick=\"removeDetailClick(this)\">' +\r\n");
      out.write("            '<em class=\"fa fa-times\"></em></a> ' +\r\n");
      out.write("            '<a href=\"javascript:;\" class=\"pluscopy\" title=\"修改危废名称\" onclick=\"editDetail(this)\">' +\r\n");
      out.write("            '<em class=\"fa fa-edit\"></em></a> <label class=\"control-label\">'+detailExtend.wasteTypeCode + \"/\" + detailExtend.wasteCode+'</label>' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"licenceId\" value=\"'+ detailExtend.itemId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"itemId\" value=\"'+ detailExtend.itemId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"detailId\" value=\"'+ detailExtend.detailId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"wasteTypeId\" value=\"'+ detailExtend.wasteTypeId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"wasteId\" value=\"'+ detailExtend.wasteId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"wasteNameId_bk\" value=\"'+ detailExtend.wasteNameId +'\">' +\r\n");
      out.write("            '<input type=\"hidden\" class=\"wasteNameId\" value=\"'+ detailExtend.wasteNameId +'\">' +\r\n");
      out.write("            '<div class=\"input-group float-left\"><div></div>' +\r\n");
      out.write("            '<input type=\"text\" class=\"form-control\" placeholder=\"无危废名称，添加请编辑\" oninput=\"clearWasteName(this)\" value=\"'+ detailExtend.wasteName +'\" disabled=\"\">' +\r\n");
      out.write("            '<ul class=\"dropdown-menu zgl\" role=\"menu\"></ul></div>' +\r\n");
      out.write("            '</div>';\r\n");
      out.write("    }\r\n");
      out.write("    return str;\r\n");
      out.write("}\r\n");
      out.write("function showEdit(that) {\r\n");
      out.write("    $(that).parent().hide().next().show();\r\n");
      out.write("}\r\n");
      out.write("function hideEdit(that) {\r\n");
      out.write("    $(that).parent().parent().hide().prev().show();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function creatWasteDisplayOption(detailExtend){\r\n");
      out.write("    var removeButton = \"<a href='javascript:;' class='removeBtn' title='删除此许可明细' onclick='removeDetailClick(this)'>\" +\"<em class='fa fa-times'></em></a> \";\r\n");
      out.write("    var editButton = \"<a href='javascript:;' class='pluscopy' title='修改危废名称' onclick='editDetail(this)'>\" +\"<em class='fa fa-edit'></em></a> \";\r\n");
      out.write("    var $panel = $(\"<div class='col-lg-4 wastecss'></div>\");\r\n");
      out.write("    $panel.append(removeButton);\r\n");
      out.write("    $panel.append(editButton);\r\n");
      out.write("    $panel.append('<label class=\"control-label\">' + detailExtend.wasteTypeCode + \"/\" + detailExtend.wasteCode + '</label>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"licenceId\" value=\"'+ detailExtend.licenceId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"itemId\" value=\"'+ detailExtend.itemId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"detailId\" value=\"'+ detailExtend.detailId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteTypeId\" value=\"'+ detailExtend.wasteTypeId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteId\" value=\"'+ detailExtend.wasteId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteNameId_bk\" value=\"'+ detailExtend.wasteNameId +'\"/>');\r\n");
      out.write("    $panel.append('<input type=\"hidden\" class=\"wasteNameId\" value=\"'+ detailExtend.wasteNameId +'\"/>');\r\n");
      out.write("    $panel.append('<div class=\"input-group float-left\"><div>');\r\n");
      out.write("    $panel.find(\".input-group\").append('<input type=\"text\" class=\"form-control\" placeholder=\"无危废名称，添加请编辑\" oninput=\"clearWasteName(this)\" value=\"'+ detailExtend.wasteName +'\"/>');\r\n");
      out.write("    $panel.find(\".input-group\").append('<ul class=\"dropdown-menu zgl\" role=\"menu\"></ul>');\r\n");
      out.write("    $panel.find(\".input-group input\").prop(\"disabled\",true);\r\n");
      out.write("    return $panel;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function initWastePanelFocus(that){\r\n");
      out.write("    var $wasteNameInput = $(that).find('.wastecss .input-group input');\r\n");
      out.write("    $wasteNameInput.focus(function(){\r\n");
      out.write("        initWsteNameBsSuggest(this);\r\n");
      out.write("    });  \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function removeDetailClick(that) {\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    var $em = $(that).find(\"em\");\r\n");
      out.write("    var $fa_edit_em = $(that).siblings(\".pluscopy\").find(\"em\");\r\n");
      out.write("    \r\n");
      out.write("    if ($fa_edit_em.hasClass(\"fa-edit\")) {//删除此危废许可明细\r\n");
      out.write("        removeDetail (that);\r\n");
      out.write("    } else if ($fa_edit_em.hasClass(\"fa-check\")) {// 取消修改危废名称\r\n");
      out.write("        $wastePanel.find(\".input-group input\").prop(\"disabled\",true);\r\n");
      out.write("        $fa_edit_em.removeClass(\"fa-check\").addClass(\"fa-edit\");\r\n");
      out.write("        $wastePanel.find(\".wasteNameId\").val($wastePanel.find(\".wasteNameId_bk\").val());\r\n");
      out.write("        $em.prop(\"title\",\"删除此许可明细\");\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("function editDetail(that) {\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    var $em = $(that).find(\"em\");\r\n");
      out.write("    var $fa_times_em = $(that).siblings(\".removeBtn\").find(\"em\");\r\n");
      out.write("    \r\n");
      out.write("    if ($em.hasClass(\"fa-edit\")) {\r\n");
      out.write("        $wastePanel.find(\".input-group input\").prop(\"disabled\",false);\r\n");
      out.write("        $em.removeClass(\"fa-edit\").addClass(\"fa-check\");\r\n");
      out.write("        $fa_times_em.prop(\"title\",\"取消修改危废名称\");\r\n");
      out.write("    } else if ($em.hasClass(\"fa-check\")) {\r\n");
      out.write("        updateWasteName (that);//更新危废名称\r\n");
      out.write("        $em.removeClass(\"fa-check\").addClass(\"fa-edit\");\r\n");
      out.write("        $fa_times_em.prop(\"title\",\"删除此许可明细\");\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function removeDetail(that) {\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: false,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/removeDetail.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"licenceId\":$wastePanel.find(\".licenceId\").val(),\r\n");
      out.write("            \"detailId\":$wastePanel.find(\".detailId\").val()\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            $wastePanel.remove();\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("function updateWasteName(that) {\r\n");
      out.write("    var $wastePanel = $(that).parents(\".wastecss\");\r\n");
      out.write("    $.page.ajax($.page.getAjaxSettings({\r\n");
      out.write("        async: false,\r\n");
      out.write("        type: \"POST\",\r\n");
      out.write("        dataType: \"json\",\r\n");
      out.write("        url: \"/licence/updateWasteName.htm?etc=\" + new Date().getTime(),\r\n");
      out.write("        data: {\r\n");
      out.write("            \"licenceId\":$wastePanel.find(\".licenceId\").val(),\r\n");
      out.write("            \"detailId\":$wastePanel.find(\".detailId\").val(),\r\n");
      out.write("            \"wasteId\":$wastePanel.find(\".wasteId\").val(),\r\n");
      out.write("            \"wasteNameId\":$wastePanel.find(\".wasteNameId\").val(),\r\n");
      out.write("            \"wasteName\":$wastePanel.find(\".input-group input\").val()\r\n");
      out.write("        },\r\n");
      out.write("        success: function (result, textStatus, jqXHR) {\r\n");
      out.write("            var wasteNameId = result.data.wasteNameId;\r\n");
      out.write("            $wastePanel.find(\".wasteNameId\").val(wasteNameId);\r\n");
      out.write("            $wastePanel.find(\".wasteNameId_bk\").val(wasteNameId);\r\n");
      out.write("            $wastePanel.find(\".input-group input\").prop(\"disabled\",true);\r\n");
      out.write("            $wastePanel.find(\".input-group input\").bsSuggest(\"destroy\");\r\n");
      out.write("        },complete: function (jqXHR, textStatus) {\r\n");
      out.write("            var result = jqXHR.responseJSON;\r\n");
      out.write("            if (result.status != 1) {\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isNotBlank(str) {\r\n");
      out.write("    var result = true;\r\n");
      out.write("    if (!str) {\r\n");
      out.write("        result = false;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    if (str == 'undefined') {\r\n");
      out.write("        result = false;\r\n");
      out.write("    }\r\n");
      out.write("    if (str == '') {\r\n");
      out.write("        result = false;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    return result;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_form_005fform_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:form
    org.springframework.web.servlet.tags.form.FormTag _jspx_th_form_005fform_005f0 = (org.springframework.web.servlet.tags.form.FormTag) _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass.get(org.springframework.web.servlet.tags.form.FormTag.class);
    _jspx_th_form_005fform_005f0.setPageContext(_jspx_page_context);
    _jspx_th_form_005fform_005f0.setParent(null);
    // /WEB-INF/jsp/Licence/addLicence.jsp(24,16) null
    _jspx_th_form_005fform_005f0.setDynamicAttribute(null, "class", "form-horizontal");
    // /WEB-INF/jsp/Licence/addLicence.jsp(24,16) name = modelAttribute type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fform_005f0.setModelAttribute("licenceItem");
    // /WEB-INF/jsp/Licence/addLicence.jsp(24,16) name = id type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fform_005f0.setId("licenceItemForm");
    int[] _jspx_push_body_count_form_005fform_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_form_005fform_005f0 = _jspx_th_form_005fform_005f0.doStartTag();
      if (_jspx_eval_form_005fform_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                    ");
          if (_jspx_meth_form_005fhidden_005f0(_jspx_th_form_005fform_005f0, _jspx_page_context, _jspx_push_body_count_form_005fform_005f0))
            return true;
          out.write("<!-- operation_licence_item主键-->\r\n");
          out.write("                    ");
          if (_jspx_meth_form_005fhidden_005f1(_jspx_th_form_005fform_005f0, _jspx_page_context, _jspx_push_body_count_form_005fform_005f0))
            return true;
          out.write("<!-- operation_licence_item的licence_id-->\r\n");
          out.write("                    <fieldset class=\"fieldsetcss\" id=\"dispostionTypeFieldset\">\r\n");
          out.write("                        <label class=\"col-md-12 control-label colcss\">处置利用方式:</label>\r\n");
          out.write("                        <div class=\"col-md-4 colcss\" id=\"disposition_type_div\">\r\n");
          out.write("                            ");
          if (_jspx_meth_form_005fselect_005f0(_jspx_th_form_005fform_005f0, _jspx_page_context, _jspx_push_body_count_form_005fform_005f0))
            return true;
          out.write("\r\n");
          out.write("                        </div>\r\n");
          out.write("                        <div class=\"col-md-4 colcss\" id=\"approved_uantity_div\">\r\n");
          out.write("                            <div class=\"input-group\">\r\n");
          out.write("                                ");
          if (_jspx_meth_form_005finput_005f0(_jspx_th_form_005fform_005f0, _jspx_page_context, _jspx_push_body_count_form_005fform_005f0))
            return true;
          out.write("\r\n");
          out.write("                                <span class=\"input-group-addon\">吨</span>\r\n");
          out.write("                            </div>\r\n");
          out.write("                        </div>\r\n");
          out.write("                        <div class=\"col-md-4 colcss\">\r\n");
          out.write("                           <button type=\"button\" id=\"saveDispositionItemBtn\" class=\"btn btn-primary\" onclick=\"saveDispositionItemClick(this)\">保存</button>\r\n");
          out.write("                           <button type=\"button\" id=\"cancelUpdateItemBtn\" class=\"btn btn-default hidden\" onclick=\"cancelClick()\">取消</button>\r\n");
          out.write("                       </div>\r\n");
          out.write("                    </fieldset>\r\n");
          out.write("                    <fieldset class=\"fieldsetcss hidden\" id=\"dispostionTypeDisplayFieldset\">\r\n");
          out.write("                        <div>\r\n");
          out.write("                            <label class=\"control-label colcss\"></label>\r\n");
          out.write("                        </div>\r\n");
          out.write("                        <button type=\"button\" class=\"btn btn-default\" onclick=\"updateDispostionType()\">编辑</button>\r\n");
          out.write("                    </fieldset>\r\n");
          out.write("                ");
          int evalDoAfterBody = _jspx_th_form_005fform_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_form_005fform_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005fform_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005fform_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005fform_005f0.doFinally();
      _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass.reuse(_jspx_th_form_005fform_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_form_005fhidden_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fform_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fform_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:hidden
    org.springframework.web.servlet.tags.form.HiddenInputTag _jspx_th_form_005fhidden_005f0 = (org.springframework.web.servlet.tags.form.HiddenInputTag) _005fjspx_005ftagPool_005fform_005fhidden_0026_005fpath_005fnobody.get(org.springframework.web.servlet.tags.form.HiddenInputTag.class);
    _jspx_th_form_005fhidden_005f0.setPageContext(_jspx_page_context);
    _jspx_th_form_005fhidden_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fform_005f0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(25,20) name = path type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fhidden_005f0.setPath("id");
    int[] _jspx_push_body_count_form_005fhidden_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_form_005fhidden_005f0 = _jspx_th_form_005fhidden_005f0.doStartTag();
      if (_jspx_th_form_005fhidden_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005fhidden_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005fhidden_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005fhidden_005f0.doFinally();
      _005fjspx_005ftagPool_005fform_005fhidden_0026_005fpath_005fnobody.reuse(_jspx_th_form_005fhidden_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_form_005fhidden_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fform_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fform_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:hidden
    org.springframework.web.servlet.tags.form.HiddenInputTag _jspx_th_form_005fhidden_005f1 = (org.springframework.web.servlet.tags.form.HiddenInputTag) _005fjspx_005ftagPool_005fform_005fhidden_0026_005fvalue_005fpath_005fnobody.get(org.springframework.web.servlet.tags.form.HiddenInputTag.class);
    _jspx_th_form_005fhidden_005f1.setPageContext(_jspx_page_context);
    _jspx_th_form_005fhidden_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fform_005f0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(26,20) name = path type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fhidden_005f1.setPath("licence_id");
    // /WEB-INF/jsp/Licence/addLicence.jsp(26,20) null
    _jspx_th_form_005fhidden_005f1.setDynamicAttribute(null, "value", (java.lang.Object) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${licenceId}", java.lang.Object.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
    int[] _jspx_push_body_count_form_005fhidden_005f1 = new int[] { 0 };
    try {
      int _jspx_eval_form_005fhidden_005f1 = _jspx_th_form_005fhidden_005f1.doStartTag();
      if (_jspx_th_form_005fhidden_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005fhidden_005f1[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005fhidden_005f1.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005fhidden_005f1.doFinally();
      _005fjspx_005ftagPool_005fform_005fhidden_0026_005fvalue_005fpath_005fnobody.reuse(_jspx_th_form_005fhidden_005f1);
    }
    return false;
  }

  private boolean _jspx_meth_form_005fselect_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fform_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fform_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:select
    org.springframework.web.servlet.tags.form.SelectTag _jspx_th_form_005fselect_005f0 = (org.springframework.web.servlet.tags.form.SelectTag) _005fjspx_005ftagPool_005fform_005fselect_0026_005fpath_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002derrors_002dcontainer_005fdata_002dlive_002dsearch_005fclass.get(org.springframework.web.servlet.tags.form.SelectTag.class);
    _jspx_th_form_005fselect_005f0.setPageContext(_jspx_page_context);
    _jspx_th_form_005fselect_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fform_005f0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) name = path type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fselect_005f0.setPath("disposition_type");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "class", "selectpicker form-control");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "data-live-search", "true");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "data-trigger", "change");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "data-parsley-required", "required");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "data-parsley-required-message", "请选择处置利用方式");
    // /WEB-INF/jsp/Licence/addLicence.jsp(30,28) null
    _jspx_th_form_005fselect_005f0.setDynamicAttribute(null, "data-parsley-errors-container", "#disposition_type_div");
    int[] _jspx_push_body_count_form_005fselect_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_form_005fselect_005f0 = _jspx_th_form_005fselect_005f0.doStartTag();
      if (_jspx_eval_form_005fselect_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                                <option value=\"\"></option>\r\n");
          out.write("                                 ");
          if (_jspx_meth_c_005fforEach_005f0(_jspx_th_form_005fselect_005f0, _jspx_page_context, _jspx_push_body_count_form_005fselect_005f0))
            return true;
          out.write("\r\n");
          out.write("                            ");
          int evalDoAfterBody = _jspx_th_form_005fselect_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_form_005fselect_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005fselect_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005fselect_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005fselect_005f0.doFinally();
      _005fjspx_005ftagPool_005fform_005fselect_0026_005fpath_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002derrors_002dcontainer_005fdata_002dlive_002dsearch_005fclass.reuse(_jspx_th_form_005fselect_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fselect_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fselect_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f0 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    _jspx_th_c_005fforEach_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fforEach_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fselect_005f0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(33,33) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setVar("it");
    // /WEB-INF/jsp/Licence/addLicence.jsp(33,33) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/jsp/Licence/addLicence.jsp(33,33) '${dispositioTypeList}'",_el_expressionfactory.createValueExpression(_jspx_page_context.getELContext(),"${dispositioTypeList}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
    // /WEB-INF/jsp/Licence/addLicence.jsp(33,33) name = varStatus type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setVarStatus("status");
    // /WEB-INF/jsp/Licence/addLicence.jsp(33,33) name = begin type = int reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setBegin(0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(33,33) name = step type = int reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setStep(1);
    int[] _jspx_push_body_count_c_005fforEach_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fforEach_005f0 = _jspx_th_c_005fforEach_005f0.doStartTag();
      if (_jspx_eval_c_005fforEach_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                                     <option value=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write('"');
          out.write('>');
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.code}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write('-');
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.value}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("</option>\r\n");
          out.write("                                 ");
          int evalDoAfterBody = _jspx_th_c_005fforEach_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fforEach_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fforEach_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fforEach_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fforEach_005f0.doFinally();
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin.reuse(_jspx_th_c_005fforEach_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_form_005finput_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fform_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fform_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:input
    org.springframework.web.servlet.tags.form.InputTag _jspx_th_form_005finput_005f0 = (org.springframework.web.servlet.tags.form.InputTag) _005fjspx_005ftagPool_005fform_005finput_0026_005ftype_005fplaceholder_005fpath_005foninput_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002dpattern_002dmessage_005fdata_002dparsley_002dpattern_005fdata_002dparsley_002derrors_002dcontainer_005fclass_005fnobody.get(org.springframework.web.servlet.tags.form.InputTag.class);
    _jspx_th_form_005finput_005f0.setPageContext(_jspx_page_context);
    _jspx_th_form_005finput_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fform_005f0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "type", "text");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) name = path type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005finput_005f0.setPath("approved_quantity");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "placeholder", "许可数量(单位：吨)");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "class", "form-control h35");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-trigger", "change");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "oninput", "quantityValid(this)");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-parsley-required", "required");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-parsley-required-message", "请输入许可数量");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-parsley-errors-container", "#approved_uantity_div");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-parsley-pattern", "^([1-9]\\d{0,12}|0)(\\.\\d{0,3})?$");
    // /WEB-INF/jsp/Licence/addLicence.jsp(40,32) null
    _jspx_th_form_005finput_005f0.setDynamicAttribute(null, "data-parsley-pattern-message", "许可数量的格式不正确");
    int[] _jspx_push_body_count_form_005finput_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_form_005finput_005f0 = _jspx_th_form_005finput_005f0.doStartTag();
      if (_jspx_th_form_005finput_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005finput_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005finput_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005finput_005f0.doFinally();
      _005fjspx_005ftagPool_005fform_005finput_0026_005ftype_005fplaceholder_005fpath_005foninput_005fdata_002dtrigger_005fdata_002dparsley_002drequired_002dmessage_005fdata_002dparsley_002drequired_005fdata_002dparsley_002dpattern_002dmessage_005fdata_002dparsley_002dpattern_005fdata_002dparsley_002derrors_002dcontainer_005fclass_005fnobody.reuse(_jspx_th_form_005finput_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_form_005fform_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  form:form
    org.springframework.web.servlet.tags.form.FormTag _jspx_th_form_005fform_005f1 = (org.springframework.web.servlet.tags.form.FormTag) _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass.get(org.springframework.web.servlet.tags.form.FormTag.class);
    _jspx_th_form_005fform_005f1.setPageContext(_jspx_page_context);
    _jspx_th_form_005fform_005f1.setParent(null);
    // /WEB-INF/jsp/Licence/addLicence.jsp(60,15) null
    _jspx_th_form_005fform_005f1.setDynamicAttribute(null, "class", "form-horizontal");
    // /WEB-INF/jsp/Licence/addLicence.jsp(60,15) name = modelAttribute type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fform_005f1.setModelAttribute("licenceItem");
    // /WEB-INF/jsp/Licence/addLicence.jsp(60,15) name = id type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_form_005fform_005f1.setId("detailForm");
    int[] _jspx_push_body_count_form_005fform_005f1 = new int[] { 0 };
    try {
      int _jspx_eval_form_005fform_005f1 = _jspx_th_form_005fform_005f1.doStartTag();
      if (_jspx_eval_form_005fform_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                   <fieldset class=\"fieldsetcss\" id=\"dispositionDetail\">\r\n");
          out.write("                       <label class=\"col-md-1 control-label\" style=\"width: 67px;padding: 0;\">选择代码:</label>\r\n");
          out.write("                       <div class=\"col-md-8 colcss\" id=\"wasteTypeField\">\r\n");
          out.write("                           <select id=\"wasteTypeId\" class=\"selectpicker form-control\" style=\"width: 200px\" data-live-search=\"true\" data-trigger=\"change\"\r\n");
          out.write("                                   data-parsley-required=\"required\" data-parsley-required-message=\"请输入许可内容\" data-parsley-errors-container=\"#wasteTypeField\">\r\n");
          out.write("                               <option value=\"\"></option>\r\n");
          out.write("                               ");
          if (_jspx_meth_c_005fforEach_005f1(_jspx_th_form_005fform_005f1, _jspx_page_context, _jspx_push_body_count_form_005fform_005f1))
            return true;
          out.write("\r\n");
          out.write("                           </select>\r\n");
          out.write("                       </div>\r\n");
          out.write("                   </fieldset>\r\n");
          out.write("                   <fieldset class=\"fieldsetcss hidden\" id=\"selectedWaste\">\r\n");
          out.write("                   </fieldset>\r\n");
          out.write("                   <div class=\"col-md-12 colcss selectcss hidden\" style=\"float: none\">\r\n");
          out.write("                       <button type=\"button\" id=\"saveDispositionDetailBtn\" class=\"btn btn-primary\" onclick=\"saveDispositionDetailsClick(this)\">保存</button>\r\n");
          out.write("                   </div>\r\n");
          out.write("                   <div style=\"text-align: center;margin-top: 20px;border-top: 1px dotted #ccc;padding-top: 20px;\" id=\"new-btn\" class=\"hidden\">\r\n");
          out.write("                       <button type=\"button\" class=\"btn btn-primary\" onclick=\"$('ul[role=menu] li:nth-child(2) a').click();\">完成许可证创建并下一步</button>\r\n");
          out.write("                       <button type=\"button\" class=\"btn btn-primary\" onclick=\"addNewDispostionType()\">新增处置利用方式</button>\r\n");
          out.write("                   </div>\r\n");
          out.write("               ");
          int evalDoAfterBody = _jspx_th_form_005fform_005f1.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_form_005fform_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_form_005fform_005f1[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_form_005fform_005f1.doCatch(_jspx_exception);
    } finally {
      _jspx_th_form_005fform_005f1.doFinally();
      _005fjspx_005ftagPool_005fform_005fform_0026_005fmodelAttribute_005fid_005fclass.reuse(_jspx_th_form_005fform_005f1);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_form_005fform_005f1, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_form_005fform_005f1)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f1 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    _jspx_th_c_005fforEach_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fforEach_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_form_005fform_005f1);
    // /WEB-INF/jsp/Licence/addLicence.jsp(67,31) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f1.setVar("it");
    // /WEB-INF/jsp/Licence/addLicence.jsp(67,31) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f1.setItems(new org.apache.jasper.el.JspValueExpression("/WEB-INF/jsp/Licence/addLicence.jsp(67,31) '${wasteTypeList}'",_el_expressionfactory.createValueExpression(_jspx_page_context.getELContext(),"${wasteTypeList}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
    // /WEB-INF/jsp/Licence/addLicence.jsp(67,31) name = varStatus type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f1.setVarStatus("status");
    // /WEB-INF/jsp/Licence/addLicence.jsp(67,31) name = begin type = int reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f1.setBegin(0);
    // /WEB-INF/jsp/Licence/addLicence.jsp(67,31) name = step type = int reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f1.setStep(1);
    int[] _jspx_push_body_count_c_005fforEach_005f1 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fforEach_005f1 = _jspx_th_c_005fforEach_005f1.doStartTag();
      if (_jspx_eval_c_005fforEach_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                                   <option value=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\" class=\"");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.code}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write('"');
          out.write('>');
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.code}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write(' ');
          out.write('-');
          out.write(' ');
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${it.description}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("</option>\r\n");
          out.write("                               ");
          int evalDoAfterBody = _jspx_th_c_005fforEach_005f1.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fforEach_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fforEach_005f1[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fforEach_005f1.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fforEach_005f1.doFinally();
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvarStatus_005fvar_005fstep_005fitems_005fbegin.reuse(_jspx_th_c_005fforEach_005f1);
    }
    return false;
  }
}
