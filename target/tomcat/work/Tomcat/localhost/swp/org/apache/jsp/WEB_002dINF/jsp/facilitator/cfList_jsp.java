/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-08-29 01:28:53 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.facilitator;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class cfList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\n');

	String appPath=request.getContextPath();
	String ticketId = (String)request.getAttribute("ticketId");

      out.write('\n');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/user_top.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("title", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("我的易废圈", request.getCharacterEncoding()), out, true);
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/facilitatorMenu.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("menuId", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("#myIndex", request.getCharacterEncoding()), out, true);
      out.write("\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.css\">\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/wastecircle/style.css?1\">\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath);
      out.write("/thirdparty/city-picker/js/city-picker.data.js\"></script>\n");
      out.write("<section style=\"margin-bottom: 0 !important;\">\n");
      out.write("\t<div class=\"el-breadcrumb\">\n");
      out.write("        <span class=\"el-breadcrumb__item\">\n");
      out.write("            <span class=\"el-breadcrumb__item__inner\">资源池</span>\n");
      out.write("        </span>\n");
      out.write("\t</div>\n");
      out.write("\t\t<div id=\"app\">\n");
      out.write("\t\t\t<template>\n");
      out.write("\t\t\t\t<div class=\"search_bd\">\n");
      out.write("\t\t\t\t\t<dl class=\"filter_item\" id=\"quality_select\">\n");
      out.write("\t\t\t\t\t\t<dt>按量：</dt>\n");
      out.write("\t\t\t\t\t\t<dd>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==0}\" @click=\"selectQuality(0)\">不限</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==1}\" @click=\"selectQuality(1)\">3吨以下</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==2}\" @click=\"selectQuality(2)\">3-5吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==3}\" @click=\"selectQuality(3)\">5-10吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==4}\" @click=\"selectQuality(4)\">10-30吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==5}\" @click=\"selectQuality(5)\">30-100吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==6}\" @click=\"selectQuality(6)\">100-300吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==7}\" @click=\"selectQuality(7)\">300-1000吨</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" :class=\"{'select':qualityType==8}\" @click=\"selectQuality(8)\">1000吨以上</a>\n");
      out.write("\t\t\t\t\t\t</dd>\n");
      out.write("\t\t\t\t\t</dl>\n");
      out.write("\t\t\t\t\t<!-- 方式 -->\n");
      out.write("\t\t\t\t\t<dl class=\"filter_item\" id=\"wasteCode_select\" style=\"display: none\">\n");
      out.write("\t\t\t\t\t\t<dt>排除：</dt>\n");
      out.write("\t\t\t\t\t\t<dd>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" v-for=\"(item,index) in wasteInfoList\" @click=\"selectWaste(item,index)\" class=\"wasteInfoItem\" :class=\"{'select':item.select}\">\n");
      out.write("\t\t\t\t\t\t\t\t{{item.code}}\n");
      out.write("\t\t\t\t\t\t\t</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" class=\"select\" @click=\"changeAllWasteShow\">{{allWasteShow?'&lt;收起':'展开全部&gt;'}}</a>\n");
      out.write("\t\t\t\t\t\t</dd>\n");
      out.write("\t\t\t\t\t</dl>\n");
      out.write("\t\t\t\t\t<dl class=\"filter_item\" id=\"eightCode_select\" v-show=\"eightCodeList.length>0\">\n");
      out.write("\t\t\t\t\t\t<dt>&nbsp;</dt>\n");
      out.write("\t\t\t\t\t\t<dd>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" id=\"total_checkbox\">\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"icon-checkbox\"></span>\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"text\">全选</span>\n");
      out.write("\t\t\t\t\t\t\t</a>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" v-for=\"(item,index) in eightCodeList\" @click=\"selectEightCode(item,index)\"\n");
      out.write("\t\t\t\t\t\t\t   :class=\"{'select':item.select}\">\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"icon-checkbox\"></span>\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"text\">{{item.code}}</span>\n");
      out.write("\t\t\t\t\t\t\t</a>\n");
      out.write("\t\t\t\t\t\t</dd>\n");
      out.write("\t\t\t\t\t</dl>\n");
      out.write("                    <dl class=\"filter_item\">\n");
      out.write("                        <dt>收藏：</dt>\n");
      out.write("                        <dd>\n");
      out.write("                            <a href=\"javascript:\" :class=\"{'select':favoriteType==false}\" @click=\"selectFavorite(false)\">不限</a>\n");
      out.write("                            <a href=\"javascript:\" :class=\"{'select':favoriteType==true}\" @click=\"selectFavorite(true)\">我收藏的资源</a>\n");
      out.write("                        </dd>\n");
      out.write("                    </dl>\n");
      out.write("                    <dl class=\"filter_item\">\n");
      out.write("                        <dt>报价：</dt>\n");
      out.write("                        <dd>\n");
      out.write("                            <a href=\"javascript:\" :class=\"{'select':inquiryStatus==2}\" @click=\"selectInquiryStatus(2)\">不限</a>\n");
      out.write("                            <a href=\"javascript:\" :class=\"{'select':inquiryStatus==1}\" @click=\"selectInquiryStatus(1)\">已报价</a>\n");
      out.write("                            <a href=\"javascript:\" :class=\"{'select':inquiryStatus==0}\" @click=\"selectInquiryStatus(0)\">未报价</a>\n");
      out.write("                        </dd>\n");
      out.write("                    </dl>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div id=\"selected\" class=\"bar\" style=\"display: block;\" v-show=\"provinceName||qualityType!=0||JSON.stringify(wasteCode) !== '{}'\">\n");
      out.write("\t\t\t\t\t<div class=\"barct\">\n");
      out.write("\t\t\t\t\t\t<span class=\"condition\">筛选条件：</span>\n");
      out.write("\t\t\t\t\t\t<span class=\"par\" v-show=\"provinceName\">\n");
      out.write("\t\t\t\t\t\t\t<em>{{provinceName}}{{cityName?('>'+cityName):cityName}}{{districtName?('>'+districtName):districtName}}</em>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" @click=\"selectProvince('','')\"><i class=\"el-icon-close\"></i></a>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<span class=\"par\" v-show=\"qualityType!=0\">\n");
      out.write("\t\t\t\t\t\t\t<em>{{getQualityTypeText()}}</em>\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:\" @click=\"selectQuality(0)\"><i class=\"el-icon-close\"></i></a>\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<span id=\"wasteCodeCondition\" v-show=\"JSON.stringify(wasteCode) !== '{}'\">\n");
      out.write("\t\t\t\t\t\t\t\t<em>不含：(</em>\n");
      out.write("\t\t\t\t\t\t\t\t<span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"par\" v-for=\"(value,key) in wasteCode\" v-if=\"typeof value=='number'||typeof value=='string'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<em>{{key}}</em>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:\" @click=\"selectWaste(wasteInfoList[value],value)\"><i class=\"el-icon-close\"></i></a>\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<span v-else>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span class=\"par\" v-for=\"(item,index) in value\" v-if=\"item.select\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<em>{{item.code}}</em>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:\" @click=\"clearEightCode(item)\"><i class=\"el-icon-close\"></i></a>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t)\n");
      out.write("\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:\" class=\"clearCondition\" @click=\"clearAll\">清空</a>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"ent_container\">\n");
      out.write("\t\t\t\t\t<div class=\"item_container\" v-for=\"(item,index) in list\">\n");
      out.write("\t\t\t\t\t\t<div class=\"item\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"item_logo\">\n");
      out.write("\t\t\t\t\t\t\t\t<img :src=\"item.imgSrc\">\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"item_message\">\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"item_info\"><span class=\"item_name\" @click=\"entDetail(item.releaseEntId,item.facilitatorEntId)\">{{item.entName}}</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-tag type=\"success\" v-if=\"item.facilitatorEntId==selfEntId\">自营业务</el-tag>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-tag v-if=\"item.inquiryStatus==1\">已报价</el-tag>\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"item_publish\"><i class=\"time_icon\"></i>\n");
      out.write("\t\t\t\t\t\t\t\t\t发布于{{item.releaseDate.substring(0,16)}}\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\n");
      out.write("\t\t\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"item_address\" v-if=\"item.entAddress\"><i class=\"publisharea\"></i>{{item.entAddress}}<span>（距离{{item.distance}}公里）</span>\n");
      out.write("\t\t\t\t\t\t\t\t</p>\n");
      out.write("\t\t\t\t\t\t\t\t<p style=\"margin: 4px 0\" v-else></p>\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"total_amount\"> 总计：<span> {{item.totalWasteCount}} </span> 种危废，累计<span>{{item.totalWasteAmountDesc}}</span>。你可处置的危废有:<span> {{item.disposalWasteCount||0}} </span> 种危废{{item.disposalWasteAmount?',累计':''}}<span>{{item.disposalWasteAmount||''}}</span>。</p>\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"itemReleaseList\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"itemRelease\" v-for=\"(wasteItem,index) in item.releaseWasteDetails\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span >{{wasteItem.wasteName}}</span><span>{{wasteItem.wasteCode}}</span><span>{{wasteItem.wasteAmount}}{{wasteItem.unitValue}}</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-row :gutter=\"10\" style=\"padding-right: 20px;margin-top: 9px;word-wrap: break-word;\" v-show=\"!item.releaseRemark==''\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span><b>备注：</b>{{item.releaseRemark}}。</span>\n");
      out.write("\t\t\t\t\t\t\t\t</el-row>\n");
      out.write("\t\t\t\t\t\t\t\t<el-row :gutter=\"10\" style=\"padding-right: 20px;margin-top: 9px;\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-col :span=\"24\" align=\"right\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" class=\"qipao_logo\" href=\"javascript:\" v-if=\"item.facilitatorEntId!=selfEntId\" @click=\"contact(item.releaseEntId,item.entName)\" style=\"margin-right: 18px;margin-left: 18px\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<img src=\"../main/pc/img/qipao.jpg\">联系TA</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" href=\"javascript:\" class=\"goDetail\" @click=\"buy(item)\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<i class=\"responsepublish\"></i>报价</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<el-button type=\"text\" :class=\"{'favorited':item.favorited,favorite_logo:true}\" href=\"javascript:\" @click=\"favorite(item,index)\">\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t<i class=\"favorite\"></i>{{item.favorited?'已':''}}收藏\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</el-button>\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-col>\n");
      out.write("\t\t\t\t\t\t\t\t</el-row>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<div class=\"loadComplete\" v-show=\"list.length==0&&!listLoading\">暂无相关数据</div>\n");
      out.write("\t\t\t\t</div>\n");
      out.write("\t\t\t\t<div class=\"loadComplete\" v-show=\"loadComplete&&list.length>0\">数据加载完成</div>\n");
      out.write("\t\t\t\t<div class=\"loading\" v-show=\"listLoading&&!loadComplete\"><img src=\"");
      out.print(appPath );
      out.write("/main/pc/img/load.gif\"></div>\n");
      out.write("\t\t\t\t<el-dialog\n");
      out.write("\t\t\t\t\t\tclass=\"signDialog animated bounceInRight\"\n");
      out.write("\t\t\t\t\t\t:visible.sync=\"signDialogVisible\"\n");
      out.write("\t\t\t\t\t\t:modal-append-to-body=\"false\"\n");
      out.write("\t\t\t\t\t\t:modal=\"false\"\n");
      out.write("\t\t\t\t\t\t:before-close=\"closeSignDialog\"\n");
      out.write("\t\t\t\t\t\twidth=\"320px\">\n");
      out.write("\t\t\t\t\t<span slot=\"title\" class=\"title\">标记</span>\n");
      out.write("\t\t\t\t\t<div class=\"entInfo\">\n");
      out.write("\t\t\t\t\t\t<p><em>单位：</em><b>{{signItem.entName}}</b></p>\n");
      out.write("\t\t\t\t\t\t<p><em>总数：</em><b><font color=\"#1171d1\">{{signItem.disposalWasteAmount}}</font></b></p>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<div class=\"editArea\">\n");
      out.write("\t\t\t\t\t\t<el-button-group>\n");
      out.write("\t\t\t\t\t\t\t<el-select v-model=\"signType\" placeholder=\"请选择标记类型\" style=\"float: left\">\n");
      out.write("\t\t\t\t\t\t\t\t<el-option\n");
      out.write("\t\t\t\t\t\t\t\t\t\tv-for=\"item in signTypeList\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:key=\"item.code\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:label=\"item.value\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t:value=\"item.code\">\n");
      out.write("\t\t\t\t\t\t\t\t</el-option>\n");
      out.write("\t\t\t\t\t\t\t</el-select>\n");
      out.write("\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"showSignForm\">新增标记</el-button>\n");
      out.write("\t\t\t\t\t\t</el-button-group>\n");
      out.write("\t\t\t\t\t\t<div class=\"sign_form\" v-if=\"signFormShow\">\n");
      out.write("\t\t\t\t\t\t\t<div class=\"sign_form_title\">添加{{SIGNTYPE[signType]}}标记</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"sign_form_content\">\n");
      out.write("\t\t\t\t\t\t\t\t<el-input v-if=\"signType=='TAGING'\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t  type=\"textarea\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t  :rows=\"2\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t  placeholder=\"说点什么吧\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t  v-model=\"say\">\n");
      out.write("\t\t\t\t\t\t\t\t</el-input>\n");
      out.write("\t\t\t\t\t\t\t\t<div v-if=\"signType=='SAMPLING'\" align=\"center\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-date-picker\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tv-model=\"sampleDate\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\talign=\"right\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择取样时间\">\n");
      out.write("\t\t\t\t\t\t\t\t\t</el-date-picker>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-input v-model=\"sampleName\" placeholder=\"请输入联系人姓名\"></el-input>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-input v-model=\"sampleMobile\" placeholder=\"请输入联系人电话\"></el-input>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<el-radio-group v-model=\"sampleStatus\" v-if=\"signType=='SAMPLE'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"DELIVERED_LAB\">已送实验室</el-radio>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"QUALIFIED\">合格</el-radio>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"UNQUALIFIED\">不合格</el-radio>\n");
      out.write("\t\t\t\t\t\t\t\t</el-radio-group>\n");
      out.write("\t\t\t\t\t\t\t\t<el-radio-group v-model=\"contractStatus\" v-if=\"signType=='CONTRACT'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"DRAFTCONTRACT\">合同已拟定</el-radio>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"DELIVERYCONTRACT\">合同已寄出</el-radio><br/>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-radio label=\"SIGNCONTRACT\" style=\"margin-top: 10px\">合同已签定</el-radio>\n");
      out.write("\t\t\t\t\t\t\t\t</el-radio-group>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t<div class=\"sign_form_btn\">\n");
      out.write("\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"small\" style=\"height: 30px\" @click=\"saveSign\">保存</el-button>\n");
      out.write("\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t<div class=\"signTimeLine\" v-loading=\"signDialogloading\"\n");
      out.write("\t\t\t\t\t\t element-loading-spinner=\"el-icon-loading\"\n");
      out.write("\t\t\t\t\t\t element-loading-background=\"rgba(246, 247, 251, 0.8)\">\n");
      out.write("\t\t\t\t\t\t<el-steps direction=\"vertical\" :active=\"1\" v-if=\"signList.length>0\">\n");
      out.write("\t\t\t\t\t\t\t<el-step v-for=\"(item,index) in signList\">\n");
      out.write("\t\t\t\t\t\t\t\t<div slot=\"title\" class=\"signTitle\">\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"signTime\">{{item.createTime.substring(0,16)}}</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"signCreate\">{{item.createBy}}</span>\n");
      out.write("\t\t\t\t\t\t\t\t\t<el-button type=\"text\" class=\"el-icon-delete\" title=\"删除该标记\" @click=\"delSign(item.id)\"></el-button>\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div slot=\"description\" class=\"signContent\" v-if=\"item.tagType=='TAGING'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t{{item.comments}}\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div slot=\"description\" class=\"signContent\" v-if=\"item.tagType=='SAMPLING'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t取样时间：{{item.sampleDate.substring(0,10)}}<br/>\n");
      out.write("\t\t\t\t\t\t\t\t\t联系人：{{item.contacts}}<br/>\n");
      out.write("\t\t\t\t\t\t\t\t\t联系电话：{{item.contactsTel}}\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div slot=\"description\" class=\"signContent\" v-if=\"item.tagType=='SAMPLE'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t{{item.comments}}\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t\t<div slot=\"description\" class=\"signContent\" v-if=\"item.tagType=='CONTRACT'\">\n");
      out.write("\t\t\t\t\t\t\t\t\t{{TAGSTATUS[item.busiStatus]}}\n");
      out.write("\t\t\t\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t\t\t\t</el-step>\n");
      out.write("\t\t\t\t\t\t</el-steps>\n");
      out.write("\t\t\t\t\t\t<span v-else style=\"display: inline-block;text-align: center;width: 100%;\">暂无标记信息</span>\n");
      out.write("\t\t\t\t\t</div>\n");
      out.write("\t\t\t\t</el-dialog>\n");
      out.write("\t\t\t</template>\n");
      out.write("\t\t</div>\n");
      out.write("\n");
      out.write("\t\t<!-- 先引入 Vue -->\n");
      out.write("\t\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue.min.js\"></script>\n");
      out.write("\t\t<!-- 引入组件库 -->\n");
      out.write("\t\t<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/la-number/la-number.js\"></script>\n");
      out.write("\t\t<script src=\"");
      out.print(appPath );
      out.write("/main/pc/js/wasteInfoList.js\"></script>\n");
      out.write("\t\t<script>\n");
      out.write("            var vue=new Vue({\n");
      out.write("                el: '#app',\n");
      out.write("                data: {\n");
      out.write("                    pageIndex:1,\n");
      out.write("\t\t\t\t\tpageSize:5,\n");
      out.write("\t\t\t\t\tlist:[],\n");
      out.write("                    listLoading:true,\n");
      out.write("\t\t\t\t\tloadComplete:false,\n");
      out.write("\t\t\t\t\tprovinces:ChineseDistricts['provinces'],\n");
      out.write("                    allProvincesShow:false,\n");
      out.write("\t\t\t\t\tprovince:'',\n");
      out.write("\t\t\t\t\tcityList:null,\n");
      out.write("\t\t\t\t\tcity:'',\n");
      out.write("                    districts:null,\n");
      out.write("                    district:'',\n");
      out.write("\t\t\t\t\twasteInfoList:wasteInfoList,\n");
      out.write("\t\t\t\t\teightCodeList:[],\n");
      out.write("                    allWasteShow:false,\n");
      out.write("\t\t\t\t\tcurrentCode:'',\n");
      out.write("\t\t\t\t\tcurrentIndex:0,\n");
      out.write("                    wasteCode:{},\n");
      out.write("\t\t\t\t\tprovinceName:'',\n");
      out.write("\t\t\t\t\tcityName:'',\n");
      out.write("                    districtName:'',\n");
      out.write("\t\t\t\t\tareaName:'',\n");
      out.write("                    cantonCode:'',\n");
      out.write("                    qualityType:0,\n");
      out.write("                    favoriteType:false,\n");
      out.write("\t\t\t\t\tinquiryStatus:2,\n");
      out.write("                    signDialogVisible:false,\n");
      out.write("                    signDialogloading:false,\n");
      out.write("                    signType:'',\n");
      out.write("                    signTypeList:[],\n");
      out.write("                    SIGNTYPE:SIGNTYPE,\n");
      out.write("                    say:'',\n");
      out.write("                    sampleDate:'',\n");
      out.write("                    sampleName:'',\n");
      out.write("                    sampleMobile:'',\n");
      out.write("                    sampleStatus:'DELIVERED_LAB',\n");
      out.write("                    signFormShow:false,\n");
      out.write("                    signItem:{},\n");
      out.write("                    signList:[],\n");
      out.write("                    contractStatus:'DRAFTCONTRACT',\n");
      out.write("                    TAGSTATUS:TAGSTATUS,\n");
      out.write("\t\t\t\t\tselfEntId:localStorage.entId\n");
      out.write("                },\n");
      out.write("                created:function() {\n");
      out.write("                    this.getList();\n");
      out.write("                },\n");
      out.write("                mounted:function () {\n");
      out.write("                    $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("\t\t\t\t\t$('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("\t\t\t\t\t$('#wasteCode_select').show();\n");
      out.write("                    var _this=this;\n");
      out.write("                    $(window).scroll(function () {\n");
      out.write("                        if(_this.loadComplete){\n");
      out.write("                            return;\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        var scrollTop=$(this).scrollTop();\n");
      out.write("                        var scrollHeight=$(document).height();\n");
      out.write("                        var windowHeight=$(this).height();\n");
      out.write("                        if(scrollTop+windowHeight+100>=scrollHeight){\n");
      out.write("                            if(!_this.listLoading){\n");
      out.write("                                _this.listLoading = true;\n");
      out.write("\t\t\t\t\t\t\t\t_this.getList();\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                    $('#total_checkbox').on('click',function () {\n");
      out.write("\t\t\t\t\t\tvar flag=$(this).hasClass('select');\n");
      out.write("                        var item=vue.wasteInfoList[vue.currentIndex];\n");
      out.write("\t\t\t\t\t\tif(flag){\n");
      out.write("                            $(this).removeClass('select');\n");
      out.write("                            delete vue.wasteCode[vue.currentCode];\n");
      out.write("                            item.select=false;\n");
      out.write("                            Vue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            $(this).addClass('select');\n");
      out.write("                            item.select=true;\n");
      out.write("                            Vue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("                            Vue.set(vue.wasteCode, vue.currentCode, vue.currentIndex);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        for(var index in vue.eightCodeList){\n");
      out.write("                            var item=vue.eightCodeList[index];\n");
      out.write("                            item.select=!flag;\n");
      out.write("                            Vue.set(vue.eightCodeList, index, item)\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        if(flag&&vue.isAllNotSelectEightCode(vue.eightCodeList)){\n");
      out.write("                            vue.eightCodeList=[];\n");
      out.write("                        }\n");
      out.write("                    });\n");
      out.write("                },\n");
      out.write("                methods:{\n");
      out.write("                    search:function () {\n");
      out.write("                        this.list=[];\n");
      out.write("                        this.pageIndex=1;\n");
      out.write("                        this.listLoading = true;\n");
      out.write("                        this.loadComplete=false;\n");
      out.write("\t\t\t\t\t\tthis.getList();\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tgetParamInfo:function () {\n");
      out.write("                        var amountIntervalStr=['','0,3','3,5','5,10','10,30','30,100','100,300','300,1000','1000'][this.qualityType];\n");
      out.write("                        var param={};\n");
      out.write("                        var wasteCodeList=this.getWasteCodeList();\n");
      out.write("                        if(wasteCodeList.length>0){\n");
      out.write("                            param.wasteCodeList=wasteCodeList;\n");
      out.write("                        }\n");
      out.write("                        if(this.cantonCode){\n");
      out.write("                            param.cantonCodeList=[this.cantonCode];\n");
      out.write("                        }\n");
      out.write("                        if(amountIntervalStr){\n");
      out.write("                            param.amountIntervalStr=[amountIntervalStr];\n");
      out.write("                        }\n");
      out.write("                        param.favorited=this.favoriteType;\n");
      out.write("                        param.inquiryStatus=this.inquiryStatus==2?'':this.inquiryStatus;\n");
      out.write("                        return param;\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tgetWasteCodeList:function () {\n");
      out.write("                        var arr=[];\n");
      out.write("\t\t\t\t\t\tfor(var key in this.wasteCode){\n");
      out.write("\t\t\t\t\t\t    var value=this.wasteCode[key];\n");
      out.write("\t\t\t\t\t\t\tif(typeof value=='number'||typeof value=='string'){\n");
      out.write("\t\t\t\t\t\t\t    arr.push(key.substring(2,4));\n");
      out.write("\t\t\t\t\t\t\t}else{\n");
      out.write("\t\t\t\t\t\t\t\tfor(var j in value){\n");
      out.write("\t\t\t\t\t\t\t\t    if(value[j]['select']==true){\n");
      out.write("\t\t\t\t\t\t\t\t\t\tarr.push(value[j]['code']);\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\treturn arr;\n");
      out.write("                    },\n");
      out.write("                    getList:function () {\n");
      out.write("                        var _this=this;\n");
      out.write("                        var param=this.getParamInfo()||{};\n");
      out.write("                        ajax({\n");
      out.write("                            url:'/entRelease/listWasteEntRelease4FacilitatorEnt.htm?ticketId='+getParam('ticketId')+'&pageIndex='+(this.pageIndex++)+'&pageSize='+this.pageSize,\n");
      out.write("                            dataType:'json',\n");
      out.write("                            contentType:'application/json',\n");
      out.write("                            data:JSON.stringify(param),\n");
      out.write("                            success:function (result) {\n");
      out.write("                                console.log(result);\n");
      out.write("                                _this.listLoading = false;\n");
      out.write("                                if(result.status==1&&result.data){\n");
      out.write("                                    if(result.data.length<_this.pageSize){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t_this.loadComplete=true;\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("                                    for(var i in result.data){\n");
      out.write("//                                        result.data[i]['favorite']=false;//默认设置未收藏\n");
      out.write("                                        if(result.data[i]['fileId']){\n");
      out.write("                                            result.data[i]['imgSrc']=IMG_VIEW_URL+'&fileID=' + result.data[i]['fileId'];\n");
      out.write("                                        }else{\n");
      out.write("                                            result.data[i]['imgSrc']=\"");
      out.print(appPath);
      out.write("/main/pc/img/company_logo.png\";\n");
      out.write("                                        }\n");
      out.write("                                        _this.list.push(result.data[i]);\n");
      out.write("                                    }\n");
      out.write("                                }else{\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("                            }\n");
      out.write("                        })\n");
      out.write("                    },\n");
      out.write("                    getWasteInfo:function () {\n");
      out.write("                        var _this=this;\n");
      out.write("\t\t\t\t\t\tajax({\n");
      out.write("\t\t\t\t\t\t\turl:'/yifeiwaste/listWasteInfo.htm',\n");
      out.write("\t\t\t\t\t\t\tsuccess:function (data) {\n");
      out.write("\t\t\t\t\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\t\t\t\t\tfor(var i in data.data){\n");
      out.write("\t\t\t\t\t\t\t\t    data.data[i]['select']=false;\n");
      out.write("\t\t\t\t\t\t\t\t    for(var j in data.data[i].wasteList){\n");
      out.write("                                        data.data[i].wasteList[j]['parentCode']=data.data[i].code;\n");
      out.write("                                        data.data[i].wasteList[j]['parentIndex']=i;\n");
      out.write("                                        data.data[i].wasteList[j]['index']=j;\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t_this.wasteInfoList=data.data;\n");
      out.write("                            }\n");
      out.write("\t\t\t\t\t\t});\n");
      out.write("\n");
      out.write("                    },\n");
      out.write("                    favorite:function (item,index) {\n");
      out.write("                        var url=item.favorited?'/entFavorite/cancelEntFavorite':'/entFavorite/addEntFavorite';\n");
      out.write("                        ajax({\n");
      out.write("                            url:url,\n");
      out.write("                            data:{\n");
      out.write("                                entId:window.globalInit.enterpriseId,\n");
      out.write("                                referenceId:item.releaseId,\n");
      out.write("                                favoriteType:'MSGID'\n");
      out.write("                            },\n");
      out.write("                            success:function (data) {\n");
      out.write("                                if(data.status==1&&data.data){\n");
      out.write("                                    var msg=item.favorited?'取消':'';\n");
      out.write("                                    $.notify(msg+'收藏成功',{status:'success',timeout:1000});\n");
      out.write("                                    item.favorited=!item.favorited;\n");
      out.write("                                    Vue.set(vue.list, index, item);\n");
      out.write("                                    if(vue.favoriteType){\n");
      out.write("                                        vue.search();\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    selectFavorite:function (favoriteType) {\n");
      out.write("                        this.favoriteType=favoriteType;\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("                    selectInquiryStatus:function (inquiryStatus) {\n");
      out.write("                        this.inquiryStatus=inquiryStatus;\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("                    contact:function (entId,entName) {\n");
      out.write("                        getEnterpriseContacts(entId,entName,'服务商资源池');\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tbuy:function (item) {\n");
      out.write("                        var releaseId=item.releaseId;\n");
      out.write("                        var facilitatorEntIdStr=item.facilitatorEntId?('&facilitatorEntId='+item.facilitatorEntId):'';\n");
      out.write("                        var src=appPath+'/facilitator/cfBuy.htm?ticketId='+getParam('ticketId')+'&releaseId='+releaseId+facilitatorEntIdStr;\n");
      out.write("                        window.location=src;\n");
      out.write("                    },\n");
      out.write("                    entDetail:function (entId,facilitatorEntId) {\n");
      out.write("                        var str=facilitatorEntId?('&facilitatorEntId='+facilitatorEntId):'';\n");
      out.write("                        window.location = appPath + \"/myenterprise/viewEnterpriseDetail.htm?ticketId=\"\n");
      out.write("                            + getParam('ticketId') + \"&enterpriseId=\" + entId + \"&index=myIndex\"+\"&breadcrumbName=资源池\"+str;\n");
      out.write("                    },\n");
      out.write("                    changeAllProvincesShow:function () {\n");
      out.write("                        if(this.allProvincesShow){\n");
      out.write("                            $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            $('#provice_select dd a.provinceItem:gt(7)').show();\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\tthis.allProvincesShow=!this.allProvincesShow;\n");
      out.write("                    },\n");
      out.write("                    changeAllWasteShow:function () {\n");
      out.write("                        if(this.allWasteShow){\n");
      out.write("                            $('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            $('#wasteCode_select dd a.wasteInfoItem:gt(7)').show();\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\tthis.allWasteShow=!this.allWasteShow;\n");
      out.write("                    },\n");
      out.write("                    selectWaste:function (item,index) {\n");
      out.write("                        this.currentCode=item.code;\n");
      out.write("                        this.currentIndex=index;\n");
      out.write("                        item.select=!item.select;\n");
      out.write("                        Vue.set(vue.wasteInfoList, index, item);\n");
      out.write("                        if(item.select){\n");
      out.write("                            for(var i in item['wasteList']){\n");
      out.write("\t\t\t\t\t\t\t\titem['wasteList'][i]['select']=false;\n");
      out.write("                            }\n");
      out.write("                            this.eightCodeList=item['wasteList'];\n");
      out.write("                            this.wasteCode[item['code']]=index;\n");
      out.write("                            $('#total_checkbox').removeClass('select');\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            this.eightCodeList=[];\n");
      out.write("                            delete this.wasteCode[item['code']];\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("                    selectEightCode:function (item,index) {\n");
      out.write("                        item.select=!item.select;\n");
      out.write("                        Vue.set(vue.eightCodeList, index, item);\n");
      out.write("                        if(!item.select){\n");
      out.write("                            if(this.isAllNotSelectEightCode(vue.eightCodeList)){\n");
      out.write("                                var item=vue.wasteInfoList[vue.currentIndex];\n");
      out.write("\t\t\t\t\t\t\t\tdelete vue.wasteCode[vue.currentCode];\n");
      out.write("\t\t\t\t\t\t\t\titem.select=false;\n");
      out.write("\t\t\t\t\t\t\t\tVue.set(vue.wasteInfoList, vue.currentIndex, item);\n");
      out.write("\t\t\t\t\t\t\t\t$('#total_checkbox').removeClass('select');\n");
      out.write("\t\t\t\t\t\t\t\tvue.eightCodeList=[];\n");
      out.write("\t\t\t\t\t\t\t}else{\n");
      out.write("                                Vue.set(vue.wasteCode, vue.currentCode, vue.eightCodeList);\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("                        }else if(this.isAllSelectEightCode()){//是否选择所有八位码\n");
      out.write("                            Vue.set(vue.wasteCode, vue.currentCode, vue.currentIndex);\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            Vue.set(vue.wasteCode, vue.currentCode, vue.eightCodeList);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("                    clearEightCode:function (item) {\n");
      out.write("                        if(item.parentIndex*1===vue.currentIndex*1){\n");
      out.write("                            this.selectEightCode(item,item.index);\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("                            item.select=false;\n");
      out.write("\t\t\t\t\t\t\tvar wasteList=vue.wasteCode[item.parentCode];\n");
      out.write("                            wasteList[item.index]=item;\n");
      out.write("                            delete vue.wasteCode[item.parentCode];\n");
      out.write("                            Vue.set(vue.wasteCode, item.parentCode, wasteList);\n");
      out.write("                            if(this.isAllNotSelectEightCode(wasteList)){\n");
      out.write("                                var item1=vue.wasteInfoList[item.parentIndex];\n");
      out.write("                                delete vue.wasteCode[item.parentCode];\n");
      out.write("                                item1.select=false;\n");
      out.write("                                Vue.set(vue.wasteInfoList, item.parentIndex, item1);\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tisAllSelectEightCode:function () {\n");
      out.write("                        var flag=true;\n");
      out.write("                        for(var i in vue.eightCodeList){\n");
      out.write("                            if(!vue.eightCodeList[i]['select']){\n");
      out.write("                                flag=false;\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\treturn flag;\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tisAllNotSelectEightCode:function (eightCodeList) {\n");
      out.write("                        var flag=true;\n");
      out.write("                        for(var i in eightCodeList){\n");
      out.write("                            if(eightCodeList[i]['select']){\n");
      out.write("                                flag=false;\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\treturn flag;\n");
      out.write("                    },\n");
      out.write("                    selectQuality:function (type) {\n");
      out.write("\t\t\t\t\t\tthis.qualityType=type;\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("\t\t\t\t\tgetQualityTypeText:function () {\n");
      out.write("                        var arr=['不限','3吨以下','3-5吨','5-10吨','10-30吨','30-100吨','100-300吨','300-1000吨','1000吨以上'];\n");
      out.write("\t\t\t\t\t\treturn arr[this.qualityType]\n");
      out.write("                    },\n");
      out.write("                    clearAll:function () {\n");
      out.write("\t\t\t\t\t\tthis.selectQuality(0);\n");
      out.write("                        this.eightCodeList=[];\n");
      out.write("\t\t\t\t\t\tthis.allWasteShow=false;\n");
      out.write("\t\t\t\t\t\tthis.currentCode='';\n");
      out.write("\t\t\t\t\t\tthis.currentIndex=0;\n");
      out.write("\t\t\t\t\t\tthis.wasteCode={};\n");
      out.write("                        $('#provice_select dd a.provinceItem:gt(7)').hide();\n");
      out.write("                        $('#wasteCode_select dd a.wasteInfoItem:gt(7)').hide();\n");
      out.write("                        this.allProvincesShow=false;\n");
      out.write("                        this.allWasteShow=false;\n");
      out.write("                        for(var index in vue.wasteInfoList){\n");
      out.write("                            var item=vue.wasteInfoList[index];\n");
      out.write("                            item.select=false;\n");
      out.write("                            Vue.set(vue.wasteInfoList, index, item)\n");
      out.write("                        }\n");
      out.write("                        this.search();\n");
      out.write("                    },\n");
      out.write("                    showSignForm:function () {\n");
      out.write("                        if(this.signType==''){\n");
      out.write("                            $.notify('请选择标记类型',{status:'info',timeout:2500});\n");
      out.write("                            return;\n");
      out.write("                        }\n");
      out.write("                        this.signFormShow=true;\n");
      out.write("                    },\n");
      out.write("                    delSign:function (id) {\n");
      out.write("                        ajax({\n");
      out.write("                            url:'/discussTag/deleteDiscussTag',\n");
      out.write("                            data:{\n");
      out.write("                                id:id\n");
      out.write("                            },\n");
      out.write("                            success:function (result) {\n");
      out.write("                                if(result.status&&result.data){\n");
      out.write("                                    $.notify('删除标记成功',{status:'success',timeout:2500});\n");
      out.write("                                    vue.getSignList();\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    saveSign:function () {\n");
      out.write("                        var param={\n");
      out.write("                            releaseId:this.signItem.releaseId,\n");
      out.write("                            tagType:this.signType\n");
      out.write("                        };\n");
      out.write("                        switch (this.signType){\n");
      out.write("                            case 'TAGING':\n");
      out.write("                                param.comments=this.say;\n");
      out.write("                                param.tagStatus='TAGGING';\n");
      out.write("                                break;\n");
      out.write("                            case 'SAMPLING':\n");
      out.write("                                param.sampleDate=this.sampleDate;\n");
      out.write("                                param.contacts=this.sampleName;\n");
      out.write("                                param.contactsTel=this.sampleMobile;\n");
      out.write("                                param.tagStatus='SAMPLING';\n");
      out.write("                                break;\n");
      out.write("                            case 'SAMPLE':\n");
      out.write("                                param.tagStatus=this.sampleStatus;\n");
      out.write("                                break;\n");
      out.write("                            case 'CONTRACT':\n");
      out.write("                                param.tagStatus=this.contractStatus;\n");
      out.write("                                break;\n");
      out.write("                        }\n");
      out.write("                        ajax({\n");
      out.write("                            url:'/discussTag/saveDiscussTag.htm?ticketId=");
      out.print(ticketId);
      out.write("',\n");
      out.write("                            data:JSON.stringify(param),\n");
      out.write("                            contentType:'application/json',\n");
      out.write("                            success:function (result) {\n");
      out.write("                                if(result.status&&result.data){\n");
      out.write("                                    $.notify('添加标记成功',{status:'success',timeout:2500});\n");
      out.write("                                    vue.signFormShow=false;\n");
      out.write("                                    vue.getSignList();\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    getSignList:function () {\n");
      out.write("                        vue.signList=[];\n");
      out.write("                        this.signDialogloading=true;\n");
      out.write("                        ajax({\n");
      out.write("                            url:'/discussTag/listDiscussTag',\n");
      out.write("                            data:{\n");
      out.write("                                releaseId:this.signItem.releaseId\n");
      out.write("                            },\n");
      out.write("                            success:function (result) {\n");
      out.write("                                vue.signDialogloading=false;\n");
      out.write("                                console.log(result);\n");
      out.write("                                if(result.status==1){\n");
      out.write("                                    vue.signList=result.data;\n");
      out.write("                                    var busiStatus='';\n");
      out.write("                                    if(result.data.length>0){\n");
      out.write("                                        busiStatus=result.data[0]['busiStatus'];\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("                                    if(!vue.signItem.tagInfo){\n");
      out.write("                                        vue.signItem.tagInfo={'count':0,tagStatus:''};\n");
      out.write("                                    }\n");
      out.write("                                    vue.signItem.tagInfo.tagStatus=TAGSTATUS[busiStatus];\n");
      out.write("                                    vue.signItem.tagInfo.count=result.data.length;\n");
      out.write("                                    Vue.set(vue.list,vue.signItem.index,vue.signItem);\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        });\n");
      out.write("                    },\n");
      out.write("                    getSign:function (item,index) {\n");
      out.write("                        item.index=index;\n");
      out.write("                        this.signItem=item;\n");
      out.write("                        this.signDialogVisible=true;\n");
      out.write("                        this.signFormShow=false;\n");
      out.write("                        this.signType='';\n");
      out.write("                        $('body').css('overflow-y','hidden');\n");
      out.write("                        if(this.signTypeList.length==0){\n");
      out.write("                            this.getSignTypeList();\n");
      out.write("                        }\n");
      out.write("                        this.getSignList();\n");
      out.write("                        var heights=document.body.clientHeight;\n");
      out.write("                        setTimeout(function () {\n");
      out.write("                            $('.signTimeLine').css('max-height',heights-318+'px');\n");
      out.write("                        },300)\n");
      out.write("                    },\n");
      out.write("                    closeSignDialog:function () {\n");
      out.write("                        this.signDialogVisible=false;\n");
      out.write("                        setTimeout(function () {\n");
      out.write("                            $('body').css('overflow-y','auto');\n");
      out.write("                        },500);\n");
      out.write("                    },\n");
      out.write("                    getSignTypeList:function () {\n");
      out.write("                        var _this=this;\n");
      out.write("                        ajax({\n");
      out.write("                            url:'/codeType/listCodeValue',\n");
      out.write("                            data:{\n");
      out.write("                                typeCode:'TAG_TYPE'\n");
      out.write("                            },\n");
      out.write("                            success:function (result) {\n");
      out.write("                                console.log(result);\n");
      out.write("                                if(result.status==1){\n");
      out.write("                                    _this.signTypeList=result.data;\n");
      out.write("                                }\n");
      out.write("                            }\n");
      out.write("                        })\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("            })\n");
      out.write("\t\t</script>\n");
      out.write("</section>\n");
      out.write("\n");
      out.write('\n');
      out.write('\n');
      out.write('\n');
      out.write("\n");
      out.write("</body>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
