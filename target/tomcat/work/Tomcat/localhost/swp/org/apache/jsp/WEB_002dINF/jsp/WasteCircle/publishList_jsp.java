/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2018-09-12 01:55:00 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp.WasteCircle;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class publishList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			"", true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

    String appPath=request.getContextPath();
    String ticketId = (String)request.getAttribute("ticketId");

      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/user_top.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("title", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("我的询价", request.getCharacterEncoding()), out, true);
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/wasteCircleMenu.jsp" + "?" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("menuId", request.getCharacterEncoding())+ "=" + org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode("#myRelease", request.getCharacterEncoding()), out, true);
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/wastecircle/publish.css\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(appPath);
      out.write("/css/myBusiness/business.css\">\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(appPath);
      out.write("/thirdparty/city-picker/js/city-picker.data.js\"></script>\r\n");
      out.write("<style>\r\n");
      out.write("    .el-popover{\r\n");
      out.write("        border: 1px solid #ff0000;\r\n");
      out.write("        padding: 8px 12px;\r\n");
      out.write("        transform-origin: center bottom 0px;\r\n");
      out.write("        z-index: 2041;\r\n");
      out.write("        position: absolute;\r\n");
      out.write("        margin-top: -77px;\r\n");
      out.write("        right: 7px;\r\n");
      out.write("    }\r\n");
      out.write("    .el-popper[x-placement^=top] .popper__arrow{\r\n");
      out.write("        border-top-color: #ff0000;\r\n");
      out.write("    }\r\n");
      out.write("</style>\r\n");
      out.write("<section id=\"app\">\r\n");
      out.write("    <template>\r\n");
      out.write("    <el-breadcrumb separator=\"/\">\r\n");
      out.write("        <el-breadcrumb-item>我的易废圈</el-breadcrumb-item>\r\n");
      out.write("        <el-breadcrumb-item onclick=\"vue.detailShow=false\">我的询价</el-breadcrumb-item>\r\n");
      out.write("        <el-breadcrumb-item v-if=\"detailShow\">报价详情</el-breadcrumb-item>\r\n");
      out.write("    </el-breadcrumb>\r\n");
      out.write("    <div>\r\n");
      out.write("        <el-dialog\r\n");
      out.write("                :title=\"dialogTitle\"\r\n");
      out.write("                :visible.sync=\"dialogVisible\"\r\n");
      out.write("                width=\"518px\">\r\n");
      out.write("            <div class=\"qualification\">\r\n");
      out.write("                <div class=\"qualification-title\"><span class=\"item-title-text\">经营单位资质</span></div>\r\n");
      out.write("                <div class=\"qualification-imgs\">\r\n");
      out.write("                    <div class=\"qualification-img item-img1\">\r\n");
      out.write("                        <div class=\"image\">\r\n");
      out.write("                            <img :src=\"qualification.busiLicImg\" @click=\"showLargeImg(qualification.busiLicImg)\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"qualification-text\">营业执照</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div  class=\"qualification-img qualification-img2\">\r\n");
      out.write("                        <div class=\"image\">\r\n");
      out.write("                            <img :src=\"qualification.licImg\" @click=\"showLargeImg(qualification.licImg)\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"qualification-text\">经营许可证</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"qualification\">\r\n");
      out.write("                <div class=\"qualification-title\"><span class=\"item-title-text\">服务商资质</span></div>\r\n");
      out.write("                <div class=\"qualification-imgs\">\r\n");
      out.write("                    <div class=\"qualification-img item-img1\">\r\n");
      out.write("                        <div class=\"image\">\r\n");
      out.write("                            <img :src=\"qualification.facilitatorBusiLicImg\" @click=\"showLargeImg(qualification.facilitatorBusiLicImg)\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"qualification-text\">营业执照</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div  class=\"qualification-img qualification-img2\">\r\n");
      out.write("                        <div class=\"image\">\r\n");
      out.write("                            <img :src=\"qualification.authImg\" @click=\"showLargeImg(qualification.authImg)\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"qualification-text\">授权书</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </el-dialog>\r\n");
      out.write("        <div class=\"dialog\" v-show=\"showLarge\" @click.self=\"showLarge=false\">\r\n");
      out.write("            <a href=\"javascript:\" class=\"close-dialog\" title=\"关闭\" @click=\"showLarge=false\"><i class=\"el-icon-circle-close-outline\"></i></a>\r\n");
      out.write("            <img :src=\"largeImg\" class=\"largeImg\"/>\r\n");
      out.write("        </div>\r\n");
      out.write("        ");
      out.write("\r\n");
      out.write("        <div>\r\n");
      out.write("                <div class=\"publish_container\" v-show=\"!detailShow\">\r\n");
      out.write("                    <div class=\"item panel panel-body\" v-for=\"(item,index) in list\">\r\n");
      out.write("                        <div class=\"item_message\">\r\n");
      out.write("                            <el-row :gutter=\"10\" style=\"margin-bottom:10px\">\r\n");
      out.write("                                <el-col :xs=\"17\" :sm=\"17\" :md=\"17\" :lg=\"17\"><b>询价者：</b>{{item.releaseOwner||'--'}}<span class=\"split\">|</span><b>总计：</b><font>{{item.totalWasteCount}}</font>种危废，累计<font>{{item.totalWasteAmountDesc}}</font>\r\n");
      out.write("                                    <span class=\"split\">|</span><b>来源：</b>\r\n");
      out.write("                                    <a href=\"javascript:\" style=\"color: #1171d1\" v-if=\"item.activityName\" @click=\"viewActivityDetail(item.activityId)\">{{item.activityName}}</a>\r\n");
      out.write("                                    <font v-else>危废处置询价</font>\r\n");
      out.write("                                </el-col>\r\n");
      out.write("                                <el-col :xs=\"7\" :sm=\"7\" :md=\"7\" :lg=\"7\" align=\"right\" style=\"font-size:12px\"><i class=\"time_icon\"></i>{{item.releaseDate.substring(0,16)}}</el-col>\r\n");
      out.write("                            </el-row>\r\n");
      out.write("                            <div class=\"itemReleaseList\">\r\n");
      out.write("                                <div class=\"itemRelease\" v-for=\"(wasteItem,index) in item.releaseWasteDetails\">\r\n");
      out.write("                                    <span>{{wasteItem.wasteName}}</span><span>{{wasteItem.wasteCode}}</span><span>{{wasteItem.wasteAmount}}{{wasteItem.unitValue}}</span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div style=\"margin-top: 9px;text-align: right\">\r\n");
      out.write("                                <el-button type=\"text\" style=\"margin-right: 20px;\" v-if=\"!item.activityName&&item.releaseStatus!='END'\" title=\"完结\" @click=\"close(item,index)\">完结</el-button>\r\n");
      out.write("                                <el-tag v-if=\"!item.activityName&&item.releaseStatus=='END'\" style=\"margin-right: 20px;\" type=\"warning\">已完结</el-tag>\r\n");
      out.write("                                <el-button type=\"text\" style=\"margin-right: 20px;\" v-if=\"item.releaseStatus!='DONE'&&item.releaseStatus!='REFUSED'\" title=\"撤销询价\" @click=\"del(item.releaseId)\">撤销询价</el-button>\r\n");
      out.write("                                <div class=\"el-popover el-popper el-popover--plain\"  x-placement=\"top\" v-if=\"item.pendingProcessCount>0\">\r\n");
      out.write("                                    你有{{item.pendingProcessCount}}个报价未处理\r\n");
      out.write("                                    <div x-arrow=\"\" class=\"popper__arrow\" style=\"left: 87.5px;\"></div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                                <el-button type=\"text\" slot=\"reference\" @click=\"inquiryDetail(index)\" style=\"width:85px\"  v-if=\"item.inquiryEntCount>0\">查看报价({{item.inquiryEntCount}})</el-button>\r\n");
      out.write("                                ");
      out.write("\r\n");
      out.write("                                        ");
      out.write("\r\n");
      out.write("                                        ");
      out.write("\r\n");
      out.write("                                        ");
      out.write("\r\n");
      out.write("                                        ");
      out.write("\r\n");
      out.write("                                    ");
      out.write("\r\n");
      out.write("                                ");
      out.write("\r\n");
      out.write("                                <el-button type=\"text\" style=\"color:#cccccc;width:85px;cursor: default\" v-if=\"item.inquiryEntCount==0\">{{item.releaseStatus=='REFUSED'?'被谢绝':'暂无报价'}}</el-button>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div v-show=\"!list||list.length==0\" style=\"padding: 20px;text-align: center\"><span>暂无相关数据</span></div>\r\n");
      out.write("                    <div class=\"loading\" v-show=\"listLoading\"><img src=\"");
      out.print(appPath );
      out.write("/main/pc/img/load.gif\"></div>\r\n");
      out.write("                    <div v-show=\"list&&list.length>0\" align=\"right\">\r\n");
      out.write("                        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"pageIndex\" :page-sizes=\"[5,10,20,30,50]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n");
      out.write("                        </el-pagination>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"inquiry_list\" v-show=\"detailShow\" v-if=\"list.length>0&&list[index]\">\r\n");
      out.write("                    <div class=\"item panel panel-body\" style=\"margin-bottom: 10px\">\r\n");
      out.write("                        <div class=\"item_message\">\r\n");
      out.write("                            <el-row :gutter=\"10\" style=\"margin-bottom:10px\">\r\n");
      out.write("                                <el-col :xs=\"17\" :sm=\"17\" :md=\"17\" :lg=\"17\"><b>发布者：</b>{{list[index].releaseOwner||'--'}}<span class=\"split\">|</span><b>总计：</b><font>{{list[index].totalWasteCount}}</font>种危废，累计<font>{{list[index].totalWasteAmountDesc}}</font>\r\n");
      out.write("                                    <span class=\"split\">|</span >来源：\r\n");
      out.write("                                    <a href=\"javascript:\" style=\"color: #1171d1\" v-if=\"list[index].activityName\" @click=\"viewActivityDetail(list[index].activityId)\">{{list[index].activityName}}</a>\r\n");
      out.write("                                    <font v-else>资源池</font>\r\n");
      out.write("                                </el-col>\r\n");
      out.write("                                <el-col :xs=\"7\" :sm=\"7\" :md=\"7\" :lg=\"7\" align=\"right\" style=\"font-size:12px\"><i class=\"time_icon\"></i>{{list[index].releaseDate.substring(0,16)}}</el-col>\r\n");
      out.write("                            </el-row>\r\n");
      out.write("                            <div class=\"itemReleaseList\">\r\n");
      out.write("                                <div class=\"itemRelease\" v-for=\"(wasteItem,index) in list[index].releaseWasteDetails\">\r\n");
      out.write("                                    <span>{{wasteItem.wasteName}}</span><span>{{wasteItem.wasteCode}}</span><span>{{wasteItem.wasteAmount}}{{wasteItem.unitValue}}</span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div style=\"margin-top: 9px;text-align: right\">\r\n");
      out.write("                                <el-button type=\"text\" style=\"margin-right: 20px;\"  v-if=\"!list[index].activityName&&list[index].releaseStatus!='END'\" title=\"完结\" @click=\"close(list[index],index)\">完结</el-button>\r\n");
      out.write("                                <el-tag v-if=\"!list[index].activityName&&list[index].releaseStatus=='END'\" style=\"margin-right: 20px;\" type=\"warning\">已完结</el-tag>\r\n");
      out.write("                                <el-button type=\"text\" style=\"margin-right: 20px;\" v-if=\"list[index].releaseStatus!='DONE'&&list[index].releaseStatus!='REFUSED'\"  @click=\"del(list[index].releaseId)\">撤销询价</el-button>\r\n");
      out.write("                                <el-button type=\"text\" slot=\"reference\"  style=\"width:85px\" @click=\"inquiryDetail(index)\" v-if=\"list[index].inquiryEntCount>0\">查看报价({{list[index].inquiryEntCount}})</el-button>\r\n");
      out.write("                                <el-button type=\"text\" style=\"color:#cccccc;width:85px;cursor: default\" v-if=\"list[index].inquiryEntCount==0\">暂无报价</el-button>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div v-if=\"inquiryList.length>0\" style=\"margin: -9px 10px 0;\">\r\n");
      out.write("                        <div class=\"buy_item panel panel-body\" v-for=\"item in inquiryList\">\r\n");
      out.write("                            <el-row  style=\"margin-bottom:10px\">\r\n");
      out.write("                                <el-col :xs=\"21\" :sm=\"21\" :md=\"21\" :lg=\"21\">\r\n");
      out.write("                                    <span  >{{item.index}}</span><b style=\"margin-left: 14px\">\r\n");
      out.write("                                    单位：</b><a href=\"javascript:\" title=\"查看企业详情\" @click=\"entDetail(item.inquiryEntId,item.inquiryEnterType)\"><em style=\"margin-right: 4px\">{{item.inquiryEnterName}}</em></a>\r\n");
      out.write("                                    <a class=\"qipao_logo\" href=\"javascript:\" @click=\"contact(item.inquiryEntId,item.inquiryEnterName)\" title=\"联系TA\" style=\"margin-right: 14px;\">\r\n");
      out.write("                                        <img src=\"../main/pc/img/qipao.jpg\"></a>\r\n");
      out.write("                                    <b>报价方式：</b><em>{{item.quotedType==0?'打包报价':'单独报价'}}</em>\r\n");
      out.write("                                    <b v-if=\"item.inquiryEnterType!=='DIS_FACILITATOR'\">金额：</b><em v-if=\"item.inquiryEnterType!=='DIS_FACILITATOR'\"><b style=\"color: #ff474c;font-weight:bold\">￥{{item.totalPriceStr}}</b></em>\r\n");
      out.write("                                    <b v-if=\"item.inquiryEnterType!=='DIS_FACILITATOR'\">总数：</b><em v-if=\"item.inquiryEnterType!=='DIS_FACILITATOR'\"><b style=\"color: #1171d1\">{{getQualityTextBySelection(item.inquiryDetail)}}</b></em>\r\n");
      out.write("                                </el-col>\r\n");
      out.write("                                <el-col :xs=\"3\" :sm=\"3\" :md=\"3\" :lg=\"3\" align=\"right\" style=\"font-size:12px;color: #6a7580;\">\r\n");
      out.write("                                    {{item.inquiryDate.substring(0,16)}}\r\n");
      out.write("                                </el-col>\r\n");
      out.write("                            </el-row>\r\n");
      out.write("                            <div v-if=\"item.inquiryEnterType=='DIS_FACILITATOR'\" style=\"margin-bottom:10px\">\r\n");
      out.write("                                <b>金额：</b><em><b style=\"color: #ff474c;font-weight:bold\">￥{{item.totalPriceStr}}</b></em>\r\n");
      out.write("                                <b>总数：</b><em><b style=\"color: #1171d1\">{{getQualityTextBySelection(item.inquiryDetail)}}</b></em>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <table class=\"el-table inquiry-table\" v-if=\"item.inquiryType=='REFERENCE_PRICE'\">\r\n");
      out.write("                                <tr>\r\n");
      out.write("                                    <th class=\"is-center\">序号</th>\r\n");
      out.write("                                    <th>危废名称</th>\r\n");
      out.write("                                    <th style=\"width: 96px\">危废代码</th>\r\n");
      out.write("                                    <th class=\"is-right\">处置重量</th>\r\n");
      out.write("                                    <th class=\"is-center\">处置方式</th>\r\n");
      out.write("                                    <th class=\"is-right\">处置单价</th>\r\n");
      out.write("                                    <th class=\"is-right\">单项总价</th>\r\n");
      out.write("                                    <th class=\"is-center\">价格说明</th>\r\n");
      out.write("                                </tr>\r\n");
      out.write("                                <tr v-if=\"systemInquiryList.length>0\" v-for=\"(item,index) in systemInquiryList\">\r\n");
      out.write("                                    <td  class=\"is-center\">\r\n");
      out.write("                                        {{index+1}}\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td>\r\n");
      out.write("                                        {{item.wasteName}}\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td>\r\n");
      out.write("                                        {{item.wasteCode}}\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td class=\"is-right\">\r\n");
      out.write("                                        {{parseFloat(item.amount)+item.unitValue}}\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td v-if=\"item.first\" :rowspan=\"priceIdCountObj[item.priceId]\" class=\"is-center\">\r\n");
      out.write("                                        {{item.dispositionType}}\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td v-if=\"item.first\" class=\"is-right\" :rowspan=\"priceIdCountObj[item.priceId]\">\r\n");
      out.write("                                        <span style=\"color: #ff0000;\">￥{{item.price}}{{['吨','千克','克'].indexOf(item.unitValue)>-1?'/吨':''}}</span>\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td v-if=\"item.first\" class=\"is-right\" :rowspan=\"priceIdCountObj[item.priceId]\">\r\n");
      out.write("                                        <span style=\"color: #ff0000;\">￥{{item.wasteTotalPrice}}</span>\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                    <td v-if=\"item.first\" class=\"is-center\" :rowspan=\"priceIdCountObj[item.priceId]\">\r\n");
      out.write("                                        <el-tooltip effect=\"dark\" v-if=\"item.remark\" :content=\"item.remark\" placement=\"top-start\">\r\n");
      out.write("                                            <i class=\"el-icon-question\"></i>\r\n");
      out.write("                                        </el-tooltip>\r\n");
      out.write("                                        <span v-else>--</span>\r\n");
      out.write("                                        ");
      out.write("\r\n");
      out.write("                                    </td>\r\n");
      out.write("                                </tr>\r\n");
      out.write("                            </table>\r\n");
      out.write("                            <el-table :data=\"item.inquiryDetail\" border v-else\r\n");
      out.write("                                      style=\"width:100%\">\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        prop=\"wasteName\"\r\n");
      out.write("                                        label=\"危废名称\">\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        prop=\"wasteCode\"\r\n");
      out.write("                                        label=\"危废代码\">\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        prop=\"amount\"\r\n");
      out.write("                                        align=\"right\"\r\n");
      out.write("                                        label=\"数量\">\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        prop=\"unitValue\"\r\n");
      out.write("                                        label=\"单位\">\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        v-if=\"item.inquiryType=='REFERENCE_PRICE'\"\r\n");
      out.write("                                        prop=\"dispositionType\"\r\n");
      out.write("                                        label=\"处置方式\">\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        align=\"right\"\r\n");
      out.write("                                        v-if=\"item.quotedType!=0\"\r\n");
      out.write("                                        label=\"单价\" >\r\n");
      out.write("                                    <template scope=\"scope\">\r\n");
      out.write("                                        <span v-if=\"scope.row.price == 0\" >-</span>\r\n");
      out.write("                                        <span v-if=\"scope.row.price!=0\" >{{scope.row.priceStr}}</span>\r\n");
      out.write("                                    </template>\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                                <el-table-column\r\n");
      out.write("                                        align=\"right\"\r\n");
      out.write("                                        v-if=\"item.quotedType!=0\"\r\n");
      out.write("                                        label=\"单项总价\" >\r\n");
      out.write("                                    <template scope=\"scope\">\r\n");
      out.write("                                        <span v-if=\"scope.row.wasteTotalPrice == 0\" >-</span>\r\n");
      out.write("                                        <span style=\"color: #ff474c;\" class='wasteTotalPrice' v-if=\"scope.row.wasteTotalPrice!=0\">￥{{scope.row.wasteTotalPriceStr}}</span>\r\n");
      out.write("                                    </template>\r\n");
      out.write("                                </el-table-column>\r\n");
      out.write("                            </el-table>\r\n");
      out.write("                            <el-row :gutter=\"12\" style=\"margin-top:10px\" type=\"flex\" justify=\"space-between\">\r\n");
      out.write("                                <el-col :xs=\"10\" :sm=\"22\" :md=\"22\" :lg=\"22\"><b>备注：</b><em>{{item.inquiryRemark||'--'}}</em></el-col>\r\n");
      out.write("                                <el-col :xs=\"2\" :sm=\"2\" :md=\"2\" :lg=\"2\"   style=\"text-align: right\"  > <span class=\"status\"  :class=\"statusClass[item.busiStatus]\"  v-show=\"item.busiStatus!='待确认'\" >{{item.busiStatus}}</span></el-col>\r\n");
      out.write("                                </el-col>\r\n");
      out.write("\r\n");
      out.write("                            </el-row>\r\n");
      out.write("                            <div style=\"margin-top: 9px;text-align: right\" v-if=\"item.inquiryType!=='REFERENCE_PRICE'\">\r\n");
      out.write("                                <span class=\"status\" :class=\"statusClass[item.busiStatus]\" style=\"margin-right: 25px;\"  v-show=\"item.busiStatus=='待确认'\" >{{item.busiStatus}}</span></el-col>\r\n");
      out.write("                                <el-button type=\"text\" class=\"comment_btn\"  style=\"margin-right: 10px;\" @click=\"fold(item,item.detailIndex)\" v-if=\"item.evaluated\"><i class=\"comment_icon commented\"></i>{{item.commentShow?'收起评价':'已评价，查看'}}<i class=\"el-input__icon el-icon-arrow-down\" :class=\"{'is-reverse':item.commentShow}\"></i></el-button>\r\n");
      out.write("                                <el-button type=\"text\" class=\"comment_btn\" style=\"margin-right: 10px;\"  @click=\"fold(item,item.detailIndex)\" v-else><i class=\"comment_icon\"></i>评价<i class=\"el-input__icon el-icon-arrow-down\" :class=\"{'is-reverse':item.commentShow}\"></i></el-button>\r\n");
      out.write("                                <el-button type=\"warning\"  icon=\"el-icon-document\" style=\"width: 103px\" v-show=\"item.inquiryEnterType=='DIS_FACILITATOR'\" @click=\"viewQualification(item)\">查看资质</el-button>\r\n");
      out.write("                                <el-button type=\"primary\" @click=\"confirm(item)\" v-show=\"item.busiStatus=='待确认'\" class=\"over\">接受报价</el-button>\r\n");
      out.write("                                <el-button style=\"background-color: #ebecf0\" v-show=\"item.busiStatus=='待确认'\" @click=\"reject(item)\">谢绝</el-button>\r\n");
      out.write("\r\n");
      out.write("                            </div>\r\n");
      out.write("\r\n");
      out.write("                            <div class=\"comment_container\" v-show=\"item.commentShow&&!item.evaluated\">\r\n");
      out.write("                                <p>发布评价</p>\r\n");
      out.write("                                <table>\r\n");
      out.write("                                    <tr>\r\n");
      out.write("                                        <td style=\"vertical-align: middle\">综合评价：</td>\r\n");
      out.write("                                        <td>\r\n");
      out.write("                                            <el-radio class=\"radio\" v-model=\"item.commentType\"  label=\"5\" :name=\"'commentType_'+item.inquiryId\">好评</el-radio>\r\n");
      out.write("                                            <el-radio class=\"radio\" v-model=\"item.commentType\"  label=\"3\" :name=\"'commentType_'+item.inquiryId\">中评</el-radio>\r\n");
      out.write("                                            <el-radio class=\"radio\" v-model=\"item.commentType\"  label=\"1\"  :name=\"'commentType_'+item.inquiryId\">差评</el-radio>\r\n");
      out.write("                                        </td>\r\n");
      out.write("                                    </tr>\r\n");
      out.write("                                    <tr>\r\n");
      out.write("                                        <td style=\"padding-top: 17px\">增加描述：</td>\r\n");
      out.write("                                        <td>\r\n");
      out.write("                                            <el-input\r\n");
      out.write("                                                    type=\"textarea\"\r\n");
      out.write("                                                    :rows=\"2\"\r\n");
      out.write("                                                    :id=\"'commentText_'+item.inquiryId\"\r\n");
      out.write("                                                    placeholder=\"请输入描述\"\r\n");
      out.write("                                                    v-model=\"item.commentText\">\r\n");
      out.write("                                            </el-input>\r\n");
      out.write("                                        </td>\r\n");
      out.write("                                    </tr>\r\n");
      out.write("                                </table>\r\n");
      out.write("                                <el-row style=\"text-align: center;margin-top: 20px\">\r\n");
      out.write("                                    <el-button type=\"primary\" class=\"over\" @click=\"comment(item,item.detailIndex)\">发布评论</el-button>\r\n");
      out.write("                                    <el-button @click=\"fold(item,item.detailIndex)\">取消</el-button>\r\n");
      out.write("                                </el-row>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"comment_container\" v-show=\"item.commentShow&&item.evaluated\">\r\n");
      out.write("                                <p>查看评价<el-button style=\"float: right\" @click=\"addComment(item,item.detailIndex)\">增加评论</el-button></p>\r\n");
      out.write("                                <table v-for=\"(comment,i) in item.commentList\">\r\n");
      out.write("                                    <thead>\r\n");
      out.write("                                    <tr>\r\n");
      out.write("                                        <th colspan=\"2\">我发布的评价</th>\r\n");
      out.write("                                    </tr>\r\n");
      out.write("                                    </thead>\r\n");
      out.write("                                    <tbody>\r\n");
      out.write("                                    <tr>\r\n");
      out.write("                                        <td style=\"vertical-align: middle\">综合评价：</td>\r\n");
      out.write("                                        <td>\r\n");
      out.write("                                            {{COMMENT[comment.score]}}\r\n");
      out.write("                                        </td>\r\n");
      out.write("                                    </tr>\r\n");
      out.write("                                    <tr>\r\n");
      out.write("                                        <td style=\"vertical-align: middle;\">增加描述：</td>\r\n");
      out.write("                                        <td>\r\n");
      out.write("                                            {{comment.comment}}\r\n");
      out.write("                                        </td>\r\n");
      out.write("                                    </tr>\r\n");
      out.write("                                    </tbody>\r\n");
      out.write("                                </table>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div style=\"padding: 50px 0;text-align: center\" v-show=\"!inquiryList||inquiryList.length==0\">\r\n");
      out.write("                            暂无相关数据\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div v-show=\"inquiryList&&inquiryList.length>0\" align=\"right\">\r\n");
      out.write("                            <el-pagination @size-change=\"handleSizeChange_inquiry\" @current-change=\"handleCurrentChange_inquiry\" :current-page.sync=\"inquiryIndex\" :page-sizes=\"[5,10,20,30,50]\" :page-size=\"inquirySize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"inquiryTotal\">\r\n");
      out.write("                            </el-pagination>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    </template>\r\n");
      out.write("</section>\r\n");
      out.write("<!-- 先引入 Vue -->\r\n");
      out.write("<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/vue.min.js\"></script>\r\n");
      out.write("<!-- 引入组件库 -->\r\n");
      out.write("<script src=\"");
      out.print(appPath);
      out.write("/main/common/elementui/index.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/app/js/constants.js?3\"></script>\r\n");
      out.write("<script src=\"");
      out.print(appPath );
      out.write("/thirdparty/la-number/la-number.js\"></script>\r\n");
      out.write("<script>\r\n");
      out.write("    var vue=new Vue({\r\n");
      out.write("        el: '#app',\r\n");
      out.write("        data: {\r\n");
      out.write("            pageIndex:1,\r\n");
      out.write("            pageSize:5,\r\n");
      out.write("            list:[],\r\n");
      out.write("            listLoading:true,\r\n");
      out.write("            total:0,\r\n");
      out.write("            index:0,\r\n");
      out.write("            inquiryList:[],\r\n");
      out.write("            inquiryIndex:1,\r\n");
      out.write("            inquirySize:5,\r\n");
      out.write("            inquiryTotal:0,\r\n");
      out.write("            inquiryLoading:false,\r\n");
      out.write("            detailShow:false,\r\n");
      out.write("            statusClass:statusClass,\r\n");
      out.write("            activityId:'',\r\n");
      out.write("            activityList:[],\r\n");
      out.write("            priceIdCountObj:{},\r\n");
      out.write("            systemInquiryList:[],\r\n");
      out.write("            dialogVisible:false,\r\n");
      out.write("            showLarge:false,\r\n");
      out.write("            largeImg:'',\r\n");
      out.write("            qualification:{},\r\n");
      out.write("            dialogTitle:''\r\n");
      out.write("        },\r\n");
      out.write("        created:function() {\r\n");
      out.write("            this.getList();\r\n");
      out.write("            this.getActivityList();\r\n");
      out.write("        },\r\n");
      out.write("        methods: {\r\n");
      out.write("            viewQualification:function (item) {\r\n");
      out.write("                this.dialogTitle=item.inquiryEnterName;\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url:'/facilitatorCustomer/getCustomerImg',\r\n");
      out.write("                    data:{\r\n");
      out.write("                        facilitatorEntId:item.inquiryEntId,\r\n");
      out.write("                        customerId:item.entDisEntId\r\n");
      out.write("                    },\r\n");
      out.write("                    success:function (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        if(result.status==1){\r\n");
      out.write("                            vue.dialogVisible=true;\r\n");
      out.write("                            vue.qualification={\r\n");
      out.write("                                authImg:result.data.authImg?(IMG_VIEW_URL+'&fileID='+result.data.authImg):'http://www.yifeiwang.com/img/source/upload.png',\r\n");
      out.write("                                busiLicImg:result.data.busiLicImg?(IMG_VIEW_URL+'&fileID='+result.data.busiLicImg):'http://www.yifeiwang.com/img/source/upload.png',\r\n");
      out.write("                                facilitatorBusiLicImg:result.data.facilitatorBusiLicImg?(IMG_VIEW_URL+'&fileID='+result.data.facilitatorBusiLicImg):'http://www.yifeiwang.com/img/source/upload.png',\r\n");
      out.write("                                licImg:result.data.licImg?(IMG_VIEW_URL+'&fileID='+result.data.licImg):'http://www.yifeiwang.com/img/source/upload.png'\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                });\r\n");
      out.write("            },\r\n");
      out.write("            showLargeImg:function (url) {\r\n");
      out.write("                this.showLarge=true;\r\n");
      out.write("                this.largeImg=url;\r\n");
      out.write("            },\r\n");
      out.write("            getQualityTextBySelection:function(arr) {\r\n");
      out.write("                var obj = {};\r\n");
      out.write("                var laNumber = new $.LaNumber();\r\n");
      out.write("                for(var i in arr) {\r\n");
      out.write("                    var key = arr[i]['unitValue'];\r\n");
      out.write("                    var value = parseFloat(arr[i]['amount']);\r\n");
      out.write("                    if(key=='吨'||key=='千克'||key=='克'){\r\n");
      out.write("                        switch (key){\r\n");
      out.write("                            case '千克':\r\n");
      out.write("                                value=laNumber.div(value,1000);\r\n");
      out.write("                                break;\r\n");
      out.write("                            case '克':\r\n");
      out.write("                                value=laNumber.div(value,1000000);\r\n");
      out.write("                                break;\r\n");
      out.write("                        }\r\n");
      out.write("                        if(obj['吨']){\r\n");
      out.write("                            obj['吨']=laNumber.add(obj['吨'],value);\r\n");
      out.write("                        }else{\r\n");
      out.write("                            obj['吨']=value;\r\n");
      out.write("                        }\r\n");
      out.write("                    }else{\r\n");
      out.write("                        if(obj[key]) {\r\n");
      out.write("                            obj[key] =laNumber.add(obj[key],value) ;\r\n");
      out.write("                        } else {\r\n");
      out.write("                            obj[key] = value;\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("                var str='';\r\n");
      out.write("                for (var prop in obj) {\r\n");
      out.write("                    str+=obj[prop]+prop+'，';\r\n");
      out.write("                }\r\n");
      out.write("                str=str.substring(0,str.length-1);\r\n");
      out.write("                return str;\r\n");
      out.write("            },\r\n");
      out.write("            getList: function () {\r\n");
      out.write("                this.list=[];\r\n");
      out.write("                var _this = this;\r\n");
      out.write("                var param={\r\n");
      out.write("                    activityId:this.activityId\r\n");
      out.write("                };\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url: '/entRelease/listWasteEntReleaseByEntId.htm?ticketId=' + getParam('ticketId') + '&pageIndex=' + this.pageIndex + '&pageSize=' + this.pageSize,\r\n");
      out.write("                    dataType: 'json',\r\n");
      out.write("                    contentType: 'application/json',\r\n");
      out.write("                    data: JSON.stringify(param),\r\n");
      out.write("                    success: function (result) {\r\n");
      out.write("                        _this.listLoading = false;\r\n");
      out.write("                        if (result.status == 1 && result.data.wasteEntRelaseList) {\r\n");
      out.write("                            _this.list=result.data.wasteEntRelaseList;\r\n");
      out.write("                            _this.total=result.data.paging.totalRecord;\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("            },\r\n");
      out.write("            fold:function(item,index){\r\n");
      out.write("                item.commentShow=!item.commentShow;\r\n");
      out.write("                if(item.evaluated&&item.commentShow&&!item.commentLoaded){\r\n");
      out.write("                    if(!this.myEntId){\r\n");
      out.write("                        this.myEntId=window.globalInit.enterpriseId;\r\n");
      out.write("                    }\r\n");
      out.write("                    ajax({\r\n");
      out.write("                        url:'/entEvaluate/listEntEvaluate.htm',\r\n");
      out.write("                        data:{\r\n");
      out.write("                            orderId:item.inquiryId\r\n");
      out.write("                        },\r\n");
      out.write("                        success:function (data) {\r\n");
      out.write("                            console.log(data);\r\n");
      out.write("                            if(data.status==1){\r\n");
      out.write("                                item.commentList=data.data;\r\n");
      out.write("                                item.commentLoaded=true;\r\n");
      out.write("                            }\r\n");
      out.write("                            Vue.set(vue.inquiryList, index, item);\r\n");
      out.write("                        }\r\n");
      out.write("                    });\r\n");
      out.write("                }else{\r\n");
      out.write("                    if(item.commentLoaded){\r\n");
      out.write("                        item.evaluated=true;\r\n");
      out.write("                    }\r\n");
      out.write("                    Vue.set(vue.inquiryList, index, item);\r\n");
      out.write("                }\r\n");
      out.write("            },\r\n");
      out.write("            comment:function (item,index) {\r\n");
      out.write("                var id=item.inquiryId;\r\n");
      out.write("                var name='commentType_'+id;\r\n");
      out.write("                var commentTypeList=$('[name='+name+']');\r\n");
      out.write("                var commentType='';\r\n");
      out.write("                for(var i in commentTypeList){\r\n");
      out.write("                    var commentTypeInput=commentTypeList.eq(i);\r\n");
      out.write("                    if(commentTypeInput.parent().hasClass('is-checked')){\r\n");
      out.write("                        commentType=commentTypeInput.val();\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("                var commentText=$('#commentText_'+id).val();\r\n");
      out.write("                console.log(commentType+' '+commentText);\r\n");
      out.write("                if(!commentType){\r\n");
      out.write("                    $.notify('请选择综合评价',{status:'info',timeout:1000});\r\n");
      out.write("                    return;\r\n");
      out.write("                }\r\n");
      out.write("                if(!commentText){\r\n");
      out.write("                    $.notify('请填写评价描述',{status:'info',timeout:1000});\r\n");
      out.write("                    return;\r\n");
      out.write("                }\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url:'/entEvaluate/addEntEvaluate',\r\n");
      out.write("                    data:{\r\n");
      out.write("                        orderId:id,\r\n");
      out.write("                        score:commentType,\r\n");
      out.write("                        comment:commentText,\r\n");
      out.write("                        evaluatedEntId:item.inquiryEntId,\r\n");
      out.write("                        evaluatedBy:item.releaseEntId\r\n");
      out.write("                    },\r\n");
      out.write("                    success:function (data) {\r\n");
      out.write("                        if(data.status==1&&data.data){\r\n");
      out.write("                            $.notify('评价成功',{status:'success',timeout:1000});\r\n");
      out.write("                            item.evaluated=true;\r\n");
      out.write("                            ajax({\r\n");
      out.write("                                url:'/entEvaluate/listEntEvaluate.htm',\r\n");
      out.write("                                data:{\r\n");
      out.write("                                    orderId:id\r\n");
      out.write("                                },\r\n");
      out.write("                                success:function (data) {\r\n");
      out.write("                                    console.log(data);\r\n");
      out.write("                                    if(data.status==1){\r\n");
      out.write("                                        item.commentList=data.data;\r\n");
      out.write("                                        item.commentLoaded=true;\r\n");
      out.write("                                        Vue.set(vue.inquiryList, index, item);\r\n");
      out.write("                                    }\r\n");
      out.write("                                }\r\n");
      out.write("                            });\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                });\r\n");
      out.write("            },\r\n");
      out.write("            addComment:function (item,index) {\r\n");
      out.write("                item.commentShow=true;\r\n");
      out.write("                item.evaluated=false;\r\n");
      out.write("                Vue.set(vue.inquiryList,index,item);\r\n");
      out.write("            },\r\n");
      out.write("            getInquiryList: function () {\r\n");
      out.write("                this.inquiryList=[];\r\n");
      out.write("                var _this = this;\r\n");
      out.write("                var param = {\r\n");
      out.write("                    releaseId:this.list[this.index]['releaseId'],\r\n");
      out.write("                    pageIndex:this.inquiryIndex,\r\n");
      out.write("                    pageSize:this.inquirySize\r\n");
      out.write("                };\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url: '/entInquiry/listEntInquiryByReleaseId.htm',\r\n");
      out.write("                    dataType: 'json',\r\n");
      out.write("                    data: param,\r\n");
      out.write("                    success: function (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        _this.inquiryLoading = false;\r\n");
      out.write("                        if (result.status == 1 && result.data.inquiryList) {\r\n");
      out.write("                            _this.inquiryList=result.data.inquiryList;\r\n");
      out.write("                            if(result.data.inquiryList.length>0){\r\n");
      out.write("                                var obj={};\r\n");
      out.write("                                var k = 1;\r\n");
      out.write("                                for(var i in _this.inquiryList){\r\n");
      out.write("                                    var item=_this.inquiryList[i];\r\n");
      out.write("                                    var index = ((vue.inquiryIndex-1)*vue.inquirySize+k);\r\n");
      out.write("\r\n");
      out.write("                                    item.index=\"报价\"+index+\":\";\r\n");
      out.write("                                    item.detailIndex = k-1;\r\n");
      out.write("                                    _this.inquiryList[i]['commentShow']=false;\r\n");
      out.write("                                    _this.inquiryList[i]['']='good';\r\n");
      out.write("                                    _this.inquiryList[i]['commentcommentTypeText']='';\r\n");
      out.write("                                    _this.inquiryList[i]['commentLoaded']=false;\r\n");
      out.write("                                    _this.inquiryList[i]['commentList']=[];\r\n");
      out.write("\r\n");
      out.write("                                    if(item.inquiryType=='REFERENCE_PRICE'){\r\n");
      out.write("                                        var inquiryDetail=result.data.inquiryList[i].inquiryDetail;\r\n");
      out.write("                                        inquiryDetail.sort(function (o1,o2) {\r\n");
      out.write("                                            return o1.priceId>o2.priceId?1:-1;\r\n");
      out.write("                                        });\r\n");
      out.write("                                        for(var j in inquiryDetail){\r\n");
      out.write("                                            if(!obj[inquiryDetail[j].priceId]){\r\n");
      out.write("                                                inquiryDetail[j].first=true;\r\n");
      out.write("                                                obj[inquiryDetail[j].priceId]=1;\r\n");
      out.write("                                            }else{\r\n");
      out.write("                                                obj[inquiryDetail[j].priceId]+=1;\r\n");
      out.write("                                            }\r\n");
      out.write("                                        }\r\n");
      out.write("                                        vue.priceIdCountObj=obj;\r\n");
      out.write("                                        vue.systemInquiryList=inquiryDetail;\r\n");
      out.write("                                    }\r\n");
      out.write("                                    k++;\r\n");
      out.write("                                }\r\n");
      out.write("                            }\r\n");
      out.write("                            _this.inquiryTotal=result.data.paging.totalRecord;\r\n");
      out.write("                        } else {\r\n");
      out.write("\r\n");
      out.write("                        }\r\n");
      out.write("                    }\r\n");
      out.write("                })\r\n");
      out.write("            },\r\n");
      out.write("            getActivityList:function(){\r\n");
      out.write("                var _this=this;\r\n");
      out.write("                ajax({\r\n");
      out.write("                    url:'/wasteActivity/listActiviyNameByApplyEntId',\r\n");
      out.write("                    dataType: 'json',\r\n");
      out.write("                    success:function (data) {\r\n");
      out.write("                        var obj={'activityName':'全部',activityId:''};\r\n");
      out.write("                        var defaultObj ={'activityName':'危废处置询价',activityId:'resourcePull'};\r\n");
      out.write("                        var arr=[obj,defaultObj];\r\n");
      out.write("                        arr=arr.concat(data.data);\r\n");
      out.write("                        _this.activityList = arr;\r\n");
      out.write("                    }\r\n");
      out.write("                });\r\n");
      out.write("            },\r\n");
      out.write("            handleSizeChange:function(val) {\r\n");
      out.write("                this.pageIndex=1;\r\n");
      out.write("                this.pageSize = val;\r\n");
      out.write("                this.getList()\r\n");
      out.write("            },\r\n");
      out.write("            handleCurrentChange:function(val) {\r\n");
      out.write("                this.pageIndex = val;\r\n");
      out.write("                this.getList()\r\n");
      out.write("            },\r\n");
      out.write("            handleSizeChange_inquiry:function(val) {\r\n");
      out.write("                this.inquiryIndex=1;\r\n");
      out.write("                this.inquirySize = val;\r\n");
      out.write("                this.getInquiryList();\r\n");
      out.write("            },\r\n");
      out.write("            handleCurrentChange_inquiry:function(val) {\r\n");
      out.write("                this.inquiryIndex = val;\r\n");
      out.write("                this.getInquiryList();\r\n");
      out.write("            },\r\n");
      out.write("            inquiryDetail:function (index) {\r\n");
      out.write("                this.index=index;\r\n");
      out.write("                this.detailShow=true;\r\n");
      out.write("                this.inquiryIndex=1;\r\n");
      out.write("                this.getInquiryList();\r\n");
      out.write("            },\r\n");
      out.write("            activityNameChange:function(){\r\n");
      out.write("                this.pageIndex=1;\r\n");
      out.write("                this.list=[];\r\n");
      out.write("                this.detailShow=false;\r\n");
      out.write("                this.getList();\r\n");
      out.write("            },\r\n");
      out.write("            goBack:function () {\r\n");
      out.write("                this.detailShow=false;\r\n");
      out.write("            },\r\n");
      out.write("            contact:function (entId,inquiryEnterName) {\r\n");
      out.write("                getEnterpriseContacts(entId,inquiryEnterName,'我的询价');\r\n");
      out.write("            },\r\n");
      out.write("            viewActivityDetail:function (activityId) {\r\n");
      out.write("                window.location='");
      out.print(appPath);
      out.write("/main/pc/view/wasteActivityDetail.html?ticketId=");
      out.print(ticketId);
      out.write("&activityId='+activityId;\r\n");
      out.write("            },\r\n");
      out.write("            del:function (releaseId) {\r\n");
      out.write("                vue.$confirm('此操作将撤销该询价, 是否确定?', '提示', {\r\n");
      out.write("                    confirmButtonText: '确定',\r\n");
      out.write("                    cancelButtonText: '取消',\r\n");
      out.write("                    type: 'warning'\r\n");
      out.write("                }).then(function(){\r\n");
      out.write("                    ajax({\r\n");
      out.write("                        url:'/entRelease/deleteWasteEntReleaseByReleaseId.htm?ticketId=");
      out.print(ticketId);
      out.write("',\r\n");
      out.write("                        data:JSON.stringify({\r\n");
      out.write("                            releaseId:releaseId\r\n");
      out.write("                        }),\r\n");
      out.write("                        dataType:'json',\r\n");
      out.write("                        contentType:'application/json',\r\n");
      out.write("                        success:function (data) {\r\n");
      out.write("                            if(data.status==1&&data.data==true){\r\n");
      out.write("                                vue.detailShow=false;\r\n");
      out.write("                                $.notify('删除成功',{status:'success',timeout:2500});\r\n");
      out.write("                                vue.pageIndex=1;\r\n");
      out.write("                                vue.getList();\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    })\r\n");
      out.write("                }).catch(function(){});\r\n");
      out.write("            },\r\n");
      out.write("            close:function (item,index) {\r\n");
      out.write("                var releaseId=item.releaseId;\r\n");
      out.write("                vue.$confirm('如选择完结，系统将不再公开此次询价信息', '提示', {\r\n");
      out.write("                    confirmButtonText: '确定',\r\n");
      out.write("                    cancelButtonText: '取消',\r\n");
      out.write("                    type: 'warning'\r\n");
      out.write("                }).then(function(){\r\n");
      out.write("                    ajax({\r\n");
      out.write("                        url:'/entRelease/endWasteEntReleaseByReleaseId?ticketId=");
      out.print(ticketId);
      out.write("',\r\n");
      out.write("                        data:JSON.stringify({releaseId:releaseId}),\r\n");
      out.write("                        contentType:'application/json',\r\n");
      out.write("                        success:function (result) {\r\n");
      out.write("                            if(result.status==1&&result.data==true){\r\n");
      out.write("                                $.notify('完结成功',{status:'success',timeout:2500});\r\n");
      out.write("                                item.releaseStatus='END';\r\n");
      out.write("                                Vue.set(vue.list,index,item);\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    })\r\n");
      out.write("                }).catch(function(){});\r\n");
      out.write("            },\r\n");
      out.write("            reject:function (item) {\r\n");
      out.write("                vue.$confirm('此操作将拒绝该报价, 是否确定?', '提示', {\r\n");
      out.write("                    confirmButtonText: '确定',\r\n");
      out.write("                    cancelButtonText: '取消',\r\n");
      out.write("                    type: 'warning'\r\n");
      out.write("                }).then(function(){\r\n");
      out.write("                    ajax({\r\n");
      out.write("                        url:'/entInquiry/rejectEntInquiry.htm',\r\n");
      out.write("                        data:{\r\n");
      out.write("                            inquiryId:item.inquiryId,\r\n");
      out.write("                            inquiryEntId:item.inquiryEntId\r\n");
      out.write("                        },\r\n");
      out.write("                        dataType:'json',\r\n");
      out.write("                        success:function (data) {\r\n");
      out.write("                            if(data.status==1&&data.data==true){\r\n");
      out.write("                                $.notify('拒绝成功',{status:'success',timeout:2500});\r\n");
      out.write("                                vue.inquiryIndex=1;\r\n");
      out.write("                                vue.getInquiryList();\r\n");
      out.write("                                collectingUserBehavior(getParam('ticketId'),'RESPONSE');\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    })\r\n");
      out.write("                }).catch(function(){});\r\n");
      out.write("            },\r\n");
      out.write("            confirm:function (item) {\r\n");
      out.write("                var activityId=this.list[this.index].activityId;\r\n");
      out.write("                var releaseId=this.list[this.index].releaseId;\r\n");
      out.write("                var inquiryId=item.inquiryId;\r\n");
      out.write("                var param={\r\n");
      out.write("                    inquiryId:inquiryId,\r\n");
      out.write("                    inquiryEntId:item.inquiryEntId,\r\n");
      out.write("                    disEntId:item.disEntId,\r\n");
      out.write("                    disEntId:item.entDisEntId\r\n");
      out.write("                };\r\n");
      out.write("                if(activityId){\r\n");
      out.write("                    param.activityId=activityId;\r\n");
      out.write("                }\r\n");
      out.write("                if(releaseId){\r\n");
      out.write("                    param.releaseId=releaseId;\r\n");
      out.write("                }\r\n");
      out.write("                vue.$confirm('接受报价会通知报价单位，若不想再接受其它公司报价，请点击“完结”。', '提示', {\r\n");
      out.write("                    confirmButtonText: '确定',\r\n");
      out.write("                    cancelButtonText: '完结',\r\n");
      out.write("                    type: 'warning'}\r\n");
      out.write("                ).then(\r\n");
      out.write("                    function(){\r\n");
      out.write("                        ajax({\r\n");
      out.write("                            url:'/entInquiry/confirmEntInquiry.htm',\r\n");
      out.write("                            data:param,\r\n");
      out.write("                            dataType:'json',\r\n");
      out.write("                            success:function (data) {\r\n");
      out.write("                                if(data.status==1&&data.data==true){\r\n");
      out.write("                                    $.notify('确认成功,已形成新的订单',{status:'success',timeout:2500});\r\n");
      out.write("                                    vue.inquiryIndex=1;\r\n");
      out.write("                                    vue.getInquiryList();\r\n");
      out.write("                                    collectingUserBehavior(getParam('ticketId'),'RESPONSE');\r\n");
      out.write("                                }\r\n");
      out.write("                            }\r\n");
      out.write("                        })\r\n");
      out.write("                    }\r\n");
      out.write("                ).catch(function(){\r\n");
      out.write("                    ajax({\r\n");
      out.write("                        url:'/entInquiry/confirmEntInquiry.htm',\r\n");
      out.write("                        data:param,\r\n");
      out.write("                        dataType:'json',\r\n");
      out.write("                        success:function (data) {\r\n");
      out.write("                            if(data.status==1&&data.data==true){\r\n");
      out.write("                                $.ajax({\r\n");
      out.write("                                    url:'/swp/entRelease/endWasteEntReleaseByReleaseId?ticketId=");
      out.print(ticketId);
      out.write("',\r\n");
      out.write("                                    data:JSON.stringify({releaseId:releaseId}),\r\n");
      out.write("                                    contentType:'application/json',\r\n");
      out.write("                                    type:'post',\r\n");
      out.write("                                    dataType:'json',\r\n");
      out.write("                                    success:function (result) {\r\n");
      out.write("                                        if(result.status==1&&result.data==true){\r\n");
      out.write("                                            vue.list[vue.index].releaseStatus='END';\r\n");
      out.write("                                            Vue.set(vue.list,vue.index,vue.list[vue.index]);\r\n");
      out.write("                                            $.notify('确认成功,已形成新的订单',{status:'success',timeout:2500});\r\n");
      out.write("                                            vue.inquiryIndex=1;\r\n");
      out.write("                                            vue.getInquiryList();\r\n");
      out.write("                                            collectingUserBehavior(getParam('ticketId'),'RESPONSE');\r\n");
      out.write("                                            getInquiryCount();\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("                                })\r\n");
      out.write("                            }\r\n");
      out.write("                        }\r\n");
      out.write("                    })\r\n");
      out.write("                })\r\n");
      out.write("            },\r\n");
      out.write("            entDetail:function (entId,inquiryEnterType) {\r\n");
      out.write("                if(inquiryEnterType=='FACILITATOR'){\r\n");
      out.write("                    window.location = \"");
      out.print(appPath);
      out.write("/enterprise/facilitatorDetail.htm?ticketId=");
      out.print(ticketId);
      out.write("&enterpriseId=\" + entId + \"&breadcrumbName=我的询价\";\r\n");
      out.write("                }else{\r\n");
      out.write("                    window.location = \"");
      out.print(appPath);
      out.write("/enterprise/czDetail.htm?ticketId=");
      out.print(ticketId);
      out.write("&enterpriseId=\" + entId + \"&breadcrumbName=我的询价\";\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("    })\r\n");
      out.write("</script>\r\n");
      out.write('\r');
      out.write('\n');
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/common/webCommon/bottom.jsp", out, true);
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("    $(document).ready(function() {\r\n");
      out.write("        var rs = window.globalInit();\r\n");
      out.write("        rs.done(function () {\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("</script>\r\n");
      out.write("</body>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
